(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[2154],{74172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(72296),r=n(83946),o=n(90263),s=n(14413),l=n.n(s),d=n(37012);const c=new r.F({html:!1,breaks:!0,typographer:!1,linkTarget:"_blank"}).use(o.B);function a(e){let{content:t}=e;const n=(0,i.useMemo)((()=>{const e=t;return c.render(e)}),[t]);return(0,i.useEffect)((()=>{var e,t;null===(e=document)||void 0===e||null===(t=e.querySelector(".markdown-body"))||void 0===t||t.querySelectorAll("pre>code").forEach((e=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.add("rounded-lg");const n=document.createElement("a"),i=document.createElement("i");i.classList.add("copy"),i.classList.add("text-skin-text"),i.classList.add("iconcopy"),i.classList.add("iconfont"),n.appendChild(i),n.addEventListener("click",(()=>{const t=e.innerText.trim();l()(t)})),e.appendChild(n)}))}),[]),(0,d.jsx)("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:n}})}},49147:(e,t,n)=>{"use strict";n.d(t,{uO:()=>v,$$:()=>m,Zg:()=>g});var i=n(54711),r=n(72296),o=n(77500),s=n(1054),l=n(27895),d=n(86100);function c(e){const[t,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!e||new l.A(String(e)).isLessThan(0))return;let t;return t=window.setInterval((()=>{n((0,d.hJ)(Number(e)))}),1e3),()=>{clearInterval(t),t=void 0}}),[e]),(0,r.useMemo)((()=>t),[t])}var a=n(11967);let u=function(e){return e.ACTIVE="ACTIVE",e.PENDING="PENDING",e.CLOSED="CLOSED",e}({});const x={[u.ACTIVE]:"Active",[u.PENDING]:"Pending",[u.CLOSED]:"Closed"};(0,a.$4)(a.hT.VOTE);var h=n(53922),f=n(37012);function p(){return(0,f.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M7.98281 1.625C4.45937 1.625 1.60156 4.48125 1.60156 8.00625C1.60156 11.5297 4.45781 14.3875 7.98281 14.3875C11.5062 14.3875 14.3641 11.5312 14.3641 8.00625C14.3641 4.48281 11.5078 1.625 7.98281 1.625ZM11.5734 6.48281L7.80937 10.2469C7.70937 10.3469 7.57969 10.3953 7.45 10.3953C7.32031 10.3953 7.18906 10.3469 7.09062 10.2469L4.94219 8.1C4.74375 7.90156 4.74375 7.58125 4.94219 7.38281C5.14062 7.18437 5.46094 7.18437 5.65937 7.38281L7.44844 9.17187L10.8547 5.76562C11.0531 5.56719 11.3734 5.56719 11.5719 5.76562C11.7719 5.96406 11.7719 6.28594 11.5734 6.48281Z",fill:"#54C081"})})}function v(e){let{state:t}=e;return(0,f.jsx)(o.A,{sx:{width:"64px",height:"26px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"15px",background:t===u.ACTIVE?"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)":t===u.CLOSED?"#565F80":"#54C081"},children:t?(0,f.jsx)(s.A,{color:"text.primary",component:"span",fontSize:"12px",children:x[t]}):null})}function g(e){const t=null!==e&&void 0!==e&&e.beginTime?(0,h.yG)(null===e||void 0===e?void 0:e.beginTime)>(new Date).getTime():void 0,n=c(void 0!==t?t?null!==e&&void 0!==e&&e.beginTime?(0,h.yG)(null===e||void 0===e?void 0:e.beginTime):void 0:null!==e&&void 0!==e&&e.endTime?(0,h.yG)(null===e||void 0===e?void 0:e.endTime):void 0:void 0);return(0,r.useMemo)((()=>{if(!e)return;const t=(new Date).getTime();return(0,h.yG)(e.endTime)<t?u.CLOSED:(0,h.yG)(e.endTime)>t&&(0,h.yG)(e.beginTime)<t?u.ACTIVE:u.PENDING}),[e,n])}function m(e){let{proposal:t}=e;const n=null!==t&&void 0!==t&&t.beginTime?(0,h.yG)(null===t||void 0===t?void 0:t.beginTime)>(new Date).getTime():void 0,l=c(void 0!==n?n?null!==t&&void 0!==t&&t.beginTime?(0,h.yG)(null===t||void 0===t?void 0:t.beginTime):void 0:null!==t&&void 0!==t&&t.endTime?(0,h.yG)(null===t||void 0===t?void 0:t.endTime):void 0:void 0),d=g(t),a=(0,r.useMemo)((()=>t?t.options.reduce(((e,t)=>({k:"",v:t.v+e.v})),{k:"initialValue",v:BigInt(0)}).v:BigInt(0)),[t]);return l?(0,f.jsxs)(o.A,{component:"span",sx:{border:d===u.CLOSED?"1px solid #54C081":"1px solid #365E32",padding:"4px 10px",borderRadius:"16px",display:"flex",alignItems:"center",width:"fit-content"},children:[d===u.CLOSED?(0,f.jsx)(p,{}):null,(0,f.jsx)(s.A,{fontSize:"12px",component:"span",sx:{marginLeft:d===u.CLOSED?"5px":0},children:d===u.ACTIVE?i.Ru._({id:"8u0Mrh",values:{0:null===l||void 0===l?void 0:l.hour,1:null===l||void 0===l?void 0:l.min,2:null===l||void 0===l?void 0:l.sec}}):d===u.PENDING?i.Ru._({id:"47/S5c",values:{0:null===l||void 0===l?void 0:l.hour,1:null===l||void 0===l?void 0:l.min,2:null===l||void 0===l?void 0:l.sec}}):i.Ru._({id:"WO4eRQ",values:{0:String(a)}})})]}):null}},22154:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Y});var i=n(3481),r=n(72296),o=n(27312),s=n(7535),l=n(77500),d=n(33441),c=n(29160),a=n(1054),u=n(92213),x=n(69770),h=n(50972),f=n(1261),p=n(21629),v=n(72794),g=n(11871),m=n(49147),y=n(54711),j=n(12288),A=n(62474),b=n(61361),S=n(55484),k=n(84076),w=n(25234);var C=n(16443),$=n(27895),I=n(17471),M=n(37012);function D(e){let{open:t,onClose:n,onConfirm:r,optionLabel:o,powers:s,noPower:c}=e;const u=(0,x.A)();return(0,M.jsxs)(I.A,{open:t,onClose:n,showConfirm:!0,showCancel:!0,confirmDisabled:c,onConfirm:r,onCancel:n,confirmText:c?(0,M.jsx)(i.x6,{id:"rSzOom"}):(0,M.jsx)(i.x6,{id:"lQXQKs"}),children:[(0,M.jsx)(d.Ay,{container:!0,alignItems:"center",justifyContent:"center",children:(0,M.jsx)(a.A,{fontSize:"20px",fontWeight:700,sx:{maxWidth:"420px",lineHeight:"28px",padding:"20px 0 0 0"},color:"text.primary",align:"center",children:(0,M.jsx)(i.x6,{id:"AWd8u0"})})}),(0,M.jsxs)(l.A,{sx:{border:"1px solid ".concat(u.palette.background.level3),borderRadius:"12px",marginTop:"40px",padding:"32px 16px"},children:[(0,M.jsxs)(d.Ay,{container:!0,children:[(0,M.jsx)(d.Ay,{item:!0,xs:!0,children:(0,M.jsx)(a.A,{fontWeight:600,children:(0,M.jsx)(i.x6,{id:"0zpgxV"})})}),(0,M.jsx)(a.A,{color:"text.primary",children:o})]}),(0,M.jsxs)(d.Ay,{container:!0,sx:{marginTop:"24px"},children:[(0,M.jsx)(d.Ay,{item:!0,xs:!0,children:(0,M.jsx)(a.A,{fontWeight:600,children:(0,M.jsx)(i.x6,{id:"9q+I38"})})}),(0,M.jsxs)(a.A,{color:"text.primary",children:[String(null!==s&&void 0!==s?s:BigInt(0))," Votes"]})]})]})]})}function T(e){let{proposal:t,onVoteSuccess:n}=e;const[o]=(0,S.I5)(),[s]=(0,S.dX)(),d=(0,C.F7)(),[c,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[v,g]=(0,r.useState)(!1),m=(null===t||void 0===t?void 0:t.state)===BigInt(3),{result:$}=function(e,t,n,i,o,s){const{result:l,loading:d}=(0,w.uD)(e,t,n,i,o,s);return(0,r.useMemo)((()=>{var e,t;const{content:n}=null!==l&&void 0!==l?l:{content:[]},i=null!==(e=null===(t=n[0])||void 0===t?void 0:t.availablePowers)&&void 0!==e?e:BigInt(0);return{loading:d,result:i}}),[d,l])}(t.storageCanisterId,t.id,d,0,10,v),I=$===BigInt(0)||!$;return(0,M.jsxs)(l.A,{children:[t.options.map(((e,t)=>(0,M.jsx)(l.A,{sx:{border:"1px solid #4F5A84",borderRadius:"8px",display:"flex",alignItems:"center",height:"48px",justifyContent:"center",cursor:"pointer",marginBottom:"20px","&:hover":{border:"1px solid #365E32"},"&.active":{border:"1px solid #365E32"}},onClick:()=>h(e.k),className:"".concat(x===e.k?"active":""),children:(0,M.jsx)(a.A,{color:"text.primary",fontWeight:"500",align:"center",children:e.k})},"".concat(e.k,"-").concat(t)))),(0,M.jsx)(b.A,{fullWidth:!0,size:"large",variant:"contained",onClick:()=>u(!0),disabled:f||!x||m,loading:f,children:m?(0,M.jsx)(i.x6,{id:"D87pha"}):(0,M.jsx)(i.x6,{id:"lQXQKs"})}),c?(0,M.jsx)(A.A,{onSubmit:async(e,i)=>{let{loading:r}=i;if(r||I||!$||!x)return;p(!0),u(!1);const{status:l,message:d}=await(0,w.Gh)(e,t.storageCanisterId,t.id,x,Number($));var c;l===j.i.OK?(o(y.Ru._({id:"dtOfSF"})),h(null),n(),g(!v)):s(null!==(c=(0,k.If)(d))&&void 0!==c?c:y.Ru._({id:"u2X2XT"}));p(!1)},children:e=>{let{submit:t}=e;return(0,M.jsx)(D,{open:c,onClose:()=>u(!1),onConfirm:t,optionLabel:x,powers:$,noPower:I})}}):null]})}function O(e){let{proposal:t}=e;const{result:n}=(0,w.bX)(t.storageCanisterId,t.id),o=(0,x.A)(),s=(0,r.useMemo)((()=>null===n||void 0===n?void 0:n.options.reduce(((e,t)=>({k:"",v:t.v+e.v})),{k:"initialValue",v:BigInt(0)}).v),[n]);return(0,M.jsx)(l.A,{children:t.options.map(((e,t)=>{var r,c;const u=null===n||void 0===n?void 0:n.options.find((t=>t.k===e.k)),x=0===Number(s)?new $.A(0):s&&null!==u&&void 0!==u&&u.v?new $.A(String(null!==(r=null===u||void 0===u?void 0:u.v)&&void 0!==r?r:0)).dividedBy(String(null!==s&&void 0!==s?s:0)).multipliedBy(100):new $.A(0);return(0,M.jsxs)(l.A,{sx:{marginBottom:"40px","&:last-child":{marginBottom:"0px"}},children:[(0,M.jsxs)(d.Ay,{container:!0,children:[(0,M.jsxs)(d.Ay,{item:!0,xs:!0,children:[(0,M.jsx)(a.A,{fontSize:12,component:"span",children:e.k}),(0,M.jsxs)(a.A,{fontSize:12,sx:{marginLeft:"5px"},component:"span",children:[x.toFixed(2),"%"]})]}),(0,M.jsx)(a.A,{fontSize:12,children:(0,M.jsx)(i.x6,{id:"WO4eRQ",values:{0:new $.A(String(null!==(c=null===u||void 0===u?void 0:u.v)&&void 0!==c?c:0)).toFormat()}})})]}),(0,M.jsx)(l.A,{sx:{background:o.palette.background.level4,height:"10px",borderRadius:"4px",marginTop:"8px",position:"relative"},children:(0,M.jsx)(l.A,{sx:{position:"absolute",top:0,left:0,height:"10px",background:"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)",width:"".concat(x.toFixed(2),"%"),borderRadius:"4px"}})})]},"".concat(e.k,"-").concat(t))}))})}var P=n(67982),_=n(53922),E=n(33664);function L(e,t,n){return(0,r.useCallback)((async()=>{var i;const r=async(t,n)=>await e(t,n).then((e=>null!==e&&void 0!==e&&e.content&&(null===e||void 0===e?void 0:e.content.length)>0?e.content:[])),o=async e=>{let t=[];Object.keys(e).forEach((n=>{t=t.concat(e[n])})),n(t)},{totalElements:s,content:l}=null!==(i=await e(0,t))&&void 0!==i?i:{totalElements:0,content:[]};if(Number(s)<=t)n(l);else if(0!==Number(s)){const e=0===Number(s)%t?Number(s)/t:parseInt(String(Number(s)/t))+1,n={0:l};for(let i=1;i<e;i++){const[s]=(0,P.g)(i+1,t);e%80===0&&await(0,E.y)(2e3);const l=()=>{r(s,t).then((async t=>{t&&t.length>0&&(n["".concat(i+1)]=t,console.log("%cFetch ".concat(Object.keys(n).length,", total: ").concat(e,", rest: ").concat(e-Object.keys(n).length),"color: #5669dc"),Object.keys(n).length===e&&await o(n))})).catch((()=>{console.log("%cRetry fetch page ".concat(i),"color: #F2994A"),l()}))};l()}}else n([])}),[e,t,n])}var B=n(94570),z=n.n(B),N=n(61868);function W(){return(0,M.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("path",{d:"M16 0H0V16H16V0Z",fill:"white",fillOpacity:"0.01"}),(0,M.jsx)("path",{d:"M3 8.00231V13H13V8",stroke:"#111936",strokeLinecap:"round",strokeLinejoin:"round"}),(0,M.jsx)("path",{d:"M10.5 7.72266L8 10.2227L5.5 7.72266",stroke:"#111936",strokeLinecap:"round",strokeLinejoin:"round"}),(0,M.jsx)("path",{d:"M7.99609 3V10.2222",stroke:"#111936",strokeLinecap:"round",strokeLinejoin:"round"})]})}function R(e){let{canisterId:t,id:n}=e;const o=(0,x.A)(),[s,c]=(0,r.useState)(BigInt(0)),[f,p]=(0,r.useState)([]),[v,m]=(0,r.useState)(!1),[y,j]=(0,r.useState)({pageNum:1,pageSize:10});(0,r.useEffect)((()=>{if(!n)return;const[e]=(0,P.g)(y.pageNum,y.pageSize);(async()=>{m(!0);const i=await(0,w.l)(t,n,e,y.pageSize);m(!1);const{content:r,totalElements:o}=null!==i&&void 0!==i?i:{totalElements:BigInt(0),content:[]};c(o),p(r)})()}),[n,t]);const[A,b]=function(e,t,n){const[i,o]=(0,r.useState)(!1),s=(0,r.useCallback)((async(n,i)=>await(0,w.l)(e,t,n,i)),[]),l=L(s,null!==n&&void 0!==n?n:1e3,(e=>{const n=e.map((e=>({Timestamp:z()((0,_.yG)(e.voteTime)).format("YYYY-MM-DD HH:mm:ss"),Address:(0,h.cH)(e.address).toString(),Power:String(e.usedProof),Value:e.options[0].k})));(0,N.B)(n,"".concat(t,"_proposal_votes"),"Votes"),o(!1)}));return(0,r.useMemo)((()=>[i,()=>{o(!0),l()}]),[i,l,o])}(t,n);return(0,M.jsxs)(g.Am,{children:[(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",children:[(0,M.jsx)(d.Ay,{item:!0,xs:!0,children:(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",children:[(0,M.jsx)(a.A,{color:"text.primary",fontWeight:"500",children:(0,M.jsx)(i.x6,{id:"PByO0X"})}),(0,M.jsx)(l.A,{sx:{marginLeft:"6px",borderRadius:"9999px",background:"#111936",padding:"4px",minWidth:"16px",height:"16px",display:"flex",width:"fix-content",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(a.A,{color:"text.primary",fontWeight:"500",fontSize:12,children:String(s)})})]})}),(0,M.jsx)(d.Ay,{children:(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",sx:{cursor:"pointer"},onClick:b,children:[A?(0,M.jsx)(u.A,{sx:{color:"#111936"},size:"16px"}):(0,M.jsx)(W,{}),(0,M.jsx)(a.A,{sx:{marginLeft:"8px"},children:(0,M.jsx)(i.x6,{id:"mzI/c+"})})]})})]}),(0,M.jsx)(l.A,{mt:"20px",children:(0,M.jsxs)(l.A,{sx:{maxHeight:"350px",overflow:"auto"},children:[(0,M.jsxs)(l.A,{sx:{display:"grid",gridTemplateColumns:"minmax(150px, 1fr) minmax(350px, 2.5fr) minmax(150px, 1fr) minmax(150px, 1fr)",height:"60px",alignItems:"center",borderBottom:"1px solid ".concat(o.palette.background.level4)},children:[(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"OogrOF"})})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"Du6bPw"})})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"ZRNHzg"})})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"FhhlcQ"})})})]}),f.map(((e,t)=>(0,M.jsxs)(l.A,{sx:{display:"grid",gridTemplateColumns:"minmax(150px, 1fr) minmax(350px, 2.5fr) minmax(150px, 1fr) minmax(150px, 1fr)",height:"60px",alignItems:"center",borderBottom:"1px solid ".concat(o.palette.background.level4)},children:[(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,_.sZ)(e.voteTime)})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"95%"},children:(0,h.cH)(e.address).toString()})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:e.options[0].k})}),(0,M.jsx)(l.A,{children:(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"WO4eRQ",values:{0:e.usedProof}})})})]},"".concat(String(e.voteTime),"-").concat(t)))),f.length>=Number(s)?null:(0,M.jsx)(d.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:"60px",borderBottom:"1px solid ".concat(o.palette.background.level4),cursor:"pointer"},onClick:async()=>{const[e]=(0,P.g)(y.pageNum+1,y.pageSize);j({pageNum:y.pageNum+1,pageSize:y.pageSize}),m(!0);const i=await(0,w.l)(t,n,e,y.pageSize);m(!1);const{content:r,totalElements:o}=null!==i&&void 0!==i?i:{totalElements:BigInt(0),content:[]};c(o),p([...f,...r])},children:v?(0,M.jsx)(u.A,{size:22}):(0,M.jsx)(a.A,{children:(0,M.jsx)(i.x6,{id:"V1fa9u"})})}),v?(0,M.jsx)(g.DN,{loading:v}):null,0!==f.length||v?null:(0,M.jsx)(g.YQ,{})]})})]})}var H=n(74172);function V(e){let{open:t,onClose:n,proposalId:i,canisterId:r,onSuccess:o}=e;const[s,l]=(0,S.cO)();return(0,M.jsx)(A.A,{onSubmit:async(e,t)=>{let{loading:d,closeLoading:c}=t;if(!e||d)return;const a=s(y.Ru._({id:"VqGP+o"}),S.lA.loading);n();const{status:u,message:x}=await(0,w.fI)(e,r,i);u===j.i.OK?(s(y.Ru._({id:"VvF0/J"}),S.lA.success),o&&o()):s(null!==x&&void 0!==x?x:y.Ru._({id:"JKMsBy"}),j.i.ERROR),c(),l(a)},children:e=>{let{submit:i,loading:r}=e;return(0,M.jsx)(g.aF,{open:t,onClose:n,title:y.Ru._({id:"JHd2uE"}),onConfirm:i,onCancel:n,showCancel:!0,showConfirm:!0,confirmDisabled:r,children:(0,M.jsx)(d.Ay,{container:!0,alignItems:"center",justifyContent:"center",children:(0,M.jsx)(a.A,{fontSize:"14px",sx:{maxWidth:"420px",lineHeight:"28px"},color:"text.primary",align:"center",children:y.Ru._({id:"pQI2hu"})})})})}})}function Y(){var e,t,n;const y=(0,C.F7)(),j=(0,x.A)(),A=(0,o.W6)(),{id:b,canisterId:S}=(0,o.g)(),k=(0,r.useRef)(null),[$,I]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[_,E]=(0,r.useState)(!1),{result:B}=(0,w.bX)(S,b,$),z=(0,r.useMemo)((()=>{if(!B||!y)return!1;const e=(0,h.cH)(B.createAddress);return(0,f.H)(e)?(0,p.l)(e.toString())===y:e===y}),[B,y]),W=(0,m.Zg)(B),Y=(null!==(e=k.current)&&void 0!==e&&e.clientHeight?null===(t=k.current)||void 0===t?void 0:t.clientHeight:0)>400,[G,F]=function(e,t,n){const[i,o]=(0,r.useState)(!1),s=(0,r.useCallback)((async(n,i)=>{if(e)return await(0,w.Xn)(e,t,void 0,n,i)}),[e]),l=L(s,null!==n&&void 0!==n?n:1e3,(e=>{const n=e.map((e=>({Address:(0,h.cH)(e.address).toString(),Votes:String(e.availablePowers),usedVotes:String(e.usedPowers)})));(0,N.B)(n,"".concat(t,"_proposal_powers"),"Powers"),o(!1)}));return(0,r.useMemo)((()=>[i,()=>{o(!0),e&&l()}]),[i,l,o,e])}(null===B||void 0===B?void 0:B.storageCanisterId,b),Z=(0,s.A)(j.breakpoints.down("sm"));return(0,M.jsxs)(g.mO,{children:[(0,M.jsx)(g.BI,{prevLink:"/voting/".concat(S),prevLabel:(0,M.jsx)(i.x6,{id:"6g1gi0"}),currentLabel:(0,M.jsx)(i.x6,{id:"URmyfc"})}),(0,M.jsx)(l.A,{mt:"25px",children:(0,M.jsxs)(g.Am,{children:[(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",children:[(0,M.jsx)(d.Ay,{item:!0,xs:!0,children:(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",children:[(0,M.jsx)(c.A,{src:null===B||void 0===B?void 0:B.project.logo,sx:{marginRight:"12px"},children:"\xa0"}),(0,M.jsx)(a.A,{color:"secondary",fontSize:"18px",children:null===B||void 0===B?void 0:B.project.name})]})}),(0,M.jsx)(m.uO,{state:W})]}),(0,M.jsx)(a.A,{color:"text.primary",fontWeight:500,fontSize:"18px",sx:{marginTop:"20px"},children:null===B||void 0===B?void 0:B.title}),(0,M.jsx)(l.A,{mt:"10px",children:(0,M.jsxs)(d.Ay,{container:!0,alignItems:"center",sx:{gap:"10px"},children:[(0,M.jsx)(m.$$,{proposal:B}),(0,M.jsx)(l.A,{sx:{border:"1px solid #365E32",padding:"4px 10px",borderRadius:"16px",display:"flex",alignItems:"center",width:"fit-content"},children:(0,M.jsxs)(a.A,{fontSize:"12px",children:[(0,M.jsx)(i.x6,{id:"y2aRC+"}),(0,v.m)(null!==(n=null===B||void 0===B?void 0:B.createUser)&&void 0!==n?n:"",8)]})}),(0,M.jsxs)(l.A,{sx:{background:"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)",padding:"4px 10px",borderRadius:"16px",display:"flex",alignItems:"center",width:"fit-content",cursor:"pointer"},onClick:F,children:[G?(0,M.jsx)(u.A,{size:"14px",sx:{color:"#ffffff",marginRight:"5px"}}):null,(0,M.jsx)(a.A,{fontSize:"12px",color:"text.primary",children:(0,M.jsx)(i.x6,{id:"bbEHZZ"})})]}),z?(0,M.jsx)(l.A,{sx:{background:"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)",padding:"4px 10px",borderRadius:"16px",display:"flex",alignItems:"center",width:"fit-content",cursor:"pointer"},onClick:()=>E(!0),children:(0,M.jsx)(a.A,{fontSize:"12px",color:"text.primary",children:(0,M.jsx)(i.x6,{id:"VqGP+o"})})}):null]})}),null!==B&&void 0!==B&&B.content?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(l.A,{mt:"20px",sx:{...Y&&!D?{height:"400px"}:{},overflow:"hidden"},children:(0,M.jsx)(l.A,{ref:k,children:(0,M.jsx)(H.A,{content:null===B||void 0===B?void 0:B.content})})}),Y?(0,M.jsx)(l.A,{sx:{marginTop:"16px",border:"1px solid #4F5A84",borderRadius:"23px",padding:"0 20px",width:"fit-content",display:"flex",alignItems:"center",height:"40px",cursor:"pointer"},onClick:()=>{P(!D)},children:(0,M.jsx)(a.A,{fontSize:"16px",color:"text.primary",children:D?(0,M.jsx)(i.x6,{id:"6lGV3K"}):(0,M.jsx)(i.x6,{id:"fMPkxb"})})}):null]}):null]})}),(0,M.jsxs)(l.A,{mt:"20px",sx:{display:"grid",gridTemplateColumns:Z?"1fr":"1fr 1fr",gap:Z?"20px 0":"0 20px"},children:[(0,M.jsxs)(g.Am,{children:[(0,M.jsx)(a.A,{color:"text.primary",fontWeight:"500",sx:{marginBottom:"20px"},children:(0,M.jsx)(i.x6,{id:"gxV9O8"})}),B?(0,M.jsx)(T,{proposal:B,onVoteSuccess:()=>{I(!$)}}):null]}),(0,M.jsxs)(g.Am,{children:[(0,M.jsx)(a.A,{color:"text.primary",fontWeight:"500",sx:{marginBottom:"20px"},children:(0,M.jsx)(i.x6,{id:"NBLhYd"})}),B?(0,M.jsx)(O,{proposal:B}):null]})]}),B?(0,M.jsx)(l.A,{mt:"20px",children:(0,M.jsx)(R,{canisterId:B.storageCanisterId,id:b})}):null,(0,M.jsx)(V,{open:_,onClose:()=>E(!1),canisterId:S,proposalId:b,onSuccess:()=>{A.push("/voting/".concat(S))}})]})}},94570:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",s="hour",l="day",d="week",c="month",a="quarter",u="year",x="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,s=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:d,d:l,D:x,h:s,m:o,s:r,ms:i,Q:a}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",j={};j[y]=v;var A="$isDayjsObject",b=function(e){return e instanceof C||!(!e||!e[A])},S=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();j[o]&&(r=o),n&&(j[o]=n,r=o);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var l=t.name;j[l]=t,r=l}return!i&&r&&(y=r),r||!i&&y},k=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},w=m;w.l=S,w.i=b,w.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function v(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[A]=!0}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return w},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!w.u(t)||t,a=w.p(e),h=function(e,t){var r=w.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(l)},f=function(e,t){return w.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(a){case u:return i?h(1,0):h(31,11);case c:return i?h(1,v):h(0,v+1);case d:var y=this.$locale().weekStart||0,j=(p<y?p+7:p)-y;return h(i?g-j:g+(6-j),v);case l:case x:return f(m+"Hours",0);case s:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,d=w.p(e),a="set"+(this.$u?"UTC":""),h=(n={},n[l]=a+"Date",n[x]=a+"Date",n[c]=a+"Month",n[u]=a+"FullYear",n[s]=a+"Hours",n[o]=a+"Minutes",n[r]=a+"Seconds",n[i]=a+"Milliseconds",n)[d],f=d===l?this.$D+(t-this.$W):t;if(d===c||d===u){var p=this.clone().set(x,1);p.$d[h](f),p.init(),this.$d=p.set(x,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[w.p(e)]()},g.add=function(i,a){var x,h=this;i=Number(i);var f=w.p(a),p=function(e){var t=k(h);return w.w(t.date(t.date()+Math.round(e*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===u)return this.set(u,this.$y+i);if(f===l)return p(1);if(f===d)return p(7);var v=(x={},x[o]=t,x[s]=n,x[r]=e,x)[f]||1,g=this.$d.getTime()+i*v;return w.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),o=this.$H,s=this.$m,l=this.$M,d=n.weekdays,c=n.months,a=n.meridiem,u=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},x=function(e){return w.s(o%12||12,e,"0")},f=a||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return l+1;case"MM":return w.s(l+1,2,"0");case"MMM":return u(n.monthsShort,l,c,3);case"MMMM":return u(c,l);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,d,2);case"ddd":return u(n.weekdaysShort,t.$W,d,3);case"dddd":return d[t.$W];case"H":return String(o);case"HH":return w.s(o,2,"0");case"h":return x(1);case"hh":return x(2);case"a":return f(o,s,!0);case"A":return f(o,s,!1);case"m":return String(s);case"mm":return w.s(s,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,x,h){var f,p=this,v=w.p(x),g=k(i),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,j=function(){return w.m(p,g)};switch(v){case u:f=j()/12;break;case c:f=j();break;case a:f=j()/3;break;case d:f=(y-m)/6048e5;break;case l:f=(y-m)/864e5;break;case s:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:w.a(f)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return j[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=S(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return w.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),$=C.prototype;return k.prototype=$,[["$ms",i],["$s",r],["$m",o],["$H",s],["$W",l],["$M",c],["$y",u],["$D",x]].forEach((function(e){$[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,C,k),e.$i=!0),k},k.locale=S,k.isDayjs=b,k.unix=function(e){return k(1e3*e)},k.en=j[y],k.Ls=j,k.p={},k}()},25234:(e,t,n)=>{"use strict";n.d(t,{AA:()=>w,An:()=>$,Cz:()=>x,Gh:()=>m,UN:()=>k,Uu:()=>S,W8:()=>g,Xn:()=>j,_8:()=>h,bX:()=>p,fI:()=>f,l:()=>y,lH:()=>v,lT:()=>C,mQ:()=>b,uD:()=>A,vG:()=>a,xo:()=>u});var i=n(72296),r=n(20361),o=n(26462),s=n(93172),l=n(59155),d=n(2777),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{d(i.next(e))}catch(t){o(t)}}function l(e){try{d(i.throw(e))}catch(t){o(t)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}d((i=i.apply(e,t||[])).next())}))};function a(e,t){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.AW)(e)).create(t))}))}function u(e,t){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if((0,o.W)(e,t))return yield function(e,t){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.AW)()).findProjectPage(BigInt(e),BigInt(t))).data}))}(e,t)}))),[e,t]))}function x(e){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if(e)return yield function(e){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).getProject()).data}))}(e)}))),[e]))}function h(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).create(n))}))}function f(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).deleteProposal(n))}))}function p(e,t,n){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if(e&&t)return yield function(e,t){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).getProposal(t)).data}))}(e,t)}))),[t,e]),n)}function v(e,t,n,a,u){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if(e&&(0,o.W)(a,u))return yield function(e,t,n,i,o){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).findPage((0,s.E)(t),(0,s.E)(n||0===n?BigInt(n):void 0),BigInt(i),BigInt(o))).data}))}(e,t,n,a,u)}))),[e,t,n,a,u]))}function g(e,t,n,i){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).setVotePower(n,i))}))}function m(e,t,n,i,o){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).vote(n,i,BigInt(o)))}))}function y(e,t,n,i){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).findRecordPage(t,BigInt(n),BigInt(i))).data}))}function j(e,t,n,i,o){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).findVotePower((0,s.E)(t),(0,s.E)(n),BigInt(i),BigInt(o))).data}))}function A(e,t,n,r,s,d){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if(e&&(0,o.W)(r,s))return yield j(e,t,n,r,s)}))),[e,n,t,r,s]),d)}function b(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).addAdmin(n))}))}function S(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(t,e)).deleteAdmin(n))}))}function k(e,t,n,s){return(0,l.Pz)((0,i.useCallback)((()=>c(this,void 0,void 0,(function*(){if(e&&(0,o.W)(t,n))return yield function(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.pv)(e)).getAdminList(BigInt(t),BigInt(n))).data}))}(e,t,n)}))),[e,t,n]),s)}function w(e,t,n){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.__)(t,e)).create_batch(n))}))}function C(e,t,n,i){return c(this,void 0,void 0,(function*(){return(0,r.Pk)(yield(yield(0,d.__)(t,e)).create_chunk(n,i))}))}function $(e,t,n,i){return c(this,void 0,void 0,(function*(){const o=yield(yield(0,d.__)(t,e)).commit_batch(n,i);return(0,r.Pk)(void 0===o)}))}},53922:(e,t,n)=>{"use strict";n.d(t,{St:()=>s,sZ:()=>l,yG:()=>o});var i=n(94570),r=n.n(i);function o(e){return Number(BigInt(e)/BigInt(1e6))}function s(e){return Number(BigInt(e)*BigInt(1e6))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"";const n=Number(String(e).substr(0,13));return r()(n).format(t)}},61868:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(19404);function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Sheet";const r=i.Wp.json_to_sheet(e),o=i.Wp.book_new();i.Wp.book_append_sheet(o,r,n),(0,i._h)(o,"".concat(t,".xlsx"))}}}]);
//# sourceMappingURL=2154.6b986690.chunk.js.map