{"version":3,"file":"static/js/190.6d05bae5.chunk.js","mappings":"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","sources":["components/CurrencyAvatar/index.tsx","components/swap/PositionRangeState.tsx","components/swap/SwapUIWrapper.tsx","hooks/swap/usePosition.ts","hooks/swap/usePositionFees.ts","components/swap/LiquidityPoolIntro.tsx","components/CurrenciesAvatar/index.tsx","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/KeyboardArrowUp.js","components/swap/CollectFeeSteps.tsx","hooks/swap/useClaimFees.ts","components/swap/CollectFeesModal.tsx","components/swap/PositionContext.ts","components/swap/TransferPosition.tsx","components/swap/PositionItem.tsx","views/swap-liquidity-v3/liquidity/Positions.tsx","hooks/swap/useUserAllPositions.ts","components/swap/PoolCard.tsx","../packages/hooks/src/info/global.ts","views/swap-liquidity-v3/liquidity/PoolList.tsx","views/swap-liquidity-v3/liquidity/index.tsx","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/SyncAlt.js","../packages/swap-sdk/src/utils/getPriceOrderingFromPositionForUI.ts","../packages/swap-sdk/src/utils/invert.ts"],"sourcesContent":["import { Avatar } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = ({ borderColor, size }: { borderColor: string; size?: string | undefined }) =>\n  makeStyles(() => {\n    return {\n      avatar: {\n        width: size || \"24px\",\n        height: size || \"24px\",\n        border: `1px solid ${borderColor}`,\n      },\n    };\n  });\n\nexport interface CurrencyAvatarProps {\n  currency: Token | undefined | null;\n  borderColor?: string;\n  bgColor?: string;\n  className?: string;\n  size?: string;\n}\n\nexport default function CurrencyAvatar({\n  currency,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  className,\n  size,\n}: CurrencyAvatarProps) {\n  const classes = useStyles({ borderColor, size })();\n\n  return (\n    <Avatar className={`${classes.avatar} ${className || \"\"}`} sx={{ bgcolor: bgColor }} src={currency?.logo}>\n      &nbsp;\n    </Avatar>\n  );\n}\n","import { Box, Typography, SvgIcon } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\n\nconst useStyle = makeStyles((theme: Theme) => {\n  return {\n    wrapper: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"24px\",\n      padding: \"0 9px\",\n      borderRadius: \"8px\",\n\n      \"& .MuiTypography-root\": {\n        fontSize: \"12px\",\n        fontWeight: 500,\n      },\n\n      \"&.inRange\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.closed\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.outOfRange\": {\n        background: \"#FFC107\",\n        \"& .MuiTypography-root\": {\n          color: theme.colors.darkLevel1,\n          marginLeft: \"3px\",\n        },\n      },\n    },\n  };\n});\n\nfunction Marker(props: any) {\n  return (\n    <SvgIcon width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" {...props}>\n      <path\n        d=\"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z\"\n        fill={props.color ? props.color : \"#111936\"}\n      />\n    </SvgIcon>\n  );\n}\n\nfunction Closed() {\n  const classes = useStyle();\n\n  return (\n    <Box component=\"span\" className={`${classes.wrapper} closed`}>\n      <Marker fontSize=\"12px\" color=\"#fff\" />\n\n      <Typography color=\"#ffffff\" sx={{ marginLeft: \"3px\" }}>\n        <Trans>Closed</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction OutOfRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} outOfRange`}>\n      <Marker fontSize=\"12px\" />\n\n      <Typography>\n        <Trans>Out of range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction InRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} inRange`}>\n      <Box\n        component=\"span\"\n        sx={{ background: \"#54C081\", width: \"8px\", height: \"8px\", borderRadius: \"50%\", marginRight: \"8px\" }}\n      />\n      <Typography color=\"#ffffff\">\n        <Trans>In range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nexport interface PositionRangeStateProps {\n  outOfRange?: boolean | undefined;\n  closed?: boolean | undefined;\n}\n\nexport default function PositionRangeState({ outOfRange, closed }: PositionRangeStateProps) {\n  return closed ? <Closed /> : outOfRange ? <OutOfRange /> : <InRange />;\n}\n","import { Box, Typography, Grid } from \"@mui/material\";\nimport { t } from \"@lingui/macro\";\nimport { Wrapper, TabPanel } from \"components/index\";\nimport React from \"react\";\n// import { INFO_URL } from \"constants/index\";\n\nfunction LinkIcon() {\n  return (\n    <svg width=\"6\" height=\"7\" viewBox=\"0 0 6 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M4.09619 1.5H0.303301V0.5H5.3033H5.8033V1V6H4.8033V2.20711L0.707107 6.3033L0 5.59619L4.09619 1.5Z\"\n        fill=\"#4F5A84\"\n      />\n    </svg>\n  );\n}\n\ntype Button = {\n  id: number | string;\n  value: React.ReactNode;\n  path?: string;\n  key: string;\n};\n\nfunction SwapWrapper({ children, buttons }: { children: React.ReactNode; buttons: Button[] }) {\n  return (\n    <Wrapper>\n      <TabPanel tabs={buttons} />\n      <Box mt={4}>{children}</Box>\n    </Wrapper>\n  );\n}\n\nexport function SwapV2Wrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 3, value: t`Wrap`, path: \"/swap/v2/wrap\", key: \"/wrap\" },\n    {\n      id: 2,\n      key: \"/swap/v2/liquidity\",\n      value: t`Liquidity V2`,\n      path: \"/swap/v2/liquidity\",\n    },\n    {\n      id: 4,\n      key: \"swap-v3\",\n      value: (\n        <Grid container>\n          <Typography\n            sx={{\n              fontWeight: 600,\n              \"@media (max-width: 640px)\": {\n                fontSize: \"12px\",\n              },\n            }}\n          >\n            Exchange\n          </Typography>\n          <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n            <LinkIcon />\n          </Box>\n        </Grid>\n      ),\n      path: \"/swap\",\n    },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n\nexport default function _SwapWrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 1, value: t`Swap V3`, path: \"/swap\", key: \"/swap\" },\n    {\n      id: 2,\n      key: \"/swap/liquidity\",\n      value: t`Liquidity`,\n      path: \"/swap/liquidity\",\n    },\n    // {\n    //   id: 3,\n    //   key: \"info\",\n    //   value: (\n    //     <Grid container>\n    //       <Typography>Info</Typography>\n    //       <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n    //         <LinkIcon />\n    //       </Box>\n    //     </Grid>\n    //   ),\n    //   link: INFO_URL,\n    // },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n","import { useMemo } from \"react\";\nimport { Position, Pool } from \"@w2e/swap-sdk\";\nimport { useSwapPoolMetadata } from \"@w2e/hooks\";\nimport { usePool, PoolState } from \"hooks/swap/usePools\";\nimport { useToken } from \"hooks/useCurrency\";\n\nexport interface usePositionProps {\n  poolId: string | undefined;\n  tickLower: bigint | undefined;\n  tickUpper: bigint | undefined;\n  liquidity: bigint | undefined;\n}\n\nexport function usePosition(userPosition: usePositionProps | undefined) {\n  const { result: poolMetadata } = useSwapPoolMetadata(userPosition?.poolId);\n\n  const [, currency0] = useToken(poolMetadata?.token0.address);\n  const [, currency1] = useToken(poolMetadata?.token1.address);\n\n  const [poolState, pool] = usePool(\n    currency0 ?? undefined,\n    currency1 ?? undefined,\n    poolMetadata?.fee ? Number(poolMetadata.fee) : undefined,\n  );\n\n  let position: Position | undefined;\n\n  if (\n    pool &&\n    poolMetadata &&\n    userPosition &&\n    userPosition.tickLower !== undefined &&\n    userPosition.tickUpper !== undefined &&\n    userPosition.liquidity !== undefined\n  ) {\n    position = new Position({\n      pool,\n      liquidity: userPosition.liquidity.toString(),\n      tickLower: Number(userPosition.tickLower),\n      tickUpper: Number(userPosition.tickUpper),\n    });\n  }\n\n  return {\n    loading: poolState === PoolState.LOADING,\n    checking: poolState === PoolState.NOT_CHECK,\n    position,\n    pool: pool ?? undefined,\n  };\n}\n\nexport interface usePositionWithPoolProps {\n  pool: Pool | null | undefined;\n  liquidity: number | string | undefined;\n  tickLower: number | string | undefined;\n  tickUpper: number | string | undefined;\n}\n\nexport function usePositionWithPool({ tickLower, tickUpper, liquidity, pool }: usePositionWithPoolProps) {\n  let position: Position | undefined;\n\n  if (pool && liquidity && (tickLower || tickLower === 0) && (tickUpper || tickUpper === 0)) {\n    position = new Position({\n      pool,\n      liquidity,\n      tickLower: Number(tickLower),\n      tickUpper: Number(tickUpper),\n    });\n  }\n\n  return useMemo(() => position, [position]);\n}\n","import { useMemo } from \"react\";\nimport { usePositionFee } from \"@w2e/hooks\";\n\nexport function usePositionFees(\n  canisterId: string | undefined,\n  positionId: bigint | undefined,\n  refresh?: number | boolean,\n) {\n  const { result } = usePositionFee(canisterId, positionId, refresh);\n\n  return useMemo(() => {\n    if (!result)\n      return {\n        amount0: undefined,\n        amount1: undefined,\n      };\n\n    return {\n      amount0: result.tokensOwed0,\n      amount1: result.tokensOwed1,\n    };\n  }, [result]);\n}\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Box, Button, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { MainCard } from \"components/index\";\n\nconst useStyle = makeStyles(() => {\n  return {\n    button: {\n      width: \"230px\",\n      height: \"48px\",\n    },\n  };\n});\n\nexport default function LiquidityPoolIntro({ version }: { version?: \"v2\" | \"v3\" }) {\n  const classes = useStyle();\n  const history = useHistory();\n\n  const loadAddLiquidity = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(\"/swap/v2/liquidity/add\");\n    } else {\n      history.push(\"/swap/liquidity/add\");\n    }\n  }, [history]);\n\n  return (\n    <MainCard level={1} sx={{ height: \"244px\" }} className=\"lightGray200\">\n      <Typography variant=\"h3\" align=\"center\" color=\"text.primary\">\n        <Trans>Liquidity Pool</Trans>\n      </Typography>\n      <Box mt={2}>\n        <Typography fontSize={16} align=\"center\">\n          <Trans>\n            80% of the trading fees are rewarded to the liquidity providers, and the remaining 20% of the trading fees\n            are put into the ICS Repurchase-and-Burn Pool.\n          </Trans>\n        </Typography>\n      </Box>\n      <Grid container mt={4} justifyContent=\"center\">\n        <Grid item>\n          <Button className={classes.button} variant=\"contained\" onClick={loadAddLiquidity}>\n            <Trans>Add Liquidity</Trans>\n          </Button>\n        </Grid>\n      </Grid>\n    </MainCard>\n  );\n}\n","import { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrencyAvatar from \"components/CurrencyAvatar\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = makeStyles(() => {\n  return {\n    floatLeft: {\n      float: \"left\",\n    },\n    avatarBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n      \"& .currencyB\": {\n        marginLeft: \"-8px\",\n        float: \"left\",\n      },\n      \"& .currencyA \": {\n        float: \"left\",\n      },\n    },\n  };\n});\n\nexport interface CurrenciesAvatarProps {\n  currencyA: Token | undefined;\n  currencyB: Token | undefined;\n  borderColor: string;\n  bgColor: string;\n  className?: any;\n  size?: string;\n}\n\nexport default function CurrenciesAvatar({\n  currencyA,\n  currencyB,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  size,\n}: CurrenciesAvatarProps) {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.avatarBox}>\n      <CurrencyAvatar\n        className=\"currencyA\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyA}\n        size={size}\n      />\n      <CurrencyAvatar\n        className=\"currencyB\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyB}\n        size={size}\n      />\n    </Box>\n  );\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z\"\n}), 'KeyboardArrowUp');","import { Box, Avatar } from \"@mui/material\";\nimport { Token, CurrencyAmount } from \"@w2e/swap-sdk\";\nimport { formatTokenAmount, shorten } from \"@w2e/utils\";\nimport { t, Trans } from \"@lingui/macro\";\nimport { TextButton } from \"components/index\";\nimport { Principal } from \"@dfinity/principal\";\n\nexport interface CollectStepsProps {\n  positionId: bigint;\n  retry?: () => Promise<boolean>;\n  currencyFeeAmount0: CurrencyAmount<Token>;\n  currencyFeeAmount1: CurrencyAmount<Token>;\n  principal: Principal | undefined;\n  handleReclaim: () => void;\n}\n\nfunction TokenAmount({ logo, amount }: { logo: string; amount: string | undefined }) {\n  return (\n    <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n      <Avatar sx={{ width: \"16px\", height: \"16px\", margin: \"0 4px 0 0\" }} src={logo}>\n        &nbsp;\n      </Avatar>\n      {amount ?? 0}\n    </Box>\n  );\n}\n\nexport function getCollectFeeSteps({\n  positionId,\n  retry,\n  currencyFeeAmount0,\n  currencyFeeAmount1,\n  principal,\n  handleReclaim,\n}: CollectStepsProps) {\n  const principalString = shorten(principal?.toString() ?? \"\", 12);\n\n  const withdrawAmountA = currencyFeeAmount0.toSignificant(12, { groupSeparator: \",\" });\n  const _withdrawAmountA = currencyFeeAmount0.toSignificant(12);\n  const withdrawAmountB = currencyFeeAmount1.toSignificant(12, { groupSeparator: \",\" });\n  const _withdrawAmountB = currencyFeeAmount1.toSignificant(12);\n\n  const tokenA = currencyFeeAmount0.currency.wrapped;\n  const tokenB = currencyFeeAmount1.currency.wrapped;\n\n  const withdrawAmountALessThanZero = formatTokenAmount(_withdrawAmountA, tokenA.decimals)\n    .minus(tokenA.transFee)\n    .isLessThan(0);\n\n  const withdrawAmountBLessThanZero = formatTokenAmount(_withdrawAmountB, tokenB.decimals)\n    .minus(tokenB.transFee)\n    .isLessThan(0);\n\n  return [\n    {\n      title: `Collect ${tokenA.symbol} and ${tokenB.symbol}`,\n      step: 0,\n      children: [\n        { label: t`Position ID`, value: positionId.toString() },\n        {\n          label: t`Token0`,\n          value: <TokenAmount amount={withdrawAmountA} logo={tokenA.logo} />,\n        },\n        {\n          label: t`Token1`,\n          value: <TokenAmount amount={withdrawAmountB} logo={tokenB.logo} />,\n        },\n      ],\n      errorActions: [\n        <TextButton onClick={retry}>\n          <Trans>Retry</Trans>\n        </TextButton>,\n      ],\n    },\n    {\n      title: withdrawAmountALessThanZero ? t`Unable to withdraw ${tokenA.symbol}` : t`Withdraw ${tokenA.symbol}`,\n      step: 1,\n      children: [\n        {\n          label: t`Amount`,\n          value: <TokenAmount amount={withdrawAmountA} logo={tokenA.logo} />,\n        },\n        { label: t`Principal ID`, value: principalString },\n      ],\n      errorActions: [\n        <TextButton onClick={handleReclaim}>\n          <Trans>Reclaim</Trans>\n        </TextButton>,\n        <TextButton onClick={retry}>\n          <Trans>Retry</Trans>\n        </TextButton>,\n      ],\n      errorMessage: t`Please click Reclaim your tokens if they've transferred to the swap pool.`,\n      skipError: withdrawAmountALessThanZero ? t`The amount of withdrawal is less than the transfer fee` : undefined,\n    },\n    {\n      title: withdrawAmountBLessThanZero ? t`Unable to withdraw ${tokenB.symbol}` : t`Withdraw ${tokenB.symbol}`,\n      step: 2,\n      children: [\n        {\n          label: t`Amount`,\n          value: <TokenAmount amount={withdrawAmountB} logo={tokenB.logo} />,\n        },\n        { label: t`Principal ID`, value: principalString },\n      ],\n      errorActions: [\n        <TextButton onClick={handleReclaim}>\n          <Trans>Reclaim</Trans>\n        </TextButton>,\n        <TextButton onClick={retry}>\n          <Trans>Retry</Trans>\n        </TextButton>,\n      ],\n      errorMessage: t`Please click Reclaim your tokens if they've transferred to the swap pool.`,\n      skipError: withdrawAmountBLessThanZero ? t`The amount of withdrawal is less than the transfer fee` : undefined,\n    },\n  ];\n}\n","import { useCallback } from \"react\";\nimport BigNumber from \"bignumber.js\";\nimport { Pool, CurrencyAmount, Token } from \"@w2e/swap-sdk\";\nimport { t } from \"@lingui/macro\";\nimport { getActorIdentity } from \"components/Identity\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { getLocaleMessage } from \"locales/services\";\nimport { useStepCalls, newStepKey } from \"hooks/useStepCall\";\nimport { getCollectFeeSteps } from \"components/swap/CollectFeeSteps\";\nimport { useStepContentManager } from \"store/steps/hooks\";\nimport { useSwapWithdraw, useReclaimCallback } from \"hooks/swap/index\";\nimport { useErrorTip } from \"hooks/useTips\";\nimport { collect } from \"hooks/swap/v3Calls\";\nimport { ExternalTipArgs, OpenExternalTip } from \"types/index\";\n\nexport async function collectPositionFee(pool: string, positionId: bigint) {\n  const identity = await getActorIdentity();\n\n  return await collect(pool, identity, {\n    positionId,\n  });\n}\n\ninterface CollectFeeCallsArgs {\n  currencyFeeAmount0: CurrencyAmount<Token>;\n  pool: Pool;\n  positionId: bigint;\n  currencyFeeAmount1: CurrencyAmount<Token>;\n  openExternalTip: OpenExternalTip;\n  stepKey: string;\n}\n\nfunction useCollectFeeCalls() {\n  const principal = useAccountPrincipal();\n  const [openErrorTip] = useErrorTip();\n  const withdraw = useSwapWithdraw();\n\n  return useCallback(\n    ({ pool, positionId, currencyFeeAmount0, currencyFeeAmount1, openExternalTip, stepKey }: CollectFeeCallsArgs) => {\n      const _collect = async () => {\n        if (!positionId || !principal || !pool) return false;\n\n        const { status, message } = await collectPositionFee(pool.id, positionId);\n\n        if (status === \"ok\") {\n          return true;\n        }\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to claim`);\n        return false;\n      };\n\n      const withdrawCurrencyA = async () => {\n        if (!currencyFeeAmount0 || !pool) return false;\n\n        if (\n          !new BigNumber(currencyFeeAmount0.quotient.toString())\n            .minus(currencyFeeAmount0.currency.transFee)\n            .isGreaterThan(0)\n        )\n          return true;\n\n        return await withdraw(\n          currencyFeeAmount0.currency,\n          pool.id,\n          currencyFeeAmount0.quotient.toString(),\n          ({ message }: ExternalTipArgs) => {\n            openExternalTip({ message, tipKey: stepKey });\n          },\n        );\n      };\n\n      const withdrawCurrencyB = async () => {\n        if (!currencyFeeAmount1 || !pool) return false;\n\n        if (\n          !new BigNumber(currencyFeeAmount1.quotient.toString())\n            .minus(currencyFeeAmount1.currency.transFee)\n            .isGreaterThan(0)\n        )\n          return true;\n\n        const result = await withdraw(\n          currencyFeeAmount1.currency,\n          pool.id,\n          currencyFeeAmount1.quotient.toString(),\n          ({ message }: ExternalTipArgs) => {\n            openExternalTip({ message, tipKey: stepKey });\n          },\n        );\n\n        return result;\n      };\n\n      return [_collect, withdrawCurrencyA, withdrawCurrencyB];\n    },\n    [principal],\n  );\n}\n\ninterface AddLiquidityStepsArgs {\n  positionId: bigint;\n  retry: () => Promise<boolean>;\n  currencyFeeAmount0: CurrencyAmount<Token>;\n  currencyFeeAmount1: CurrencyAmount<Token>;\n}\n\nfunction useCollectFeeSteps() {\n  const principal = useAccountPrincipal();\n  const stepContentManage = useStepContentManager();\n\n  const handleReclaim = useReclaimCallback();\n\n  return useCallback(\n    (key: string, { positionId, retry, currencyFeeAmount0, currencyFeeAmount1 }: AddLiquidityStepsArgs) => {\n      const content = getCollectFeeSteps({\n        positionId,\n        retry,\n        currencyFeeAmount1,\n        currencyFeeAmount0,\n        principal,\n        handleReclaim,\n      });\n\n      stepContentManage(String(key), {\n        content,\n        title: t`Claim Fees Details`,\n      });\n    },\n    [principal],\n  );\n}\n\nexport interface ClaimFeeArgs {\n  currencyFeeAmount0: CurrencyAmount<Token>;\n  pool: Pool;\n  positionId: bigint;\n  currencyFeeAmount1: CurrencyAmount<Token>;\n  openExternalTip: OpenExternalTip;\n}\n\nexport function useCollectFeeCallback() {\n  const getCalls = useCollectFeeCalls();\n  const formatCall = useStepCalls();\n  const initialSteps = useCollectFeeSteps();\n\n  return useCallback(\n    ({ pool, positionId, currencyFeeAmount0, currencyFeeAmount1, openExternalTip }: ClaimFeeArgs) => {\n      const key = newStepKey();\n      const calls = getCalls({\n        pool,\n        positionId,\n        currencyFeeAmount0,\n        currencyFeeAmount1,\n        openExternalTip,\n        stepKey: key,\n      });\n      const { call, reset, retry } = formatCall(calls, key);\n\n      initialSteps(key, { positionId, currencyFeeAmount0, currencyFeeAmount1, retry });\n\n      return { call, reset, retry, key };\n    },\n    [getCalls, formatCall, initialSteps],\n  );\n}\n","import { Box, Grid, Typography, CircularProgress } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport SwapModal from \"components/modal/swap\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { BigNumber } from \"@w2e/utils\";\nimport { Token, CurrencyAmount, Pool } from \"@w2e/swap-sdk\";\nimport Button from \"components/authentication/ButtonConnector\";\nimport { toFormat } from \"utils/index\";\nimport { TokenImage } from \"components/index\";\nimport { useMemo, useState } from \"react\";\nimport { useCollectFeeCallback } from \"hooks/swap/useClaimFees\";\nimport { ExternalTipArgs } from \"types/index\";\nimport { ReclaimTips } from \"components/ReclaimTips\";\nimport { useSuccessTip, useLoadingTip, useErrorTip } from \"hooks/useTips\";\nimport StepViewButton from \"components/Steps/View\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  feeBox: {\n    padding: \"16px 16px\",\n    borderRadius: \"12px\",\n    background: theme.palette.background.level3,\n  },\n}));\n\nexport interface CollectFeeModalProps {\n  open: boolean;\n  onClose: () => void;\n  currencyFeeAmount0: CurrencyAmount<Token> | undefined;\n  currencyFeeAmount1: CurrencyAmount<Token> | undefined;\n  pool: Pool | undefined | null;\n  positionId: number | bigint | undefined | string;\n  onClaimedSuccessfully?: () => void;\n}\n\nexport default function CollectFees({\n  open,\n  onClose,\n  currencyFeeAmount0,\n  currencyFeeAmount1,\n  pool,\n  positionId,\n  onClaimedSuccessfully,\n}: CollectFeeModalProps) {\n  const classes = useStyles();\n  const [openSuccessTip] = useSuccessTip();\n  const [openErrorTip] = useErrorTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n  const [loading, setLoading] = useState(false);\n\n  const { token0, token1 } = useMemo(() => {\n    if (!pool) return { token0: undefined, token1: undefined };\n    return { token0: pool.token0, token1: pool.token1 };\n  }, [pool]);\n\n  const getClaimFeeCall = useCollectFeeCallback();\n\n  const handleCollect = async () => {\n    if (loading || !positionId || !pool || !currencyFeeAmount0 || !currencyFeeAmount1) return;\n\n    setLoading(true);\n    onClose();\n\n    const { call, key } = getClaimFeeCall({\n      pool,\n      positionId: BigInt(positionId),\n      currencyFeeAmount0,\n      currencyFeeAmount1,\n      openExternalTip: ({ message, tipKey }: ExternalTipArgs) => {\n        openErrorTip(<ReclaimTips message={message} tipKey={tipKey} />);\n      },\n    });\n\n    const loadingTipKey = openLoadingTip(\n      `Claim ${currencyFeeAmount0.toSignificant(6, {\n        groupSeparator: \",\",\n      })} ${token0?.symbol} and ${currencyFeeAmount1.toSignificant(6, { groupSeparator: \",\" })} ${token1?.symbol}`,\n      {\n        extraContent: <StepViewButton step={key} />,\n      },\n    );\n\n    const result = await call();\n\n    if (result === true) {\n      openSuccessTip(t`Claimed successfully`);\n      if (onClaimedSuccessfully) onClaimedSuccessfully();\n    }\n\n    closeLoadingTip(loadingTipKey);\n    setLoading(false);\n  };\n\n  return (\n    <SwapModal open={open} onClose={onClose} title={t`Claim fees`}>\n      <>\n        <Box className={classes.feeBox}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token0?.logo} tokenId={token0?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token0?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount0 ? toFormat(new BigNumber(currencyFeeAmount0.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid container mt={2} alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token1?.logo} tokenId={token1?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token1?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount1 ? toFormat(new BigNumber(currencyFeeAmount1.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n        <Typography mt={1}>\n          <Trans>You can claim the liquidity incentive reward from the transaction according to your position.</Trans>\n        </Typography>\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          fullWidth\n          sx={{ marginTop: \"24px\" }}\n          onClick={handleCollect}\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={24} color=\"inherit\" /> : null}\n        >\n          {t`Claim`}\n        </Button>\n      </>\n    </SwapModal>\n  );\n}\n","import { createContext } from \"react\";\nimport BigNumber from \"bignumber.js\";\n\nexport interface PositionContextProps {\n  allPositionsUSDValue: BigNumber | undefined;\n  setAllPositionsUSDValue: (id: string, totalUSDValue: BigNumber) => void;\n  counter: number;\n  updateCounter: () => void;\n}\n\nexport default createContext<PositionContextProps>({} as PositionContextProps);\n","import React, { useState, useMemo } from \"react\";\nimport { Typography, Grid, Chip, Button, useMediaQuery, Box } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport { usePositionFees } from \"hooks/swap/usePositionFees\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport {\n  numberToString,\n  BigNumber,\n  resultFormat,\n  formatDollarAmount,\n  isValidPrincipal,\n  toSignificantWithGroupSeparator,\n} from \"@w2e/utils\";\nimport { swapPool } from \"@w2e/actor\";\nimport { ResultStatus } from \"@w2e/types\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme } from \"utils/index\";\nimport { useSuccessTip, useLoadingTip, useErrorTip } from \"hooks/useTips\";\nimport { SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { FilledTextField, Loading } from \"components/index\";\nimport { useUSDPriceById } from \"hooks/useUSDPrice\";\nimport { isElement } from \"react-is\";\nimport SwapModal from \"components/modal/swap\";\nimport { Principal } from \"@dfinity/principal\";\n\nimport PositionStatus from \"./PositionRangeState\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-child\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"10px\",\n    },\n  },\n}));\n\nexport interface PositionDetailItemProps {\n  label: React.ReactChild;\n  value: React.ReactChild | undefined;\n  convert?: boolean;\n  onConvertClick?: () => void;\n}\n\nexport function PositionDetailItem({ label, value, convert, onConvertClick }: PositionDetailItemProps) {\n  const theme = useTheme() as Theme;\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  return (\n    <Grid container alignItems=\"center\">\n      <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n      <Grid sx={{ flex: 1 }} container justifyContent=\"flex-end\" alignItems=\"center\">\n        {isElement(value) ? (\n          value\n        ) : (\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n        )}\n\n        {convert && (\n          <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n\nexport interface PositionDetailsProps {\n  positionId: bigint;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n  token0USDPrice: number | undefined;\n  token1USDPrice: number | undefined;\n  onPrincipalChange: (principal: string) => void;\n}\n\nexport function PositionDetails({\n  position,\n  positionId,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n  token0USDPrice,\n  token1USDPrice,\n  onPrincipalChange,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(position?.pool.id, positionId);\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || feeAmount0 === undefined) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(new BigNumber(feeAmount0.toString())));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || feeAmount1 === undefined) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(new BigNumber(feeAmount1.toString())));\n  }, [feeAmount1, token1]);\n\n  return (\n    <>\n      <Box\n        className={classes.detailContainer}\n        sx={{ display: show ? \"flex\" : \"none\", margin: \"8px 0 0 0\", gap: \"20px 0\", flexDirection: \"column\" }}\n      >\n        <PositionDetailItem label={t`Position ID`} value={positionId.toString()} />\n        <PositionDetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            !position\n              ? \"--\"\n              : inverted\n                ? toSignificantWithGroupSeparator(\n                  position.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals)),\n                )\n                : toSignificantWithGroupSeparator(\n                  position.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals)),\n                )\n          }\n        />\n        <PositionDetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            !position\n              ? \"--\"\n              : inverted\n                ? toSignificantWithGroupSeparator(\n                  position.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals)),\n                )\n                : toSignificantWithGroupSeparator(\n                  position.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals)),\n                )\n          }\n        />\n        <PositionDetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0 && pool\n              ? inverted\n                ? `${pool.priceOf(token1).toSignificant(6, { groupSeparator: \",\" })} ${pairName}`\n                : `${pool.priceOf(token0).toSignificant(6, { groupSeparator: \",\" })} ${pairName}`\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <PositionDetailItem\n          label={t`Price Range`}\n          value={\n            <Box>\n              <Typography\n                color=\"text.primary\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} -\n                {formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)}\n              </Typography>\n              <Typography\n                color=\"text.primary\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {pairName}\n              </Typography>\n            </Box>\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <PositionDetailItem\n          label={t`Unclaimed fees`}\n          value={\n            <Box>\n              <Typography\n                color=\"text.primary\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {currencyFeeAmount0 !== undefined || currencyFeeAmount1 !== undefined\n                  ? `${toSignificantWithGroupSeparator(\n                    new BigNumber(currencyFeeAmount0 ? currencyFeeAmount0.toExact() : 0).toString(),\n                  )} ${token0?.symbol}`\n                  : \"--\"}\n              </Typography>\n              <Typography\n                color=\"text.primary\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {currencyFeeAmount0 !== undefined || currencyFeeAmount1 !== undefined\n                  ? `and ${toSignificantWithGroupSeparator(\n                    new BigNumber(currencyFeeAmount1 ? currencyFeeAmount1.toExact() : 0).toString(),\n                  )} ${token1?.symbol}`\n                  : \"--\"}\n              </Typography>\n              <Typography\n                mt=\"5px\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {currencyFeeAmount0 !== undefined &&\n                  currencyFeeAmount1 !== undefined &&\n                  !!token0USDPrice &&\n                  !!token1USDPrice\n                  ? formatDollarAmount(\n                    new BigNumber(currencyFeeAmount0 ? currencyFeeAmount0.toExact() : 0)\n                      .multipliedBy(token0USDPrice)\n                      .plus(\n                        new BigNumber(currencyFeeAmount1 ? currencyFeeAmount1.toExact() : 0).multipliedBy(\n                          token1USDPrice,\n                        ),\n                      )\n                      .toString(),\n                  )\n                  : \"--\"}\n              </Typography>\n            </Box>\n          }\n        />\n\n        <Box>\n          <Typography sx={{ margin: \"0  0 10px 0\" }}>\n            <Trans>Transfer to</Trans>\n          </Typography>\n\n          <FilledTextField multiline placeholder=\"Enter the principal ID\" onChange={onPrincipalChange} />\n        </Box>\n      </Box>\n    </>\n  );\n}\n\nexport interface TransferPositionProps {\n  positionId: bigint;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n  open: boolean;\n  onClose: () => void;\n  onTransferSuccess?: () => void;\n}\n\nexport default function TransferPosition({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n  open,\n  onClose,\n  onTransferSuccess,\n}: TransferPositionProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const userPrincipal = useAccountPrincipal();\n\n  const [principal, setPrincipal] = useState<undefined | string>(undefined);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const [openSuccessTip] = useSuccessTip();\n  const [openErrorTip] = useErrorTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  const token0USDPrice = useUSDPriceById(position?.pool.token0.address);\n  const token1USDPrice = useUSDPriceById(position?.pool.token1.address);\n\n  const totalUSDValue = useMemo(() => {\n    if (!position || !token0USDPrice || !token1USDPrice) return undefined;\n\n    const totalUSD = new BigNumber(token0USDPrice)\n      .multipliedBy(position.amount0.toExact())\n      .plus(new BigNumber(token1USDPrice).multipliedBy(position.amount1.toExact()));\n\n    return totalUSD.toString();\n  }, [position, token0USDPrice, token1USDPrice]);\n\n  const handlePrincipalChange = (principal: string) => {\n    setPrincipal(principal);\n  };\n\n  const handleTransfer = async () => {\n    if (!principal || !position || !userPrincipal) return;\n\n    setLoading(true);\n\n    const poolId = position.pool.id;\n\n    const loadingKey = openLoadingTip(t`Transferring your position, ID is ${positionId}`);\n\n    const { status, message } = resultFormat<boolean>(\n      await (\n        await swapPool(poolId, true)\n      ).transferPosition(userPrincipal, Principal.fromText(principal), BigInt(positionId)),\n    );\n\n    if (status === ResultStatus.OK) {\n      openSuccessTip(t`Transfer successfully`);\n      onClose();\n      if (onTransferSuccess) onTransferSuccess();\n    } else {\n      openErrorTip(message ?? t`Failed to transfer`);\n    }\n\n    setLoading(false);\n\n    closeLoadingTip(loadingKey);\n  };\n\n  let error: string | undefined;\n  if (principal && !isValidPrincipal(principal)) error = \"Invalid principal ID\";\n  if (!principal) error = \"Enter the principal ID\";\n\n  return (\n    <SwapModal open={open} title={t`Transfer position`} onClose={onClose}>\n      <Grid className={classes.positionContainer} container>\n        {!position && <Loading loading={!position} circularSize={28} />}\n\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#412755\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n\n          {!closed ? (\n            <Grid container mt=\"10px\">\n              <Typography>\n                <Trans>Value:</Trans>&nbsp;\n              </Typography>\n              <Typography color=\"text.primary\">{totalUSDValue ? formatDollarAmount(totalUSDValue) : \"--\"}</Typography>\n            </Grid>\n          ) : null}\n        </Grid>\n\n        <Grid item>\n          <Grid container>\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <PositionDetails\n        position={position}\n        positionId={positionId}\n        invalid={invalid}\n        showButtons={showButtons}\n        manuallyInverted={manuallyInverted}\n        setManuallyInverted={setManuallyInverted}\n        show\n        token0USDPrice={token0USDPrice}\n        token1USDPrice={token1USDPrice}\n        onPrincipalChange={handlePrincipalChange}\n      />\n\n      <Box mt=\"20px\">\n        <Button fullWidth size=\"medium\" variant=\"contained\" disabled={!!error || loading} onClick={handleTransfer}>\n          {error || <Trans>Transfer</Trans>}\n        </Button>\n      </Box>\n    </SwapModal>\n  );\n}\n","import React, { useState, useCallback, useMemo, useEffect, useContext, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Typography, Grid, Chip, Button, useMediaQuery, Box, Popper } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { KeyboardArrowDown, KeyboardArrowUp, SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport CollectFeesModal from \"components/swap/CollectFeesModal\";\nimport { usePositionFees } from \"hooks/swap/usePositionFees\";\nimport { numberToString, BigNumber, formatDollarAmount } from \"@w2e/utils\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme, toFormat } from \"utils\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Loading } from \"components/index\";\nimport { useUSDPriceById } from \"hooks/useUSDPrice\";\nimport PositionContext from \"components/swap/PositionContext\";\nimport { isElement } from \"react-is\";\nimport { isMobile } from \"react-device-detect\";\nimport { ClickAwayListener } from \"@mui/base\";\n\nimport PositionStatus from \"./PositionRangeState\";\nimport TransferPosition from \"./TransferPosition\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-child\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n  },\n}));\n\nexport interface PositionDetailItemProps {\n  label: React.ReactChild;\n  value: React.ReactChild | undefined;\n  convert?: boolean;\n  onConvertClick?: () => void;\n}\n\nexport function PositionDetailItem({ label, value, convert, onConvertClick }: PositionDetailItemProps) {\n  const theme = useTheme() as Theme;\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  return (\n    <Grid\n      container\n      sx={{\n        height: \"48px\",\n      }}\n      alignItems=\"center\"\n    >\n      <Grid item xs={4}>\n        <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n      </Grid>\n      <Grid item xs={8} container justifyContent=\"flex-end\">\n        {isElement(value) ? (\n          value\n        ) : (\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n        )}\n\n        {convert && (\n          <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n\nexport interface PositionDetailsProps {\n  positionId: bigint;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n  token0USDPrice: number | undefined;\n  token1USDPrice: number | undefined;\n}\n\nexport function PositionDetails({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n  token0USDPrice,\n  token1USDPrice,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n  const history = useHistory();\n  const moreRef = useRef(null);\n  const theme = useTheme() as Theme;\n\n  const [collectFeesShow, setCollectFeesShow] = useState(false);\n  const [reloadPositionFee, setReloadPositionFee] = useState(false);\n  const [transferPopperShow, setTransferPopperShow] = useState(false);\n  const [transferShow, setTransferShow] = useState(false);\n\n  const { updateCounter } = useContext(PositionContext);\n\n  const noLiquidity = position?.liquidity.toString() === \"0\";\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const handleLoadRemoveLiquidity = useCallback(() => {\n    if (invalid) {\n      history.push(`/swap/liquidity/decrease/${String(positionId)}?invalid=true`);\n      return;\n    }\n    history.push(`/swap/liquidity/decrease/${String(positionId)}/${position?.pool.id}`);\n  }, [history, invalid, positionId]);\n\n  const handleLoadIncreaseLiquidity = useCallback(() => {\n    history.push(`/swap/liquidity/increase/${String(positionId)}/${position?.pool.id}`);\n  }, [token0, token1]);\n\n  const handleCollectFee = useCallback(() => {\n    setCollectFeesShow(true);\n  }, [setCollectFeesShow]);\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(\n    position?.pool.id,\n    positionId,\n    reloadPositionFee,\n  );\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || feeAmount0 === undefined) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(new BigNumber(feeAmount0.toString())));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || feeAmount1 === undefined) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(new BigNumber(feeAmount1.toString())));\n  }, [feeAmount1, token1]);\n\n  const handleClaimedSuccessfully = () => {\n    setReloadPositionFee(!reloadPositionFee);\n  };\n\n  const hasUnclaimedFees = useMemo(() => {\n    if (!feeAmount0 && !feeAmount1) return false;\n    return true;\n  }, [feeAmount0, feeAmount1]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const handleTransferSuccess = () => {\n    updateCounter();\n  };\n\n  return (\n    <>\n      <Grid mt={1} className={classes.detailContainer} sx={{ display: show ? \"block\" : \"none\" }}>\n        <PositionDetailItem label={t`Position ID`} value={positionId.toString()} />\n        <PositionDetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            inverted\n              ? toFormat(position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals)))\n              : toFormat(position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals)))\n          }\n        />\n        <PositionDetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            inverted\n              ? toFormat(position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals)))\n              : toFormat(position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals)))\n          }\n        />\n        <PositionDetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0\n              ? inverted\n                ? pool?.priceOf(token1)\n                  ? `${toFormat(pool?.priceOf(token1).toSignificant(6))} ${pairName}`\n                  : \"--\"\n                : pool?.priceOf(token0)\n                  ? `${toFormat(pool?.priceOf(token0).toSignificant(6))} ${pairName}`\n                  : \"--\"\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <PositionDetailItem\n          label={t`Price Range`}\n          value={`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} - ${formatTickPrice(\n            priceUpper,\n            tickAtLimit,\n            Bound.UPPER,\n          )} ${pairName}`}\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <PositionDetailItem\n          label={t`Unclaimed fees`}\n          value={\n            <Box>\n              <Typography\n                color=\"text.primary\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {currencyFeeAmount0 !== undefined || currencyFeeAmount1 !== undefined\n                  ? `${toFormat(\n                    new BigNumber(currencyFeeAmount0 ? currencyFeeAmount0.toExact() : 0).toFixed(8),\n                  )} ${token0?.symbol} and ${toFormat(\n                    new BigNumber(currencyFeeAmount1 ? currencyFeeAmount1.toExact() : 0).toFixed(8),\n                  )} ${token1?.symbol}`\n                  : \"--\"}\n              </Typography>\n              <Typography\n                mt=\"5px\"\n                align=\"right\"\n                sx={{\n                  \"@media(max-width: 640px)\": {\n                    fontSize: \"12px\",\n                  },\n                }}\n              >\n                {currencyFeeAmount0 !== undefined &&\n                  currencyFeeAmount1 !== undefined &&\n                  !!token0USDPrice &&\n                  !!token1USDPrice\n                  ? formatDollarAmount(\n                    new BigNumber(currencyFeeAmount0 ? currencyFeeAmount0.toExact() : 0)\n                      .multipliedBy(token0USDPrice)\n                      .plus(\n                        new BigNumber(currencyFeeAmount1 ? currencyFeeAmount1.toExact() : 0).multipliedBy(\n                          token1USDPrice,\n                        ),\n                      )\n                      .toString(),\n                  )\n                  : \"--\"}\n              </Typography>\n            </Box>\n          }\n        />\n        {showButtons && (\n          <Box\n            mt={3}\n            sx={{\n              display: \"grid\",\n              gridTemplateColumns: matchDownSM ? \"1fr\" : !hasUnclaimedFees ? \"1fr 1fr 40px\" : \"1fr 1fr 1fr 40px\",\n              gap: matchDownSM ? \"20px 0\" : \"0 20px\",\n            }}\n          >\n            {!noLiquidity ? (\n              <Button\n                fullWidth\n                variant=\"outlined\"\n                size={matchDownSM ? \"medium\" : \"medium\"}\n                onClick={handleLoadRemoveLiquidity}\n              >\n                <Trans>Remove Liquidity</Trans>\n              </Button>\n            ) : (\n              <Box />\n            )}\n            {hasUnclaimedFees ? (\n              <Button fullWidth variant=\"outlined\" size={matchDownSM ? \"medium\" : \"medium\"} onClick={handleCollectFee}>\n                <Trans>Claim fees</Trans>\n              </Button>\n            ) : null}\n            {!invalid ? (\n              <Button\n                fullWidth\n                variant=\"contained\"\n                size={matchDownSM ? \"medium\" : \"medium\"}\n                onClick={handleLoadIncreaseLiquidity}\n              >\n                <Trans>Increase Liquidity</Trans>\n              </Button>\n            ) : (\n              <Box />\n            )}\n\n            {!isMobile ? (\n              <Box\n                ref={moreRef}\n                onMouseEnter={() => setTransferPopperShow(true)}\n                onMouseLeave={() => setTransferPopperShow(false)}\n              >\n                <Box\n                  sx={{\n                    display: \"flex\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    gap: \"0 5px\",\n                    alignItems: \"center\",\n                    cursor: \"pointer\",\n                  }}\n                >\n                  <Box sx={{ width: \"4px\", height: \"4px\", borderRadius: \"50%\", background: \"#4F5A84\" }} />\n                  <Box sx={{ width: \"4px\", height: \"4px\", borderRadius: \"50%\", background: \"#4F5A84\" }} />\n                  <Box sx={{ width: \"4px\", height: \"4px\", borderRadius: \"50%\", background: \"#4F5A84\" }} />\n                </Box>\n\n                <Popper\n                  open={transferPopperShow}\n                  anchorEl={moreRef?.current}\n                  placement=\"top\"\n                  popperOptions={{\n                    modifiers: [\n                      {\n                        name: \"offset\",\n                        options: {\n                          offset: [-30, 0],\n                        },\n                      },\n                    ],\n                  }}\n                >\n                  <ClickAwayListener onClickAway={() => setTransferPopperShow(false)}>\n                    <Box\n                      sx={{\n                        padding: \"16px\",\n                        borderRadius: \"12px\",\n                        background: theme.palette.background.level1,\n                        cursor: \"pointer\",\n                      }}\n                      onClick={() => {\n                        setTransferShow(true);\n                        setTransferPopperShow(false);\n                      }}\n                    >\n                      <Typography color=\"text.primary\">\n                        <Trans>Transfer position</Trans>\n                      </Typography>\n                    </Box>\n                  </ClickAwayListener>\n                </Popper>\n              </Box>\n            ) : null}\n          </Box>\n        )}\n      </Grid>\n\n      <CollectFeesModal\n        pool={pool}\n        positionId={positionId}\n        open={collectFeesShow}\n        currencyFeeAmount0={currencyFeeAmount0}\n        currencyFeeAmount1={currencyFeeAmount1}\n        onClose={() => {\n          setCollectFeesShow(false);\n        }}\n        onClaimedSuccessfully={handleClaimedSuccessfully}\n      />\n\n      {transferShow ? (\n        <TransferPosition\n          closed={closed}\n          open={transferShow}\n          position={position}\n          positionId={positionId}\n          onClose={() => setTransferShow(false)}\n          onTransferSuccess={handleTransferSuccess}\n        />\n      ) : null}\n    </>\n  );\n}\n\nexport interface PositionItemProps {\n  positionId: bigint;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n}\n\nexport default function PositionItem({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n}: PositionItemProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const [detailShow, setDetailShow] = useState<boolean | undefined>(undefined);\n\n  const handleToggleShow = useCallback(() => {\n    if (!position) return;\n    setDetailShow(!detailShow);\n  }, [detailShow, setDetailShow, position]);\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  const token0USDPrice = useUSDPriceById(position?.pool.token0.address);\n  const token1USDPrice = useUSDPriceById(position?.pool.token1.address);\n\n  const totalUSDValue = useMemo(() => {\n    if (!position || !token0USDPrice || !token1USDPrice) return undefined;\n\n    const totalUSD = new BigNumber(token0USDPrice)\n      .multipliedBy(position.amount0.toExact())\n      .plus(new BigNumber(token1USDPrice).multipliedBy(position.amount1.toExact()));\n\n    return totalUSD.toString();\n  }, [position, token0USDPrice, token1USDPrice]);\n\n  const { setAllPositionsUSDValue } = useContext(PositionContext);\n\n  const positionKey = useMemo(() => {\n    if (!position) return undefined;\n    return `${position.pool.id}_${positionId.toString()}`;\n  }, [position, positionId]);\n\n  useEffect(() => {\n    if (!!totalUSDValue && !!positionKey) {\n      setAllPositionsUSDValue(positionKey, new BigNumber(totalUSDValue));\n    }\n  }, [totalUSDValue, positionKey]);\n\n  return (\n    <>\n      <Grid className={classes.positionContainer} container onClick={handleToggleShow}>\n        {!position && <Loading loading={!position} circularSize={28} />}\n\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#273155\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n\n          {!closed ? (\n            <Grid container mt=\"10px\">\n              <Typography>\n                <Trans>Value:</Trans>&nbsp;\n              </Typography>\n              <Typography color=\"text.primary\">{totalUSDValue ? formatDollarAmount(totalUSDValue) : \"--\"}</Typography>\n            </Grid>\n          ) : null}\n        </Grid>\n\n        <Grid item>\n          <Grid container>\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n            <Grid item ml={matchDownMD ? \"5px\" : \"10px\"}>\n              <Grid container alignItems=\"center\">\n                {detailShow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      {typeof detailShow !== \"boolean\" ? null : (\n        <PositionDetails\n          position={position}\n          positionId={positionId}\n          invalid={invalid}\n          showButtons={showButtons}\n          manuallyInverted={manuallyInverted}\n          setManuallyInverted={setManuallyInverted}\n          show={detailShow}\n          token0USDPrice={token0USDPrice}\n          token1USDPrice={token1USDPrice}\n        />\n      )}\n    </>\n  );\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { Typography, Box } from \"@mui/material\";\nimport PositionItemComponent from \"components/swap/PositionItem\";\nimport { usePosition } from \"hooks/swap/usePosition\";\nimport { Trans } from \"@lingui/macro\";\nimport { NoData, MainCard, LoadingRow, TextButton, FindPositionsModal } from \"components/index\";\nimport BigNumber from \"bignumber.js\";\nimport { useAccountPrincipalString } from \"store/auth/hooks\";\nimport PositionContext from \"components/swap/PositionContext\";\nimport { useUserAllPositions } from \"hooks/swap/useUserAllPositions\";\nimport { UserPosition } from \"types/swap\";\nimport { useInitialUserPositionPools } from \"store/hooks\";\nimport { formatDollarAmount } from \"@w2e/utils\";\n\nfunction hasLiquidity(position: UserPosition | undefined) {\n  return position?.liquidity?.toString() !== \"0\";\n}\n\ninterface PositionItemProps {\n  position: UserPosition;\n}\n\nfunction PositionItem({ position: positionDetail }: PositionItemProps) {\n  const { position } = usePosition({\n    poolId: positionDetail.id,\n    tickLower: positionDetail.tickLower,\n    tickUpper: positionDetail.tickUpper,\n    liquidity: positionDetail.liquidity,\n  });\n\n  const noLiquidity = !hasLiquidity(positionDetail);\n\n  return noLiquidity ? null : (\n    <PositionItemComponent\n      closed={noLiquidity}\n      position={position}\n      positionId={BigInt(positionDetail.index)}\n      showButtons\n    />\n  );\n}\n\nexport default function Positions() {\n  const principal = useAccountPrincipalString();\n\n  const [findPositionsOpen, setFindPositionsOpen] = useState(false);\n  const [allPositionsUSDKeyValue, setAllPositionsUSDValue] = useState<\n    { [id: string]: BigNumber | undefined } | undefined\n  >({});\n  const [counter, setCounter] = useState<number>(0);\n\n  const { result: positions, loading } = useUserAllPositions(counter);\n\n  const { loading: initialUserPositionPoolsLoading } = useInitialUserPositionPools();\n\n  const hasLiquidityPositions = useMemo(() => {\n    return positions.filter((position) => hasLiquidity(position)).length !== 0;\n  }, [positions]);\n\n  const handleAllPositionsUSDValue = (id: string, usdValue: BigNumber) => {\n    setAllPositionsUSDValue((prevState) => ({\n      ...prevState,\n      [id]: usdValue,\n    }));\n  };\n\n  // reset all positions usd value when account change\n  useEffect(() => {\n    setAllPositionsUSDValue(undefined);\n  }, [principal]);\n\n  const updateCounter = () => {\n    setCounter(counter + 1);\n  };\n\n  const allPositionsUSDValue = useMemo(() => {\n    if (!allPositionsUSDKeyValue) return undefined;\n\n    return Object.values(allPositionsUSDKeyValue).reduce((prev, curr) => {\n      return prev?.plus(curr ?? 0);\n    }, new BigNumber(0));\n  }, [allPositionsUSDKeyValue]);\n\n  return (\n    <PositionContext.Provider\n      value={{ allPositionsUSDValue, setAllPositionsUSDValue: handleAllPositionsUSDValue, counter, updateCounter }}\n    >\n      <MainCard level={1} className=\"lightGray200\">\n        <Typography variant=\"h3\" color=\"textPrimary\">\n          <Trans>Your Positions</Trans>\n        </Typography>\n\n        <Box mt=\"5px\" mb=\"10px\">\n          <Typography component=\"span\">\n            <Trans>Total Value:</Trans>&nbsp;\n          </Typography>\n          <Typography component=\"span\" color=\"text.primary\">\n            {allPositionsUSDValue ? formatDollarAmount(allPositionsUSDValue.toString()) : \"--\"}\n          </Typography>\n        </Box>\n\n        <Box mt=\"5px\" mb=\"10px\">\n          <Typography component=\"span\">\n            <Trans>Don't see a pair you joined?</Trans>&nbsp;\n          </Typography>\n          <TextButton onClick={() => setFindPositionsOpen(true)}>\n            <Trans>Find other positions</Trans>\n          </TextButton>\n        </Box>\n\n        {(loading || initialUserPositionPoolsLoading) && !!principal ? (\n          <LoadingRow>\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n          </LoadingRow>\n        ) : (\n          <>\n            {!hasLiquidityPositions || positions?.length === 0 ? (\n              <Box mt={2}>\n                <NoData />\n              </Box>\n            ) : null}\n            <Box>\n              {positions.map((position) => (\n                <PositionItem key={`${position.id}_${position.index}`} position={position} />\n              ))}\n            </Box>\n          </>\n        )}\n      </MainCard>\n\n      <FindPositionsModal open={findPositionsOpen} onClose={() => setFindPositionsOpen(false)} />\n    </PositionContext.Provider>\n  );\n}\n","import { getSwapPosition } from \"@w2e/hooks\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { UserPosition } from \"types/swap\";\nimport { useStoreUserPositionPools } from \"store/hooks\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { getUserPositionIds } from \"./useUserPositionIds\";\n\ntype UserPositions = {\n  positions: bigint[];\n  poolId: string;\n};\n\nexport function useUserAllPositions(refresh?: number) {\n  const [loading, setLoading] = useState(true);\n  const [positions, setPositions] = useState<UserPosition[]>([]);\n\n  const principal = useAccountPrincipal();\n\n  const userPositionPools = useStoreUserPositionPools();\n\n  useEffect(() => {\n    async function call() {\n      if (userPositionPools && !!principal) {\n        if (userPositionPools.length === 0) {\n          setLoading(false);\n          setPositions([]);\n        } else {\n          const userPositionsResult = (\n            await Promise.all(\n              userPositionPools.map(async (poolId: string) => {\n                return await getUserPositionIds(poolId, principal.toString());\n              }),\n            )\n          )\n            .map((positions, index) => (positions ? { positions, poolId: userPositionPools[index] } : undefined))\n            .filter((ele) => !!ele) as UserPositions[];\n\n          const positions = await Promise.all(\n            userPositionsResult\n              .reduce((prev, curr) => {\n                return prev.concat(curr.positions.map((index) => [curr.poolId, index]));\n              }, [] as [string, bigint][])\n              .map(async ([canisterId, index]) => {\n                const position = await getSwapPosition(canisterId, index);\n                return { ...position, id: canisterId, index: Number(index) };\n              }),\n          );\n\n          setPositions(positions.filter((position) => !!position) as UserPosition[]);\n          setLoading(false);\n        }\n      } else if (!principal) {\n        setPositions([]);\n      }\n    }\n\n    call();\n  }, [userPositionPools, principal, refresh]);\n\n  return useMemo(() => ({ loading, result: positions }), [positions, loading]);\n}\n\nexport function useUserPoolPositions(poolId: string | undefined, refresh?: number) {\n  const [loading, setLoading] = useState(false);\n  const [positions, setPositions] = useState<UserPosition[]>([]);\n\n  const principal = useAccountPrincipal();\n\n  useEffect(() => {\n    async function call() {\n      if (!!principal && poolId) {\n        setLoading(true);\n\n        const userPositionsResult = await getUserPositionIds(poolId, principal.toString());\n\n        if (userPositionsResult) {\n          const positions = await Promise.all(\n            userPositionsResult.map(async (index) => {\n              const position = await getSwapPosition(poolId, index);\n              return { ...position, id: poolId, index: Number(index) };\n            }),\n          );\n\n          setPositions(positions.filter((position) => !!position) as UserPosition[]);\n        }\n\n        setLoading(false);\n      } else {\n        setPositions([]);\n      }\n    }\n\n    call();\n  }, [principal, refresh, poolId]);\n\n  return useMemo(() => ({ loading, result: positions }), [positions, loading]);\n}\n","import { useCallback } from \"react\";\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { useToken } from \"hooks/useCurrency\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport { useHistory } from \"react-router-dom\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { formatDollarAmount } from \"@w2e/utils\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    topBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n    },\n    floatLeft: {\n      float: \"left\",\n    },\n    listItem: {\n      height: \"140px\",\n      padding: \"18px\",\n      borderRadius: `${theme.radius}px`,\n      cursor: \"pointer\",\n    },\n    poolName: {\n      margin: \"0 8px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n        fontWeight: 700,\n      },\n    },\n    feeAmount: {\n      padding: \"2px 4px\",\n      borderRadius: \"4px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n      },\n    },\n    poolData: {\n      marginTop: \"28px\",\n    },\n  };\n});\n\nexport interface PoolCardProps {\n  token0: string;\n  token1: string;\n  fee: bigint;\n  tvlUSD: string | number;\n  totalVolumeUSD: string | number;\n  version?: \"v2\" | \"v3\";\n  token0Symbol?: string;\n  token1Symbol?: string;\n}\n\nexport default function PoolCard({\n  token0,\n  token1,\n  fee,\n  totalVolumeUSD,\n  tvlUSD,\n  token0Symbol,\n  token1Symbol,\n  version,\n}: PoolCardProps) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [, currency0] = useToken(token0);\n  const [, currency1] = useToken(token1);\n\n  const handlePoolClick = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(`/swap/v2/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    } else {\n      history.push(`/swap/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    }\n  }, [history]);\n\n  return (\n    <Box className={`${classes.listItem} list-item`} onClick={handlePoolClick}>\n      <Box className=\"list-item-color-box\" />\n      <Grid container alignItems=\"center\" className={`${classes.topBox}`}>\n        <CurrenciesAvatar\n          className={classes.floatLeft}\n          currencyA={currency0}\n          currencyB={currency1}\n          borderColor=\"transparent\"\n          bgColor=\"transparent\"\n        />\n        <Box className={`${classes.poolName} ${classes.floatLeft}`}>\n          <Typography>{`${token0Symbol ?? currency0?.symbol ?? \"--\"}/${token1Symbol ?? currency1?.symbol ?? \"--\"\n            }`}</Typography>\n        </Box>\n        <Box className={`${classes.feeAmount} feeAmount ${classes.floatLeft}`}>\n          <Typography>{feeAmountToPercentage(Number(fee))}</Typography>\n        </Box>\n      </Grid>\n      <Grid container className={classes.poolData}>\n        <Grid container flexDirection=\"column\" item xs={6}>\n          <Grid item container justifyContent=\"flex-start\">\n            <Typography className=\"title\">\n              <Trans>TVL</Trans>\n            </Typography>\n          </Grid>\n          <Grid item mt={1} container justifyContent=\"flex-start\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(tvlUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container item xs={6} flexDirection=\"column\" justifyContent=\"flex-end\">\n          <Grid item container justifyContent=\"flex-end\">\n            <Typography className=\"title\">\n              <Trans>Total Volume</Trans>\n            </Typography>\n          </Grid>\n          <Grid mt={1} item container justifyContent=\"flex-end\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(totalVolumeUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { useCallback } from \"react\";\nimport { resultFormat } from \"@w2e/utils\";\nimport { globalIndex } from \"@w2e/actor\";\nimport { AllPoolsTVL, AllTokensTVL, PoolLatestTVL, PublicProtocolData, TokenLatestTVL } from \"@w2e/types\";\nimport { useCallsData } from \"../useCallData\";\n\n// Global\nexport async function getAllPoolsTVL() {\n  return resultFormat<AllPoolsTVL>(await (await globalIndex()).getAllPoolTvl()).data;\n}\n\nexport function useAllPoolsTVL() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getAllPoolsTVL();\n    }, []),\n  );\n}\n\nexport async function getAllTokensTVL() {\n  return resultFormat<AllTokensTVL>(await (await globalIndex()).getAllTokenTvl()).data;\n}\n\nexport function useAllTokensTVL() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getAllTokensTVL();\n    }, []),\n  );\n}\n\nexport async function getSwapProtocolData() {\n  return resultFormat<PublicProtocolData>(await (await globalIndex()).getProtocolData()).data;\n}\n\nexport function useSwapProtocolData() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getSwapProtocolData();\n    }, []),\n  );\n}\n\nexport async function getPoolLatestTVL(id: string) {\n  return resultFormat<PoolLatestTVL>(await (await globalIndex()).getPoolLastTvl(id)).data;\n}\n\nexport function usePoolLatestTVL(id: string | undefined) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!id) return undefined;\n      return await getPoolLatestTVL(id!);\n    }, [id]),\n  );\n}\n\nexport async function getTokenLatestTVL(id: string) {\n  return resultFormat<TokenLatestTVL>(await (await globalIndex()).getTokenLastTvl(id)).data;\n}\n\nexport function useTokenLatestTVL(id: string | undefined) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!id) return undefined;\n      return await getTokenLatestTVL(id!);\n    }, [id]),\n  );\n}\n\nexport async function getGlobalLatestStorageCanister() {\n  return resultFormat<string>(await (await globalIndex()).globalLastStorageCanister()).data;\n}\n\nexport function useGlobalLatestStorageCanister() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getGlobalLatestStorageCanister();\n    }, []),\n  );\n}\n\nexport async function getGlobalStorageCanister() {\n  return resultFormat<string[]>(await (await globalIndex()).globalStorageCanister()).data;\n}\n\nexport function useGlobalStorageCanister() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getGlobalStorageCanister();\n    }, []),\n  );\n}\n\nexport async function getTvlLatestStorageCanister() {\n  return resultFormat<string>(await (await globalIndex()).tvlLastStorageCanister()).data;\n}\n\nexport function useTvlLatestStorageCanister() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getTvlLatestStorageCanister();\n    }, []),\n  );\n}\n\nexport async function getTvlStorageCanister() {\n  return resultFormat<string[]>(await (await globalIndex()).tvlStorageCanister()).data;\n}\n\nexport function useTvlStorageCanister() {\n  return useCallsData(\n    useCallback(async () => {\n      return await getTvlStorageCanister();\n    }, []),\n  );\n}\n","import { useMemo } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { isDarkTheme } from \"utils/index\";\nimport { Theme } from \"@mui/material/styles\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport PoolCard from \"components/swap/PoolCard\";\nimport { useAllPoolsTVL, useInfoAllPools } from \"@w2e/hooks\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  const bgOpacity = isDarkTheme(theme) ? \"0.34\" : \"0.7\";\n\n  return {\n    wrapper: {\n      display: \"grid\",\n      gap: \"0 20px\",\n      gridTemplateColumns: \"repeat(4, 1fr)\",\n      overflow: \"hidden\",\n      width: \"100%\",\n      \"@media (max-width:1140px)\": {\n        gridGap: \"10px 10px\",\n        gridTemplateColumns: \"1fr 1fr\",\n      },\n      \"@media (max-width:640px)\": {\n        gridGap: \"10px 0\",\n        gridTemplateColumns: \"1fr\",\n      },\n      \"& .title\": {\n        color: \"rgba(255, 255, 255, 0.6)\",\n      },\n      \"& .value\": {\n        color: \"#ffffff\",\n      },\n    },\n    listWrapper: {\n      \"& .list-item\": {\n        position: \"relative\",\n        overflow: \"hidden\",\n        border: \"1px solid rgba(255, 255, 255, 0.04)\",\n      },\n      \"& .list-item-color-box\": {\n        position: \"absolute\",\n        left: \"10px\",\n        bottom: \"7px\",\n        width: \"98px\",\n        height: \"98px\",\n        filter: \"blur(34px)\",\n        zIndex: \"-1\",\n      },\n      \"&:first-child\": {\n        \"& .list-item\": {\n          background: `rgba(80, 95, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#3644C2\",\n        },\n        \"& .feeAmount\": {\n          background: \"#4D5CA9\",\n        },\n      },\n      \"&:nth-of-type(2)\": {\n        \"& .list-item\": {\n          background: `rgba(101, 80, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#5D0A9E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#654DA9\",\n        },\n      },\n      \"&:nth-of-type(3)\": {\n        \"& .list-item\": {\n          background: `rgba(45, 148, 243, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#0A609E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#2D94F3\",\n        },\n      },\n      \"&:nth-of-type(4)\": {\n        \"& .list-item\": {\n          background: `rgba(162, 88, 145, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#9E0A8F\",\n        },\n        \"& .feeAmount\": {\n          background: \"#833780\",\n        },\n      },\n    },\n  };\n});\n\nexport default function PoolList() {\n  const classes = useStyles();\n\n  const { result: pools, loading } = useInfoAllPools();\n  const { result: allPoolsTVL, loading: tvlLoading } = useAllPoolsTVL();\n\n  const poolList = useMemo(() => {\n    if (!pools || !allPoolsTVL) return [];\n\n    return pools\n      .sort((a, b) => {\n        if (a.totalVolumeUSD > b.totalVolumeUSD) {\n          return -1;\n        }\n        return 1;\n      })\n      .filter((pool) => pool.feeTier === BigInt(3000))\n      .slice(0, 4)\n      .map((pool) => {\n        const tvlUSD = allPoolsTVL.find((poolTVL) => poolTVL[0] === pool.pool);\n        return { ...pool, tvlUSD: tvlUSD ? tvlUSD[1] : 0 };\n      });\n  }, [pools, allPoolsTVL]);\n\n  return loading || tvlLoading ? (\n    <LoadingRow>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRow>\n  ) : (\n    <Box className={classes.wrapper}>\n      {poolList.map((pool, index) => (\n        <Box className={classes.listWrapper} key={index}>\n          <PoolCard\n            token0={pool.token0Id}\n            token1={pool.token1Id}\n            fee={pool.feeTier}\n            token0Symbol={pool.token0Symbol}\n            token1Symbol={pool.token1Symbol}\n            tvlUSD={pool.tvlUSD}\n            totalVolumeUSD={pool.totalVolumeUSD}\n          />\n        </Box>\n      ))}\n    </Box>\n  );\n}\n","import { useEffect } from \"react\";\nimport { Box } from \"@mui/material\";\nimport SwapWrapper from \"components/swap/SwapUIWrapper\";\nimport { useSwapPools } from \"@w2e/hooks\";\nimport { usePoolStandardManager } from \"store/global/hooks\";\nimport { useUpdateTokenStandard } from \"store/token/cache/hooks\";\nimport { TOKEN_STANDARD } from \"constants/tokens\";\nimport LiquidityPoolIntro from \"components/swap/LiquidityPoolIntro\";\nimport { TextButton, LoadingRow } from \"components/index\";\nimport { Trans } from \"@lingui/macro\";\nimport Positions from \"./Positions\";\nimport PoolList from \"./PoolList\";\n\nexport default function Liquidity() {\n  const [isInitialed, updatePoolStandardInitialed] = usePoolStandardManager();\n\n  const { result: pools } = useSwapPools();\n\n  const updateTokenStandard = useUpdateTokenStandard();\n\n  useEffect(() => {\n    const trigger = (updatedNum: number) => {\n      if (pools && updatedNum === pools.length) {\n        updatePoolStandardInitialed(true);\n      }\n    };\n\n    const call = () => {\n      if (pools && pools.length && !isInitialed) {\n        let updatedNum = 0;\n        for (let i = 0; i < pools.length; i++) {\n          const pool = pools[i];\n          updateTokenStandard({ canisterId: pool.token0.address, standard: pool.token0.standard as TOKEN_STANDARD });\n          updateTokenStandard({ canisterId: pool.token1.address, standard: pool.token1.standard as TOKEN_STANDARD });\n\n          updatedNum++;\n          trigger(updatedNum);\n        }\n      } else if (pools && pools.length === 0) {\n        updatePoolStandardInitialed(true);\n      }\n    };\n\n    call();\n  }, [pools]);\n\n  return (\n    <SwapWrapper>\n      {!isInitialed ? (\n        <LoadingRow>\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </LoadingRow>\n      ) : (\n        <>\n          <PoolList />\n          <Box\n            sx={{\n              margin: \"32px 0 0 0\",\n              display: \"flex\",\n              gap: \"0 16px\",\n              \"@media(max-width: 980px)\": {\n                flexDirection: \"column\",\n                gap: \"16px 0\",\n              },\n            }}\n          >\n            <Box sx={{ flex: 1 }}>\n              <LiquidityPoolIntro />\n\n              <Box sx={{ width: \"100%\", display: \"flex\", margin: \"5px 0 0 0\", justifyContent: \"flex-end\" }}>\n                <TextButton to=\"/swap/pcm/reclaim\">\n                  <Trans>Withdraw unused swap pool creation fees</Trans>\n                </TextButton>\n              </Box>\n            </Box>\n\n            <Box sx={{ flex: 1, height: \"100%\" }}>\n              <Positions />\n            </Box>\n          </Box>\n        </>\n      )}\n    </SwapWrapper>\n  );\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z\"\n}), 'SyncAlt');","import { Position } from \"../entities/position\";\n\nexport function getPriceOrderingFromPositionForUI(position: Position | undefined) {\n  if (!position) return {};\n\n  const token0 = position.amount0.currency;\n  const token1 = position.amount1.currency;\n\n  // if both prices are below 1, invert\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    };\n  }\n\n  // otherwise, just return the default\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0,\n  };\n}\n","import { Token } from \"../core/entities/token\";\nimport { Price } from \"../core/entities/fractions/price\";\n\ninterface useInverterProps {\n  priceLower: Price<Token, Token> | undefined;\n  priceUpper: Price<Token, Token> | undefined;\n  quote: Token | undefined;\n  base: Token | undefined;\n  invert: boolean;\n}\n\nexport function useInverter({ priceLower, priceUpper, quote, base, invert }: useInverterProps) {\n  return {\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\n    priceLower: invert ? priceUpper?.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base,\n  };\n}\n"],"names":["useStyles","_ref","borderColor","size","makeStyles","avatar","width","height","border","concat","CurrencyAvatar","_ref2","currency","bgColor","className","classes","_jsx","Avatar","sx","bgcolor","src","logo","children","useStyle","theme","wrapper","display","alignItems","padding","borderRadius","fontSize","fontWeight","background","colors","darkPrimary400","color","darkLevel1","marginLeft","Marker","props","SvgIcon","viewBox","d","fill","Closed","_jsxs","Box","component","Typography","Trans","id","OutOfRange","InRange","marginRight","PositionRangeState","outOfRange","closed","LinkIcon","xmlns","fillRule","clipRule","SwapWrapper","buttons","Wrapper","TabPanel","tabs","mt","SwapV2Wrapper","value","i18n","_","path","key","Grid","container","margin","position","top","_SwapWrapper","_ref3","usePosition","userPosition","result","poolMetadata","useSwapPoolMetadata","poolId","currency0","useToken","token0","address","currency1","token1","poolState","pool","usePool","undefined","fee","Number","tickLower","tickUpper","liquidity","Position","toString","loading","PoolState","LOADING","checking","NOT_CHECK","usePositionFees","canisterId","positionId","refresh","usePositionFee","useMemo","amount0","tokensOwed0","amount1","tokensOwed1","button","LiquidityPoolIntro","version","history","useHistory","loadAddLiquidity","useCallback","push","MainCard","level","variant","align","justifyContent","item","Button","onClick","floatLeft","float","avatarBox","clear","overflow","CurrenciesAvatar","currencyA","currencyB","createSvgIcon","TokenAmount","amount","useCollectFeeCalls","principal","useAccountPrincipal","openErrorTip","useErrorTip","withdraw","useSwapWithdraw","currencyFeeAmount0","currencyFeeAmount1","openExternalTip","stepKey","async","_getLocaleMessage","status","message","identity","getActorIdentity","collect","collectPositionFee","getLocaleMessage","BigNumber","quotient","minus","transFee","isGreaterThan","tipKey","useCollectFeeSteps","stepContentManage","useStepContentManager","handleReclaim","useReclaimCallback","_ref4","retry","content","_principal$toString","principalString","shorten","withdrawAmountA","toSignificant","groupSeparator","_withdrawAmountA","withdrawAmountB","_withdrawAmountB","tokenA","wrapped","tokenB","withdrawAmountALessThanZero","formatTokenAmount","decimals","isLessThan","withdrawAmountBLessThanZero","title","symbol","step","label","errorActions","TextButton","values","0","errorMessage","skipError","getCollectFeeSteps","String","feeBox","palette","level3","CollectFees","open","onClose","onClaimedSuccessfully","openSuccessTip","useSuccessTip","openLoadingTip","closeLoadingTip","useLoadingTip","setLoading","useState","getClaimFeeCall","getCalls","formatCall","useStepCalls","initialSteps","_ref5","newStepKey","calls","call","reset","useCollectFeeCallback","SwapModal","_Fragment","xs","mr","TokenImage","tokenId","toFormat","toExact","toFixed","fullWidth","marginTop","BigInt","ReclaimTips","loadingTipKey","extraContent","StepViewButton","disabled","startIcon","CircularProgress","createContext","positionContainer","backgroundColor","radius","gray200","cursor","breakpoints","down","detailContainer","PositionDetailItem","convert","onConvertClick","useTheme","matchDownSM","useMediaQuery","flex","isElement","SyncAltIcon","PositionDetails","manuallyInverted","setManuallyInverted","show","token0USDPrice","token1USDPrice","onPrincipalChange","feeAmount","_tickAtLimit","useIsTickAtLimit","pricesFromPosition","getPriceOrderingFromPositionForUI","priceLower","priceUpper","base","useInverter","quote","invert","inverted","equals","tickAtLimit","Bound","LOWER","UPPER","currencyQuote","currencyBase","pairName","feeAmount0","feeAmount1","CurrencyAmount","fromRawAmount","numberToString","gap","flexDirection","toSignificantWithGroupSeparator","CurrencyAmountFormatDecimals","priceOf","formatTickPrice","formatDollarAmount","multipliedBy","plus","FilledTextField","multiline","placeholder","onChange","TransferPosition","showButtons","invalid","onTransferSuccess","userPrincipal","setPrincipal","matchDownMD","tickCurrent","useUSDPriceById","totalUSDValue","error","isValidPrincipal","Loading","circularSize","isDarkTheme","mx","Chip","feeAmountToPercentage","DEFAULT_PERCENT_SYMBOL","PositionStatus","loadingKey","resultFormat","swapPool","transferPosition","Principal","fromText","ResultStatus","OK","moreRef","useRef","collectFeesShow","setCollectFeesShow","reloadPositionFee","setReloadPositionFee","transferPopperShow","setTransferPopperShow","transferShow","setTransferShow","updateCounter","useContext","PositionContext","noLiquidity","handleLoadRemoveLiquidity","handleLoadIncreaseLiquidity","handleCollectFee","hasUnclaimedFees","gridTemplateColumns","isMobile","ref","onMouseEnter","onMouseLeave","Popper","anchorEl","current","placement","popperOptions","modifiers","name","options","offset","ClickAwayListener","onClickAway","level1","CollectFeesModal","handleClaimedSuccessfully","handleTransferSuccess","PositionItem","detailShow","setDetailShow","handleToggleShow","setAllPositionsUSDValue","positionKey","useEffect","ml","KeyboardArrowUp","KeyboardArrowDown","hasLiquidity","_position$liquidity","positionDetail","PositionItemComponent","index","Positions","useAccountPrincipalString","findPositionsOpen","setFindPositionsOpen","allPositionsUSDKeyValue","counter","setCounter","positions","setPositions","userPositionPools","useStoreUserPositionPools","length","userPositionsResult","Promise","all","map","getUserPositionIds","filter","ele","reduce","prev","curr","getSwapPosition","useUserAllPositions","initialUserPositionPoolsLoading","useInitialUserPositionPools","hasLiquidityPositions","allPositionsUSDValue","Object","Provider","handleAllPositionsUSDValue","usdValue","prevState","mb","LoadingRow","NoData","FindPositionsModal","topBox","listItem","poolName","poolData","PoolCard","totalVolumeUSD","tvlUSD","token0Symbol","token1Symbol","handlePoolClick","rejected","generator","throw","e","reject","done","resolve","then","fulfilled","apply","thisArg","_arguments","next","useAllPoolsTVL","useCallsData","__awaiter","globalIndex","getAllPoolTvl","data","getAllPoolsTVL","bgOpacity","gridGap","listWrapper","left","bottom","zIndex","PoolList","pools","useInfoAllPools","allPoolsTVL","tvlLoading","poolList","sort","a","b","feeTier","slice","find","poolTVL","token0Id","token1Id","Liquidity","isInitialed","updatePoolStandardInitialed","usePoolStandardManager","useSwapPools","updateTokenStandard","useUpdateTokenStandard","trigger","updatedNum","i","standard","to","token0PriceUpper","lessThan","token0PriceLower"],"sourceRoot":""}