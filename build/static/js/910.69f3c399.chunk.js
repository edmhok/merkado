"use strict";(self.webpackChunkmerkado=self.webpackChunkmerkado||[]).push([[910],{18910:(e,n,t)=>{t.r(n),t.d(n,{default:()=>F});var i=t(3481),s=t(54711),l=t(72296),a=t(27312),r=t(40853),o=t(7745),d=t(52634),c=t(60479),x=t(56577),p=t(80091),u=t(12852),h=t(29090),m=t(31119),j=t(97260),A=t(55484),f=t(2281),g=t(62474),v=t(37012);function y(){return(0,v.jsx)(d.A,{sx:{color:"#4fdb9a"},component:"span",children:"*"})}var C=t(66052),S=t(12585),b=t(39308),I=t(49002),k=t(86100),w=t(27895),R=t(84076),z=t(61361),N=t(52593),B=t(3871);let G=0;function F(){var e,n,t,F;const P=(0,a.W6)(),L=(0,u.F7)(),[T,_]=(0,l.useState)({}),[W]=(0,A.cO)(),[O,U]=(0,l.useState)(null),[D,Q]=(0,l.useState)(""),V=(0,l.useRef)(null),[E,M]=(0,l.useState)(!1),{canister:q}=(0,N.e)(),{result:H}=(0,j.Q9)(T.nftCanister);(0,l.useEffect)((()=>{q&&_({...T,nftCanister:q})}),[q]);const X=(e,n)=>{let t=e;"fee"===n&&new w.A(t).isGreaterThan(100)&&(t="100"),_({...T,[n]:t})},K=(0,j.nG)(),{result:Y}=(0,j.K1)(L,0,100),{content:J}=null!==Y&&void 0!==Y?Y:{content:[]};let Z="";return E||(Z=s.Ru._({id:"71XIWG"})),D&&(Z=s.Ru._({id:"8pCOBS"})),O||(Z=s.Ru._({id:"5SRIOc"})),T.name||(Z=s.Ru._({id:"LnUcnD"})),T.nftCanister||(Z=s.Ru._({id:"3+Uj6C"})),(0,v.jsxs)(B.C,{children:[(0,v.jsx)(h.BI,{prevLink:"/console",prevLabel:(0,v.jsx)(i.x6,{id:"cFTdM+"}),currentLabel:(0,v.jsx)(i.x6,{id:"MHyhAs"})}),(0,v.jsx)(h.Am,{sx:{margin:"16px 0 0 0"},children:(0,v.jsx)(r.Ay,{container:!0,justifyContent:"center",children:(0,v.jsxs)(o.A,{sx:{maxWidth:"474px",margin:"28px 0 0 0"},children:[(0,v.jsx)(d.A,{sx:{fontSize:"20px",fontWeight:700,color:"text.primary"},children:(0,v.jsx)(i.x6,{id:"MHyhAs"})}),(0,v.jsxs)(r.Ay,{mt:"32px",container:!0,sx:{display:"grid",gap:"20px 0",gridTemplateColumns:"1fr",gridAutoFlow:"row"},children:[(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"fc6LLr"}),required:!0,select:!0,placeholder:"Select the NFT canister",helperText:null!==(e=T.nftCanister)&&void 0!==e?e:"",value:null===(n=J.filter((e=>e.cid===T.nftCanister))[0])||void 0===n?void 0:n.name,onChange:e=>X(e,"nftCanister"),menus:J.map((e=>({value:e.cid,label:e.name}))),CustomNoData:(0,v.jsxs)(r.Ay,{container:!0,alignItems:"center",flexDirection:"column",sx:{paddingBottom:"20px"},children:[(0,v.jsx)(h.YQ,{}),(0,v.jsx)(h.QW,{to:"/console/nft/canister/create",children:(0,v.jsx)(i.x6,{id:"OWe2O2"})})]})})})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"Er+ntZ"}),required:!0,placeholder:"Enter the NFT name",onChange:e=>X(e,"name"),InputProps:{inputProps:{maxLength:200}}})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsxs)(o.A,{children:[(0,v.jsxs)(r.Ay,{container:!0,alignItems:"center",children:[(0,v.jsxs)(r.Ay,{item:!0,xs:!0,children:[(0,v.jsx)(y,{}),(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"bwSQI0"})})]}),(0,v.jsxs)(d.A,{component:"span",fontSize:"14px",color:"text.primary",children:[(0,v.jsx)(i.x6,{id:"wDGJ66"}),"\xa0",new w.A(null!==H&&void 0!==H&&H.totalSupply?String(null===H||void 0===H?void 0:H.totalSupply):0).minus(null!==H&&void 0!==H&&H.mintSupply?String(null===H||void 0===H?void 0:H.mintSupply):0).toFormat()]})]}),(0,v.jsx)(o.A,{mt:2,children:(0,v.jsx)(h.GV,{placeholder:s.Ru._({id:"IHwQ6q"}),onChange:e=>X(e,"supply"),value:null!==(t=T.supply)&&void 0!==t?t:1,InputProps:{inputComponent:h.et,inputProps:{thousandSeparator:!0,decimalScale:0,allowNegative:!1,format:e=>new w.A(e).isGreaterThan(f.Rt)?String(f.Rt):e}}})})]})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"Nu4oKW"}),placeholder:s.Ru._({id:"GU8uQ3"}),multiline:!0,rows:5,maxRows:5,onChange:e=>X(e,"desc"),InputProps:{inputProps:{maxLength:500}}})})}),(0,v.jsxs)(o.A,{className:"grid-box",children:[(0,v.jsxs)(r.Ay,{container:!0,children:[(0,v.jsx)(r.Ay,{item:!0,xs:!0,children:(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"6GBt0m"})})}),(0,v.jsx)(r.Ay,{item:!0,children:(0,v.jsxs)(r.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{width:"72px",height:"31px",border:"1px solid #4F5A84",borderRadius:"8px",cursor:"pointer"},onClick:()=>{var e;_({...T,metadata:[...null!==(e=T.metadata)&&void 0!==e?e:[],{label:"",value:"",key:++G}]})},children:[(0,v.jsx)(b.A,{fontSize:"small"}),(0,v.jsx)(d.A,{color:"text.primary",children:(0,v.jsx)(i.x6,{id:"m16xKo"})})]})})]}),(0,v.jsx)(o.A,{mt:2,children:(null!==(F=T.metadata)&&void 0!==F?F:[]).map(((e,n)=>(0,v.jsxs)(r.Ay,{container:!0,sx:{marginBottom:"10px","&:last-child":{marginBottom:"0px"}},children:[(0,v.jsx)(o.A,{mr:"10px",sx:{width:"145px"},children:(0,v.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"DiG8BI"}),InputProps:{disableUnderline:!0,inputProps:{maxLength:100}},onChange:e=>((e,n)=>{var t;const i=[...null!==(t=T.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],label:e}),_({...T,metadata:i})})(e,n)})}),(0,v.jsx)(r.Ay,{item:!0,xs:!0,children:(0,v.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"qRDDhy"}),onChange:e=>((e,n)=>{var t;const i=[...null!==(t=T.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],value:e}),_({...T,metadata:i})})(e,n),InputProps:{disableUnderline:!0,inputProps:{maxLength:100},endAdornment:(0,v.jsx)(c.A,{position:"end",children:(0,v.jsx)(I.A,{sx:{color:"#111936",fontSize:"20px",cursor:"pointer"},onClick:()=>(e=>{var n;const t=[...null!==(n=T.metadata)&&void 0!==n?n:[]];t[e]&&t.splice(e,1),_({...T,metadata:t})})(n)})})}})})]},"".concat(e.key))))})]}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.A,{children:[(0,v.jsx)(y,{}),(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"6NPnp4"})})]}),(0,v.jsx)(o.A,{mt:2,children:(0,v.jsxs)(o.A,{sx:{height:"180px"},children:[(0,v.jsx)(m.A,{ref:V,maxSize:204800,types:f.VE,accept:".jpeg, .png, .jpg, .gif, .apng, .pdf, .txt, .json, .ppt, .pptx, .xls, .xlsx, .docx, .doc",placeholder:"Upload your file",beforeUpload:()=>!!T.nftCanister||(W("Select NFT Canister First",A.XI),!1),canisterId:T.nftCanister,uploadImmediately:!1,onFileSelected:e=>{U(e)},onFileError:e=>{Q(e)}}),(0,v.jsx)(d.A,{sx:{marginTop:"5px"},children:(0,v.jsx)(i.x6,{id:"zBpfj0"})})]})})]})})]}),(0,v.jsxs)(o.A,{mt:8,children:[(0,v.jsx)(g.A,{onSubmit:async(e,n)=>{var t,i,l,a,r,o;let{loading:d,closeLoading:c}=n;if(d)return;const{filePath:x,fileType:p}=null!==(t=await(null===(i=V.current)||void 0===i?void 0:i.uploadCb()))&&void 0!==t?t:{};if(!x)return void c();const{status:u,message:h,data:m}=await K(T.nftCanister,e,{nftType:null!==(l=T.series)&&void 0!==l?l:"",fileType:null!==p&&void 0!==p?p:"",artistName:"",introduction:null!==(a=T.desc)&&void 0!==a?a:"",royalties:BigInt(0),name:T.name,link:null!==(r=T.link)&&void 0!==r?r:"",image:x,filePath:x,owner:{address:L},attributes:[{k:"",v:""}],count:T.supply?BigInt(new w.A(T.supply).toString()):BigInt(1),metadata:[[...(0,k.Yp)(JSON.stringify((null!==(o=T.metadata)&&void 0!==o?o:[]).reduce(((e,n)=>n.label&&n.value?[...e,{label:n.label,value:n.value}]:[]),[])))]]});var j;(c(),"err"===u)?W(null!==(j=(0,R.If)(h))&&void 0!==j?j:s.Ru._({id:"FHz+63"}),A.XI):P.push("/wallet/nft/view/".concat(T.nftCanister,"/").concat(Number(m)))},fullScreenLoading:!0,children:e=>{let{submit:n,loading:t}=e;return(0,v.jsx)(z.A,{variant:"contained",fullWidth:!0,size:"large",onClick:n,disabled:Boolean(Z)||t,startIcon:t?(0,v.jsx)(x.A,{size:24,color:"inherit"}):null,children:Z||s.Ru._({id:"5IrCQY"})})}}),(0,v.jsxs)(r.Ay,{container:!0,mt:"20px",children:[(0,v.jsx)(o.A,{sx:{marginRight:"8px"},children:(0,v.jsx)(p.A,{checked:E,sx:{padding:"0"},icon:(0,v.jsx)(C.A,{sx:{fontSize:"20px"}}),checkedIcon:(0,v.jsx)(S.A,{sx:{fontSize:"20px"}}),onChange:()=>M(!E)})}),(0,v.jsx)(r.Ay,{item:!0,xs:!0,children:(0,v.jsx)(d.A,{sx:{cursor:"pointer"},onClick:()=>M(!E),children:(0,v.jsx)(i.x6,{id:"8Xrlk3"})})})]})]})]})})})]})}},12585:(e,n,t)=>{var i=t(52867);n.A=void 0;var s=i(t(50470)),l=t(37012),a=(0,s.default)([(0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"5"},"1")],"RadioButtonCheckedOutlined");n.A=a},66052:(e,n,t)=>{var i=t(52867);n.A=void 0;var s=i(t(50470)),l=t(37012),a=(0,s.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUncheckedOutlined");n.A=a}}]);
//# sourceMappingURL=910.69f3c399.chunk.js.map