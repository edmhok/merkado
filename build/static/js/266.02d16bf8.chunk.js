(self.webpackChunkmerkado=self.webpackChunkmerkado||[]).push([[266],{18910:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>E});var i=t(3481),s=t(54711),r=t(72296),a=t(27312),o=t(40853),l=t(7745),d=t(52634),c=t(60479),x=t(56577),p=t(80091),u=t(28955),h=t(25476),m=t(31119),v=t(97260),j=t(55484),A=t(2281),f=t(62474),g=t(37012);function y(){return(0,g.jsx)(d.A,{sx:{color:"#4fdb9a"},component:"span",children:"*"})}var b=t(66052),S=t(12585),C=t(39308),I=t(49002),w=t(86100),z=t(27895),R=t(84076),P=t(61361),k=t(52593),N=t(3871);let L=0;function E(){var e,n,t,E;const T=(0,a.W6)(),B=(0,u.F7)(),[F,G]=(0,r.useState)({}),[M]=(0,j.cO)(),[_,O]=(0,r.useState)(null),[W,Q]=(0,r.useState)(""),U=(0,r.useRef)(null),[V,D]=(0,r.useState)(!1),{canister:H}=(0,k.e)(),{result:q}=(0,v.Q9)(F.nftCanister);(0,r.useEffect)((()=>{H&&G({...F,nftCanister:H})}),[H]);const X=(e,n)=>{let t=e;"fee"===n&&new z.A(t).isGreaterThan(100)&&(t="100"),G({...F,[n]:t})},K=(0,v.nG)(),{result:Y}=(0,v.K1)(B,0,100),{content:J}=null!==Y&&void 0!==Y?Y:{content:[]};let Z="";return V||(Z=s.Ru._({id:"71XIWG"})),W&&(Z=s.Ru._({id:"8pCOBS"})),_||(Z=s.Ru._({id:"5SRIOc"})),F.name||(Z=s.Ru._({id:"LnUcnD"})),F.nftCanister||(Z=s.Ru._({id:"3+Uj6C"})),(0,g.jsxs)(N.C,{children:[(0,g.jsx)(h.BI,{prevLink:"/console",prevLabel:(0,g.jsx)(i.x6,{id:"cFTdM+"}),currentLabel:(0,g.jsx)(i.x6,{id:"MHyhAs"})}),(0,g.jsx)(h.Am,{sx:{margin:"16px 0 0 0"},children:(0,g.jsx)(o.Ay,{container:!0,justifyContent:"center",children:(0,g.jsxs)(l.A,{sx:{maxWidth:"474px",margin:"28px 0 0 0"},children:[(0,g.jsx)(d.A,{sx:{fontSize:"20px",fontWeight:700,color:"text.primary"},children:(0,g.jsx)(i.x6,{id:"MHyhAs"})}),(0,g.jsxs)(o.Ay,{mt:"32px",container:!0,sx:{display:"grid",gap:"20px 0",gridTemplateColumns:"1fr",gridAutoFlow:"row"},children:[(0,g.jsx)(l.A,{className:"grid-box",children:(0,g.jsx)(l.A,{children:(0,g.jsx)(h.GV,{label:(0,g.jsx)(i.x6,{id:"fc6LLr"}),required:!0,select:!0,placeholder:"Select the NFT canister",helperText:null!==(e=F.nftCanister)&&void 0!==e?e:"",value:null===(n=J.filter((e=>e.cid===F.nftCanister))[0])||void 0===n?void 0:n.name,onChange:e=>X(e,"nftCanister"),menus:J.map((e=>({value:e.cid,label:e.name}))),CustomNoData:(0,g.jsxs)(o.Ay,{container:!0,alignItems:"center",flexDirection:"column",sx:{paddingBottom:"20px"},children:[(0,g.jsx)(h.YQ,{}),(0,g.jsx)(h.QW,{to:"/console/nft/canister/create",children:(0,g.jsx)(i.x6,{id:"OWe2O2"})})]})})})}),(0,g.jsx)(l.A,{className:"grid-box",children:(0,g.jsx)(h.GV,{label:(0,g.jsx)(i.x6,{id:"Er+ntZ"}),required:!0,placeholder:"Enter the NFT name",onChange:e=>X(e,"name"),InputProps:{inputProps:{maxLength:200}}})}),(0,g.jsx)(l.A,{className:"grid-box",children:(0,g.jsxs)(l.A,{children:[(0,g.jsxs)(o.Ay,{container:!0,alignItems:"center",children:[(0,g.jsxs)(o.Ay,{item:!0,xs:!0,children:[(0,g.jsx)(y,{}),(0,g.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,g.jsx)(i.x6,{id:"bwSQI0"})})]}),(0,g.jsxs)(d.A,{component:"span",fontSize:"14px",color:"text.primary",children:[(0,g.jsx)(i.x6,{id:"wDGJ66"}),"\xa0",new z.A(null!==q&&void 0!==q&&q.totalSupply?String(null===q||void 0===q?void 0:q.totalSupply):0).minus(null!==q&&void 0!==q&&q.mintSupply?String(null===q||void 0===q?void 0:q.mintSupply):0).toFormat()]})]}),(0,g.jsx)(l.A,{mt:2,children:(0,g.jsx)(h.GV,{placeholder:s.Ru._({id:"IHwQ6q"}),onChange:e=>X(e,"supply"),value:null!==(t=F.supply)&&void 0!==t?t:1,InputProps:{inputComponent:h.et,inputProps:{thousandSeparator:!0,decimalScale:0,allowNegative:!1,format:e=>new z.A(e).isGreaterThan(A.Rt)?String(A.Rt):e}}})})]})}),(0,g.jsx)(l.A,{className:"grid-box",children:(0,g.jsx)(l.A,{children:(0,g.jsx)(h.GV,{label:(0,g.jsx)(i.x6,{id:"Nu4oKW"}),placeholder:s.Ru._({id:"GU8uQ3"}),multiline:!0,rows:5,maxRows:5,onChange:e=>X(e,"desc"),InputProps:{inputProps:{maxLength:500}}})})}),(0,g.jsxs)(l.A,{className:"grid-box",children:[(0,g.jsxs)(o.Ay,{container:!0,children:[(0,g.jsx)(o.Ay,{item:!0,xs:!0,children:(0,g.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,g.jsx)(i.x6,{id:"6GBt0m"})})}),(0,g.jsx)(o.Ay,{item:!0,children:(0,g.jsxs)(o.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{width:"72px",height:"31px",border:"1px solid #4F5A84",borderRadius:"8px",cursor:"pointer"},onClick:()=>{var e;G({...F,metadata:[...null!==(e=F.metadata)&&void 0!==e?e:[],{label:"",value:"",key:++L}]})},children:[(0,g.jsx)(C.A,{fontSize:"small"}),(0,g.jsx)(d.A,{color:"text.primary",children:(0,g.jsx)(i.x6,{id:"m16xKo"})})]})})]}),(0,g.jsx)(l.A,{mt:2,children:(null!==(E=F.metadata)&&void 0!==E?E:[]).map(((e,n)=>(0,g.jsxs)(o.Ay,{container:!0,sx:{marginBottom:"10px","&:last-child":{marginBottom:"0px"}},children:[(0,g.jsx)(l.A,{mr:"10px",sx:{width:"145px"},children:(0,g.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"DiG8BI"}),InputProps:{disableUnderline:!0,inputProps:{maxLength:100}},onChange:e=>((e,n)=>{var t;const i=[...null!==(t=F.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],label:e}),G({...F,metadata:i})})(e,n)})}),(0,g.jsx)(o.Ay,{item:!0,xs:!0,children:(0,g.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"qRDDhy"}),onChange:e=>((e,n)=>{var t;const i=[...null!==(t=F.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],value:e}),G({...F,metadata:i})})(e,n),InputProps:{disableUnderline:!0,inputProps:{maxLength:100},endAdornment:(0,g.jsx)(c.A,{position:"end",children:(0,g.jsx)(I.A,{sx:{color:"#111936",fontSize:"20px",cursor:"pointer"},onClick:()=>(e=>{var n;const t=[...null!==(n=F.metadata)&&void 0!==n?n:[]];t[e]&&t.splice(e,1),G({...F,metadata:t})})(n)})})}})})]},"".concat(e.key))))})]}),(0,g.jsx)(l.A,{className:"grid-box",children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.A,{children:[(0,g.jsx)(y,{}),(0,g.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,g.jsx)(i.x6,{id:"6NPnp4"})})]}),(0,g.jsx)(l.A,{mt:2,children:(0,g.jsxs)(l.A,{sx:{height:"180px"},children:[(0,g.jsx)(m.A,{ref:U,maxSize:204800,types:A.VE,accept:".jpeg, .png, .jpg, .gif, .apng, .pdf, .txt, .json, .ppt, .pptx, .xls, .xlsx, .docx, .doc",placeholder:"Upload your file",beforeUpload:()=>!!F.nftCanister||(M("Select NFT Canister First",j.XI),!1),canisterId:F.nftCanister,uploadImmediately:!1,onFileSelected:e=>{O(e)},onFileError:e=>{Q(e)}}),(0,g.jsx)(d.A,{sx:{marginTop:"5px"},children:(0,g.jsx)(i.x6,{id:"zBpfj0"})})]})})]})})]}),(0,g.jsxs)(l.A,{mt:8,children:[(0,g.jsx)(f.A,{onSubmit:async(e,n)=>{var t,i,r,a,o,l;let{loading:d,closeLoading:c}=n;if(d)return;const{filePath:x,fileType:p}=null!==(t=await(null===(i=U.current)||void 0===i?void 0:i.uploadCb()))&&void 0!==t?t:{};if(!x)return void c();const{status:u,message:h,data:m}=await K(F.nftCanister,e,{nftType:null!==(r=F.series)&&void 0!==r?r:"",fileType:null!==p&&void 0!==p?p:"",artistName:"",introduction:null!==(a=F.desc)&&void 0!==a?a:"",royalties:BigInt(0),name:F.name,link:null!==(o=F.link)&&void 0!==o?o:"",image:x,filePath:x,owner:{address:B},attributes:[{k:"",v:""}],count:F.supply?BigInt(new z.A(F.supply).toString()):BigInt(1),metadata:[[...(0,w.Yp)(JSON.stringify((null!==(l=F.metadata)&&void 0!==l?l:[]).reduce(((e,n)=>n.label&&n.value?[...e,{label:n.label,value:n.value}]:[]),[])))]]});var v;(c(),"err"===u)?M(null!==(v=(0,R.If)(h))&&void 0!==v?v:s.Ru._({id:"FHz+63"}),j.XI):T.push("/wallet/nft/view/".concat(F.nftCanister,"/").concat(Number(m)))},fullScreenLoading:!0,children:e=>{let{submit:n,loading:t}=e;return(0,g.jsx)(P.A,{variant:"contained",fullWidth:!0,size:"large",onClick:n,disabled:Boolean(Z)||t,startIcon:t?(0,g.jsx)(x.A,{size:24,color:"inherit"}):null,children:Z||s.Ru._({id:"5IrCQY"})})}}),(0,g.jsxs)(o.Ay,{container:!0,mt:"20px",children:[(0,g.jsx)(l.A,{sx:{marginRight:"8px"},children:(0,g.jsx)(p.A,{checked:V,sx:{padding:"0"},icon:(0,g.jsx)(b.A,{sx:{fontSize:"20px"}}),checkedIcon:(0,g.jsx)(S.A,{sx:{fontSize:"20px"}}),onChange:()=>D(!V)})}),(0,g.jsx)(o.Ay,{item:!0,xs:!0,children:(0,g.jsx)(d.A,{sx:{cursor:"pointer"},onClick:()=>D(!V),children:(0,g.jsx)(i.x6,{id:"8Xrlk3"})})})]})]})]})})})]})}},39308:(e,n,t)=>{"use strict";var i=t(52867);n.A=void 0;var s=i(t(50470)),r=t(37012),a=(0,s.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.A=a},49002:(e,n,t)=>{"use strict";var i=t(52867);n.A=void 0;var s=i(t(50470)),r=t(37012),a=(0,s.default)((0,r.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");n.A=a},12585:(e,n,t)=>{"use strict";var i=t(52867);n.A=void 0;var s=i(t(50470)),r=t(37012),a=(0,s.default)([(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"5"},"1")],"RadioButtonCheckedOutlined");n.A=a},66052:(e,n,t)=>{"use strict";var i=t(52867);n.A=void 0;var s=i(t(50470)),r=t(37012),a=(0,s.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUncheckedOutlined");n.A=a},60479:(e,n,t)=>{"use strict";t.d(n,{A:()=>b});var i=t(64032),s=t(95265),r=t(72296),a=t(39189),o=t(58216),l=t(93343),d=t(52634),c=t(69057),x=t(26857),p=t(13283),u=t(72786),h=t(48890);function m(e){return(0,h.Ay)("MuiInputAdornment",e)}const v=(0,u.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var j,A=t(17800),f=t(37012);const g=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,p.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n["position".concat((0,l.A)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,s.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===t.variant&&{["&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")")]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),b=r.forwardRef((function(e,n){const t=(0,A.A)({props:e,name:"MuiInputAdornment"}),{children:p,className:u,component:h="div",disablePointerEvents:v=!1,disableTypography:b=!1,position:S,variant:C}=t,I=(0,i.A)(t,g),w=(0,x.A)()||{};let z=C;C&&w.variant,w&&!z&&(z=w.variant);const R=(0,s.A)({},t,{hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:v,position:S,variant:z}),P=(e=>{const{classes:n,disablePointerEvents:t,hiddenLabel:i,position:s,size:r,variant:a}=e,d={root:["root",t&&"disablePointerEvents",s&&"position".concat((0,l.A)(s)),a,i&&"hiddenLabel",r&&"size".concat((0,l.A)(r))]};return(0,o.A)(d,m,n)})(R);return(0,f.jsx)(c.A.Provider,{value:null,children:(0,f.jsx)(y,(0,s.A)({as:h,ownerState:R,className:(0,a.A)(P.root,u),ref:n},I,{children:"string"!==typeof p||b?(0,f.jsxs)(r.Fragment,{children:["start"===S?j||(j=(0,f.jsx)("span",{className:"notranslate",children:"\u200b"})):null,p]}):(0,f.jsx)(d.A,{color:"text.secondary",children:p})}))})}))},52593:(e,n,t)=>{"use strict";t.d(n,{e:()=>a});var i=t(99420),s=t(72296),r=t(27312);function a(){const{search:e}=(0,r.zy)();return(0,s.useMemo)((()=>function(e){let n=null!==e&&void 0!==e?e:"";if(!e){const{hash:e}=window.location;n=e.substr(e.indexOf("?"))}return n&&n.length>1?(0,i.parse)(n,{parseArrays:!1,ignoreQueryPrefix:!0}):{}}(e)),[e])}},76153:()=>{}}]);
//# sourceMappingURL=266.02d16bf8.chunk.js.map