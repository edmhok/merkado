"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[2274],{13930:(e,t,i)=>{i.d(t,{A:()=>m});var n=i(3481),o=i(53250),r=i(77500),s=i(1054),l=i(81863),a=i(37012);const d=(0,l.A)((e=>({wrapper:{display:"flex",alignItems:"center",height:"24px",padding:"0 9px",borderRadius:"8px","& .MuiTypography-root":{fontSize:"12px",fontWeight:500},"&.inRange":{background:e.colors.darkPrimary400},"&.closed":{background:e.colors.darkPrimary400},"&.outOfRange":{background:"#FFC107","& .MuiTypography-root":{color:e.colors.darkLevel1,marginLeft:"3px"}}}})));function c(e){return(0,a.jsx)(o.A,{width:"12",height:"12",viewBox:"0 0 12 12",...e,children:(0,a.jsx)("path",{d:"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z",fill:e.color?e.color:"#111936"})})}function u(){const e=d();return(0,a.jsxs)(r.A,{component:"span",className:"".concat(e.wrapper," closed"),children:[(0,a.jsx)(c,{fontSize:"12px",color:"#fff"}),(0,a.jsx)(s.A,{color:"#ffffff",sx:{marginLeft:"3px"},children:(0,a.jsx)(n.x6,{id:"D87pha"})})]})}function x(){const e=d();return(0,a.jsxs)(r.A,{className:"".concat(e.wrapper," outOfRange"),children:[(0,a.jsx)(c,{fontSize:"12px"}),(0,a.jsx)(s.A,{children:(0,a.jsx)(n.x6,{id:"i3Z+/Z"})})]})}function p(){const e=d();return(0,a.jsxs)(r.A,{className:"".concat(e.wrapper," inRange"),children:[(0,a.jsx)(r.A,{component:"span",sx:{background:"#54C081",width:"8px",height:"8px",borderRadius:"50%",marginRight:"8px"}}),(0,a.jsx)(s.A,{color:"#ffffff",children:(0,a.jsx)(n.x6,{id:"vOyUlD"})})]})}function m(e){let{outOfRange:t,closed:i}=e;return i?(0,a.jsx)(u,{}):t?(0,a.jsx)(x,{}):(0,a.jsx)(p,{})}},23298:(e,t,i)=>{i.d(t,{_:()=>k,x:()=>w});var n=i(54711),o=i(72296),r=i(27895),s=i(62474),l=i(16443),a=i(84076),d=i(5556),c=i(3481),u=i(77500),x=i(29160),p=i(72794),m=i(85066),h=i(11871),g=i(37012);function f(e){let{logo:t,amount:i}=e;return(0,g.jsxs)(u.A,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(x.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:t,children:"\xa0"}),null!==i&&void 0!==i?i:0]})}var v=i(17744),y=i(83937),j=i(55484),A=i(22061);async function k(e,t){const i=await(0,s.u)();return await(0,A.Fo)(e,i,{positionId:t})}function b(){const e=(0,l.Le)(),t=(0,v.KX)(),i=(0,y.wR)();return(0,o.useCallback)(((o,r)=>{let{positionId:s,retry:l,currencyFeeAmount0:a,currencyFeeAmount1:d}=r;const u=function(e){var t;let{positionId:i,retry:o,currencyFeeAmount0:r,currencyFeeAmount1:s,principal:l,handleReclaim:a}=e;const d=(0,p.m)(null!==(t=null===l||void 0===l?void 0:l.toString())&&void 0!==t?t:"",12),u=r.toSignificant(12,{groupSeparator:","}),x=r.toSignificant(12),v=s.toSignificant(12,{groupSeparator:","}),y=s.toSignificant(12),j=r.currency.wrapped,A=s.currency.wrapped,k=(0,m.N)(x,j.decimals).minus(j.transFee).isLessThan(0),b=(0,m.N)(y,A.decimals).minus(A.transFee).isLessThan(0);return[{title:"Collect ".concat(j.symbol," and ").concat(A.symbol),step:0,children:[{label:n.Ru._({id:"/Be9Gl"}),value:i.toString()},{label:n.Ru._({id:"lE0+Z9"}),value:(0,g.jsx)(f,{amount:u,logo:j.logo})},{label:n.Ru._({id:"KSIdCc"}),value:(0,g.jsx)(f,{amount:v,logo:A.logo})}],errorActions:[(0,g.jsx)(h.QW,{onClick:o,children:(0,g.jsx)(c.x6,{id:"6gRgw8"})})]},{title:k?n.Ru._({id:"rYsd3Z",values:{0:j.symbol}}):n.Ru._({id:"qhKyO3",values:{0:j.symbol}}),step:1,children:[{label:n.Ru._({id:"hehnjM"}),value:(0,g.jsx)(f,{amount:u,logo:j.logo})},{label:n.Ru._({id:"xFM/mD"}),value:d}],errorActions:[(0,g.jsx)(h.QW,{onClick:a,children:(0,g.jsx)(c.x6,{id:"CkKHX6"})}),(0,g.jsx)(h.QW,{onClick:o,children:(0,g.jsx)(c.x6,{id:"6gRgw8"})})],errorMessage:n.Ru._({id:"pX/p94"}),skipError:k?n.Ru._({id:"urmFa3"}):void 0},{title:b?n.Ru._({id:"rYsd3Z",values:{0:A.symbol}}):n.Ru._({id:"qhKyO3",values:{0:A.symbol}}),step:2,children:[{label:n.Ru._({id:"hehnjM"}),value:(0,g.jsx)(f,{amount:v,logo:A.logo})},{label:n.Ru._({id:"xFM/mD"}),value:d}],errorActions:[(0,g.jsx)(h.QW,{onClick:a,children:(0,g.jsx)(c.x6,{id:"CkKHX6"})}),(0,g.jsx)(h.QW,{onClick:o,children:(0,g.jsx)(c.x6,{id:"6gRgw8"})})],errorMessage:n.Ru._({id:"pX/p94"}),skipError:b?n.Ru._({id:"urmFa3"}):void 0}]}({positionId:s,retry:l,currencyFeeAmount1:d,currencyFeeAmount0:a,principal:e,handleReclaim:i});t(String(o),{content:u,title:n.Ru._({id:"PI/zuX"})})}),[e])}function w(){const e=function(){const e=(0,l.Le)(),[t]=(0,j.dX)(),i=(0,y.RM)();return(0,o.useCallback)((o=>{let{pool:s,positionId:l,currencyFeeAmount0:d,currencyFeeAmount1:c,openExternalTip:u,stepKey:x}=o;return[async()=>{var i;if(!l||!e||!s)return!1;const{status:o,message:r}=await k(s.id,l);return"ok"===o||(t(null!==(i=(0,a.If)(r))&&void 0!==i?i:n.Ru._({id:"EB0eTJ"})),!1)},async()=>!(!d||!s)&&(!new r.A(d.quotient.toString()).minus(d.currency.transFee).isGreaterThan(0)||await i(d.currency,s.id,d.quotient.toString(),(e=>{let{message:t}=e;u({message:t,tipKey:x})}))),async()=>!(!c||!s)&&(!new r.A(c.quotient.toString()).minus(c.currency.transFee).isGreaterThan(0)||await i(c.currency,s.id,c.quotient.toString(),(e=>{let{message:t}=e;u({message:t,tipKey:x})})))]}),[e])}(),t=(0,d.TM)(),i=b();return(0,o.useCallback)((n=>{let{pool:o,positionId:r,currencyFeeAmount0:s,currencyFeeAmount1:l,openExternalTip:a}=n;const c=(0,d.Eu)(),u=e({pool:o,positionId:r,currencyFeeAmount0:s,currencyFeeAmount1:l,openExternalTip:a,stepKey:c}),{call:x,reset:p,retry:m}=t(u,c);return i(c,{positionId:r,currencyFeeAmount0:s,currencyFeeAmount1:l,retry:m}),{call:x,reset:p,retry:m,key:c}}),[e,t,i])}},82757:(e,t,i)=>{i.d(t,{J:()=>l});i(72296);var n=i(87916),o=i(22631),r=i(81891),s=i(93321);function l(e){const{result:t}=(0,o.QH)(null===e||void 0===e?void 0:e.poolId),[,i]=(0,s.rd)(null===t||void 0===t?void 0:t.token0.address),[,l]=(0,s.rd)(null===t||void 0===t?void 0:t.token1.address),[a,d]=(0,r.Q2)(null!==i&&void 0!==i?i:void 0,null!==l&&void 0!==l?l:void 0,null!==t&&void 0!==t&&t.fee?Number(t.fee):void 0);let c;return d&&t&&e&&void 0!==e.tickLower&&void 0!==e.tickUpper&&void 0!==e.liquidity&&(c=new n.y({pool:d,liquidity:e.liquidity.toString(),tickLower:Number(e.tickLower),tickUpper:Number(e.tickUpper)})),{loading:a===r.S.LOADING,checking:a===r.S.NOT_CHECK,position:c,pool:null!==d&&void 0!==d?d:void 0}}},81279:(e,t,i)=>{i.d(t,{r:()=>o});var n=i(72296);function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const[o,r]=(0,n.useState)(void 0),[s,l]=(0,n.useState)(0);return(0,n.useEffect)((()=>{!async function(){if(e){const t=await e();r(t)}}()}),[s,e,t]),(0,n.useEffect)((()=>{const t=setInterval((()=>{e&&l((e=>e+1))}),i);return()=>{clearInterval(t)}}),[i,e]),(0,n.useMemo)((()=>o),[o])}},52274:(e,t,i)=>{i.r(t),i.d(t,{default:()=>We});var n=i(3481),o=i(72296),r=i(33441),s=i(77500),l=i(1054),a=i(11871),d=i(27648);let c=function(e){return e.NOT_STARTED="NOT_STARTED",e.LIVE="LIVE",e.FINISHED="FINISHED",e.CLOSED="CLOSED",e}({});var u=i(52593),x=i(52841),p=i(27312),m=i(54711),h=i(64032),g=i(95265),f=i(39189),v=i(58216),y=i(82703),j=i(76724),A=i(72786),k=i(48890);function b(e){return(0,k.Ay)("MuiCardActions",e)}(0,A.A)("MuiCardActions",["root","spacing"]);var w=i(37012);const C=["disableSpacing","className"],I=(0,y.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,g.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),S=o.forwardRef((function(e,t){const i=(0,j.A)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:o}=i,r=(0,h.A)(i,C),s=(0,g.A)({},i,{disableSpacing:n}),l=(e=>{const{classes:t,disableSpacing:i}=e,n={root:["root",!i&&"spacing"]};return(0,v.A)(n,b,t)})(s);return(0,w.jsx)(I,(0,g.A)({className:(0,f.A)(l.root,o),ownerState:s,ref:t},r))}));var T=i(87529);function R(e){return(0,k.Ay)("MuiCardContent",e)}(0,A.A)("MuiCardContent",["root"]);const L=["className","component"],P=(0,y.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),N=o.forwardRef((function(e,t){const i=(0,j.A)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=i,r=(0,h.A)(i,L),s=(0,g.A)({},i,{component:o}),l=(e=>{const{classes:t}=e;return(0,v.A)({root:["root"]},R,t)})(s);return(0,w.jsx)(P,(0,g.A)({as:o,className:(0,f.A)(l.root,n),ownerState:s,ref:t},r))}));var F=i(23603),M=i(61361),D=i(87851),E=i(20361),U=i(66354),O=i(85066),_=i(27895),B=i(59155),H=i(2777),z=i(81279),V=i(16443);function q(e){let{rewardToken:t,farm:i,userRewardAmount:n}=e;const r=(0,D.vb)(t),s=(0,D.bt)(),l=(0,V.WT)(),a=function(e,t){const i=(0,o.useCallback)((async()=>{if(e)return await(0,x.Hc)(e)}),[e]);return(0,z.r)(i,t)}(i.farmCid),d=(0,o.useMemo)((()=>a&&s?new _.A(s).multipliedBy(a.stakedTokenTVL).toFixed(3):0),[a,s]),c=(0,o.useMemo)((()=>{if(!t||!r)return 0;return new _.A(r).multipliedBy(i.totalReward.toString()).toNumber()}),[t,i,r]),u=(0,o.useMemo)((()=>t&&r&&n?new _.A(r).multipliedBy((0,O.t)(n,t.decimals)).toNumber():0),[t,r,n]),p=(0,o.useMemo)((()=>{if(t&&n)return(0,O.t)(n,t.decimals).toNumber()}),[t,n]),m=function(e,t,i){const n=(0,o.useCallback)((async()=>{if(e&&t)return await(0,x.qt)(e,t)}),[e,t]);return(0,z.r)(n,i)}(i.farmCid,l),h=(0,o.useMemo)((()=>m&&s?new _.A(m).multipliedBy(s).toFixed(3):0),[m,s]);return(0,o.useMemo)((()=>({poolTVL:d,totalRewardUSD:c,userRewardUSD:u,parsedUserRewardAmount:p,userTVL:h})),[d,h,u,c,p])}var W=i(57803),K=i(81863),Z=i(69770),Q=i(93321),Y=i(2281),G=i(10739),X=i(53922),J=i(72794),$=i(73416),ee=i(50972),te=i(54316),ie=i(40970),ne=i(11149),oe=i.n(ne);const re=(0,o.createContext)({});var se=i(4102);let le=function(e){return e.LIVE="Live",e.CLOSURE="Closure",e.UNSTARTED="Unstarted",e.FINISHED="Finished",e}({});var ae=i(98152),de=i(92213),ce=i(55484),ue=i(84076),xe=i(62474),pe=i(71484),me=i(82757),he=i(86100),ge=i(68112),fe=i(13930),ve=i(61753),ye=i(29277),je=i(63473),Ae=i(50284),ke=i(43643),be=i(65810);const we=(0,K.A)((()=>({selectNFTBox:{position:"relative"},nft:{width:"160px",filter:"grayscale(100%)"},checked:{width:"160px",border:"1px solid #5669DC",filter:"drop-shadow(0px 0px 4px #5669DC)",borderRadius:"22px"},checkbox:{"&.noLiquidity":{filter:"grayscale(100%)!important"}}})));function Ce(){return(0,w.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,w.jsx)("g",{clipPath:"url(#clip0_32128_12869)",children:(0,w.jsx)("path",{d:"M11.06 5.72656L8 8.7799L4.94 5.72656L4 6.66656L8 10.6666L12 6.66656L11.06 5.72656Z",fill:"#111936"})}),(0,w.jsx)("defs",{children:(0,w.jsx)("clipPath",{id:"clip0_32128_12869",children:(0,w.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}function Ie(e){let{label:t,value:i}=e;return(0,w.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,w.jsx)(l.A,{children:t}),(0,w.jsx)(l.A,{color:"text.primary",children:i})]})}function Se(e){var t;let{positionInfo:i,selectedPositionId:n,setSelectedPositionId:r,poolId:a}=e;const d=we(),c=(0,ae.A)(),[u,x]=(0,o.useState)(!1),{position:p}=(0,me.J)({poolId:a,tickLower:i.tickLower,tickUpper:i.tickUpper,liquidity:i.liquidity}),m=null===p||void 0===p?void 0:p.pool,h=null===p||void 0===p?void 0:p.tickUpper,g=null===p||void 0===p?void 0:p.tickLower,f=null===m||void 0===m?void 0:m.token0,v=null===m||void 0===m?void 0:m.token1,y=null===p||void 0===p?void 0:p.amount0.toSignificant(8),j=null===p||void 0===p?void 0:p.amount1.toSignificant(8),A=!(!m||!h&&0!==h||!g&&0!==g)&&(m.tickCurrent<g||m.tickCurrent>=h),k="0"===(null===p||void 0===p||null===(t=p.liquidity)||void 0===t?void 0:t.toString()),b=(0,je.s)(p),{priceLower:C,priceUpper:I,base:S}=(0,Ae.h)({priceLower:null===b||void 0===b?void 0:b.priceLower,priceUpper:null===b||void 0===b?void 0:b.priceUpper,quote:null===b||void 0===b?void 0:b.quote,base:null===b||void 0===b?void 0:b.base,invert:!1}),T=v?null===S||void 0===S?void 0:S.equals(v):void 0,R=T?f:v,L=T?v:f,P=(0,o.useMemo)((()=>"".concat(null===R||void 0===R?void 0:R.symbol," per ").concat(null===L||void 0===L?void 0:L.symbol)),[R,L]),N=(0,ke.A)(null===m||void 0===m?void 0:m.fee,g,h),F=(0,o.useMemo)((()=>T?{[ye.zm.LOWER]:!!N[ye.zm.UPPER]||void 0,[ye.zm.UPPER]:!!N[ye.zm.LOWER]||void 0}:N),[N,T]),M=(0,D.v$)(null===p||void 0===p?void 0:p.pool.token0.address),E=(0,D.v$)(null===p||void 0===p?void 0:p.pool.token1.address),O=(0,o.useMemo)((()=>{if(!p||!M||!E)return;return new _.g(M).multipliedBy(p.amount0.toExact()).plus(new _.g(E).multipliedBy(p.amount1.toExact())).toString()}),[p,M,E]);return(0,w.jsx)(s.A,{className:d.selectNFTBox,children:p?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:"1fr auto",height:"64px",alignItems:"center",cursor:"pointer",padding:"0 12px","&:hover":{background:c.palette.background.level2}},onClick:()=>{x(!u)},children:[(0,w.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:"0 100px","@media(max-width:640px)":{flexDirection:"column",gap:"4px 0",alignItems:"flex-start"}},children:[(0,w.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:"0 5px","@media(max-width: 640px)":{gap:"0 2px"}},children:[(0,w.jsx)(pe.A,{className:d.checkbox,checked:Number(i.id)===n,onChange:()=>{n!==Number(i.id)?i.liquidity!==BigInt(0)&&r(Number(i.id)):r(void 0)},onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}),(0,w.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,w.jsx)(ge.H,{logo:p.pool.token0.logo,size:"24px",tokenId:p.pool.token0.address}),(0,w.jsx)(s.A,{sx:{position:"relative",left:"-5px"},children:(0,w.jsx)(ge.H,{logo:p.pool.token1.logo,size:"24px",tokenId:p.pool.token1.address})})]}),(0,w.jsxs)(l.A,{color:"text.primary",fontWeight:500,sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:[p.pool.token0.symbol," / ",p.pool.token1.symbol]})]}),(0,w.jsx)(l.A,{color:"text.primary",sx:{"@media(max-width: 640px)":{fontSize:"12px",padding:"0 0 0 32px"}},children:O?(0,U.o)(O):"--"})]}),(0,w.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:"0 4px"},children:[(0,w.jsx)(fe.A,{outOfRange:A,closed:k}),(0,w.jsx)(Ce,{})]})]}),u?(0,w.jsxs)(s.A,{sx:{background:c.palette.background.level2,padding:"20px 12px",display:"flex",gap:"24px 0",flexDirection:"column"},children:[(0,w.jsx)(Ie,{label:f?"".concat(null===f||void 0===f?void 0:f.symbol," Amount"):"--",value:f?"".concat(y," ").concat(f.symbol):"--"}),(0,w.jsx)(Ie,{label:v?"".concat(null===v||void 0===v?void 0:v.symbol," Amount"):"--",value:v?"".concat(j," ").concat(v.symbol):"--"}),(0,w.jsx)(Ie,{label:"Current Price",value:v&&f?T?null!==m&&void 0!==m&&m.priceOf(v)?"".concat((0,he.Vr)(null===m||void 0===m?void 0:m.priceOf(v).toSignificant(6))," ").concat(P):"--":null!==m&&void 0!==m&&m.priceOf(f)?"".concat((0,he.Vr)(null===m||void 0===m?void 0:m.priceOf(f).toSignificant(6))," ").concat(P):"--":"--"}),(0,w.jsx)(Ie,{label:"Price Range",value:"".concat((0,ve.I)(C,F,ye.zm.LOWER)," - ").concat((0,ve.I)(I,F,ye.zm.UPPER)," ").concat(P)})]}):null]}):(0,w.jsxs)(be.A,{children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]})})}function Te(e){let{open:t,onClose:i,resetData:n,farm:l,userAllPositions:d}=e;const c=(0,ae.A)(),[u]=(0,ce.cO)(),[x,p]=(0,o.useState)(!1),[h,g]=(0,o.useState)(void 0),f=async e=>{if(!e||!h)return;p(!0);const{status:t,message:o}=await async function(e,t,i){const n=await(await(0,H.P4)(t,e)).unstake(i);return(0,E.Pk)(n)}(e,l.farmCid,BigInt(h));u((0,ue.If)(o),t),p(!1),n&&n(),i&&i()};return(0,w.jsx)(a.aF,{maxWidth:"md",open:t,onClose:i,title:m.Ru._({id:"zimBId"}),dialogProps:{sx:{"& .MuiDialog-paper":{width:"632px"},"& .MuiDialogContent-root":{padding:"0"},"& .MuiDialogTitle-root":{padding:"8px 12px"}}},background:c.palette.background.level1,children:(0,w.jsxs)(r.Ay,{style:{minHeight:"300px"},children:[(0,w.jsxs)(s.A,{sx:{maxHeight:"340px",overflow:"auto"},children:[d.map(((e,t)=>(0,w.jsx)(Se,{poolId:l.pool,positionInfo:{id:e.positionId,liquidity:e.liquidity,tickLower:e.tickLower,tickUpper:e.tickUpper},selectedPositionId:h,setSelectedPositionId:g},t))),!d.length&&(0,w.jsx)(a.YQ,{})]}),(0,w.jsx)(s.A,{mt:"20px",sx:{padding:"0 24px"},children:(0,w.jsx)(xe.A,{onSubmit:async e=>{e&&f(e)},children:e=>{let{submit:t}=e;return(0,w.jsx)(se.A,{disabled:x||!h,variant:"contained",fullWidth:!0,type:"button",onClick:t,color:"primary",size:"large",startIcon:x?(0,w.jsx)(de.A,{size:24,color:"inherit"}):null,children:m.Ru._({id:"7VpPHA"})})}})})]})})}var Re=i(98545),Le=i(22631),Pe=i(23298);function Ne(e){let{open:t,onClose:i,resetData:n,farm:l}=e;const[d]=(0,ce.cO)(),c=(0,V.Le)(),u=l.pool,[x,p]=(0,o.useState)(!1),[h,g]=(0,o.useState)(void 0),{result:f,loading:v}=(0,Le.QZ)(l.pool,null===c||void 0===c?void 0:c.toString()),y=(0,o.useMemo)((()=>{if(f&&h)return f.filter((e=>Number(e.id)===h))[0]}),[f,h]),j=(0,ae.A)();return(0,w.jsx)(a.aF,{maxWidth:"md",open:t,onClose:i,title:m.Ru._({id:"zimBId"}),dialogProps:{sx:{"& .MuiDialog-paper":{width:"632px"},"& .MuiDialogContent-root":{padding:"0"},"& .MuiDialogTitle-root":{padding:"8px 12px"}}},background:j.palette.background.level1,children:(0,w.jsxs)(r.Ay,{style:{minHeight:"300px"},children:[(0,w.jsx)(s.A,{sx:{minHeight:"300px",maxHeight:"580px",overflow:"hidden auto"},children:v?(0,w.jsx)(a.n6,{mask:!1,loading:v}):(0,w.jsx)(s.A,{sx:{maxHeight:"340px",overflow:"auto"},children:(0,w.jsxs)(s.A,{children:[null===f||void 0===f?void 0:f.map(((e,t)=>(0,w.jsx)(Se,{poolId:l.pool,positionInfo:{id:e.id,liquidity:e.liquidity,tickLower:e.tickLower,tickUpper:e.tickUpper},selectedPositionId:h,setSelectedPositionId:g},t))),!(null!==f&&void 0!==f&&f.length)&&(0,w.jsx)(a.YQ,{})]})})}),(0,w.jsx)(s.A,{mt:"20px",sx:{padding:"0 24px"},children:(0,w.jsx)(xe.A,{onSubmit:async e=>{if(!e||!c||!h||!y)return;p(!0);const{status:t,message:o}=await(0,Le.VG)(e,u,l.farmCid,y.id);if(t===Re.i.ERROR)return d(o,t),void p(!1);await(0,Pe._)(u,y.id);const{status:r,message:s}=await async function(e,t,i){const n=await(await(0,H.P4)(t,e)).stake(i);return(0,E.Pk)(n)}(e,l.farmCid,BigInt(h));d((0,ue.If)(s),r),p(!1),n&&n(),i&&i()},children:e=>{let{submit:t}=e;return(0,w.jsx)(se.A,{disabled:x||!h,variant:"contained",fullWidth:!0,type:"button",onClick:t,color:"primary",size:"large",startIcon:x?(0,w.jsx)(de.A,{size:24,color:"inherit"}):null,children:m.Ru._({id:"7VpPHA"})})}})})]})})}const Fe=(0,K.A)((e=>({button:{minWidth:"28px",width:"28px",height:"28px",lineHeight:"100%",background:"#29314F",borderRadius:"8px",fontSize:"28px",fontWeight:"normal",color:"dark"===e.palette.mode?e.colors.darkTextSecondary:e.colors.lightPrimaryMain,"&.Mui-disabled":{color:"#666"}}})));function Me(e){var t;let{farm:i,resetData:n,userIncentives:s,userAllPositions:l}=e;const[a,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),x=Fe(),p=function(e){if(e.status.toLowerCase()===le.CLOSURE.toLowerCase())return le.CLOSURE;const t=BigInt((new Date).getTime()),i=e.endTime*BigInt(1e3);return t<e.startTime*BigInt(1e3)?le.UNSTARTED:t>i?le.FINISHED:le.LIVE}(i);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.Ay,{container:!0,sx:{gap:"0 10px"},justifyContent:"flex-end",children:[(0,w.jsx)(se.A,{disabled:"0"===(null!==(t=null===s||void 0===s?void 0:s.numberOfStakes)&&void 0!==t?t:0).toString(),className:x.button,onClick:()=>{d(!0)},children:"-"}),(0,w.jsx)(se.A,{disabled:p!==le.LIVE,className:x.button,onClick:()=>{u(!0)},children:"+"})]}),c&&(0,w.jsx)(Ne,{open:c,onClose:()=>u(!1),farm:i,resetData:n}),a&&(0,w.jsx)(Te,{open:a,onClose:()=>d(!1),farm:i,resetData:n,userAllPositions:l})]})}const De=(0,K.A)((()=>({cardHeader:{height:"196px",background:"rgba(101, 80, 186, 0.18)",borderRadius:"4px 4px 0 0",position:"relative",display:"flex",alignItems:"center",flexDirection:"column"},headerImage:{marginTop:"50px",marginBottom:"26px",position:"relative","& .poolImageBox":{marginTop:"-34px",marginBottom:"16px",marginLeft:"-10px",left:"50px",position:"absolute"}},collapseContent:{padding:0,width:"calc(100% - 48px)",margin:"0 auto",borderTop:"1px solid #313A5A"}}))),Ee=e=>{let{startTime:t,endTime:i}=e;const o=parseInt(String(Date.now()/1e3));let r=!1,s=t;return o>i&&(r=!0),s=o<t?1e3*t:o>t&&o<i?1e3*i:0,r?(0,w.jsx)(l.A,{color:"text.primary",children:(0,w.jsx)(n.x6,{id:"xDr/ct"})}):(0,w.jsx)(te.Ay,{date:s})};function Ue(e){var t,i,d,u,p,h,g,f,v,y,j,A;let{farm:k,state:b,stakeOnly:C}=e;const I=De(),R=(0,Z.A)(),L=(0,V.Le)(),[P,D]=o.useState(!1),[U,_]=(0,o.useState)(!1),K=function(e,t,i){const n=(0,o.useCallback)((async()=>{if(e&&t)return await(0,x.Ls)(e,t)}),[e,t]);return(0,z.r)(n,i)}(k.farmCid,null!==(t=null===L||void 0===L?void 0:L.toString())&&void 0!==t?t:Y.Ir),{result:te}=(0,x.YK)(k.farmCid,null===L||void 0===L?void 0:L.toString(),U),ne=(0,o.useMemo)((()=>te.map((e=>BigInt(e.positionId)))),[te]),se=function(e,t,i){const n=(0,o.useCallback)((async()=>{if(e&&t&&0!==t.length)return await(0,x.O2)(e,t)}),[e,t]);return(0,z.r)(n,i)}(k.farmCid,ne),[,le]=null!==(i=(0,Q.rd)(k.poolToken0.address))&&void 0!==i?i:void 0,[,ae]=null!==(d=(0,Q.rd)(k.poolToken1.address))&&void 0!==d?d:void 0,[,de]=null!==(u=(0,Q.rd)(k.rewardToken.address))&&void 0!==u?u:void 0,{poolTVL:ce,userTVL:ue,userRewardUSD:xe,parsedUserRewardAmount:pe}=q({token0:le,token1:ae,rewardToken:de,farm:k,userRewardAmount:se,userFarmInfo:K}),me=(0,V.RZ)(),{updateUnStakedFarms:he,deleteUnStakedFarms:ge}=(0,o.useContext)(re);(0,o.useEffect)((()=>{void 0!==ne&&(0===ne.length?he(k.farmCid):ge(k.farmCid))}),[null===ne||void 0===ne?void 0:ne.length]);const{result:fe}=(0,x.yN)(k.farmCid),{result:ve}=(ye=k.farmCid,(0,B.Pz)((0,o.useCallback)((async()=>{if(ye)return(0,E.Pk)(await(await(0,H.P4)(ye)).getCycleInfo()).data}),[ye])));var ye;return(0,w.jsx)(s.A,{children:(0,w.jsx)(a.Am,{level:1,padding:"0px",sx:{display:C&&0===te.length?"none":"block",width:"384px",overflow:"hidden",height:"fit-content","@media (max-width: 520px)":{width:"340px"}},children:(0,w.jsxs)(s.A,{sx:{maxWidth:400},children:[(0,w.jsxs)(r.Ay,{className:I.cardHeader,children:[(0,w.jsx)(l.A,{sx:{position:"absolute",top:0,left:0,minWidth:"77px",height:"30px",padding:"6px",background:"#654DA9",borderRadius:"4px 0 4px 0",textAlign:"center",border:"1px solid #654DA9",color:"dark"===R.palette.mode?R.colors.darkTextPrimary:R.colors.primaryMain},children:b===c.NOT_STARTED?oe()(m.Ru._({id:"qrOLhe"})):oe()(b)}),(0,w.jsxs)(r.Ay,{item:!0,className:I.headerImage,children:[(0,w.jsx)(a.HM,{size:"80px",logo:null===de||void 0===de?void 0:de.logo,tokenId:null===de||void 0===de?void 0:de.address}),(0,w.jsx)(r.Ay,{container:!0,className:"poolImageBox",children:(0,w.jsxs)(s.A,{sx:{display:"flex"},children:[(0,w.jsx)(a.HM,{size:"44px",logo:null===le||void 0===le?void 0:le.logo,tokenId:null===le||void 0===le?void 0:le.address}),(0,w.jsx)(a.HM,{size:"44px",logo:null===ae||void 0===ae?void 0:ae.logo,tokenId:null===ae||void 0===ae?void 0:ae.address})]})})]}),(0,w.jsx)(r.Ay,{children:(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsxs)(l.A,{color:"text.primary",sx:{padding:"0 12px"},children:["Stake ",null===le||void 0===le?void 0:le.symbol,"/",null===ae||void 0===ae?void 0:ae.symbol," position(LP) to earn ",null===de||void 0===de?void 0:de.symbol]})})})]}),(0,w.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:"20px 0",padding:"24px"},children:[(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"yyMtFL"})}),(0,w.jsx)(s.A,{sx:{flex:"1",display:"flex",justifyContent:"flex-end"},children:(0,w.jsx)(W.Ay,{preserveValue:!0,end:(0,O.t)(null!==(p=null===k||void 0===k?void 0:k.totalReward)&&void 0!==p?p:k.totalRewardUnclaimed,null===de||void 0===de?void 0:de.decimals).toNumber(),decimals:2,duration:1,separator:","})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"ala/rM"})}),(0,w.jsxs)(l.A,{color:"text.primary",children:["$",ce]})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsxs)(l.A,{children:[(0,w.jsx)(n.x6,{id:"oss9j7"}),"\xa0",null===de||void 0===de?void 0:de.symbol]}),(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsxs)(r.Ay,{container:!0,direction:"column",justifyContent:"flex-end",children:[(0,w.jsx)(W.Ay,{preserveValue:!0,end:null!==pe&&void 0!==pe?pe:0,decimals:6,duration:1,separator:","}),(0,w.jsx)(W.Ay,{style:{fontSize:14,textAlign:"right",display:"block"},preserveValue:!0,end:null!==xe&&void 0!==xe?xe:0,decimals:2,duration:1,separator:",",prefix:"~$"})]})})]}),(0,w.jsxs)(s.A,{children:[(0,w.jsx)(l.A,{mb:"14px",children:(0,w.jsx)(n.x6,{id:"gXgkiY"})}),(0,w.jsxs)(s.A,{sx:{display:"flex",height:"44px",lineHeight:"42px",background:"#111936",border:"1px solid #95a8ed",borderRadius:"8px",padding:"0 14px",alignItems:"center"},children:[(0,w.jsx)(l.A,{sx:{flex:1},children:Number(null!==(h=ne.length)&&void 0!==h?h:0)}),me?(0,w.jsx)(Me,{farm:k,resetData:()=>_(!U),userIncentives:K,userAllPositions:te}):(0,w.jsx)(M.A,{})]})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"h9kwA5"})})}),(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsxs)(l.A,{color:"text.primary",children:["$",ue]})})]})]}),(0,w.jsx)(S,{disableSpacing:!0,style:{paddingTop:0},children:(0,w.jsx)(r.Ay,{container:!0,justifyContent:"center",onClick:()=>{D(!P)},children:(0,w.jsx)(l.A,{sx:{fontWeight:"500",fontSize:"14px",lineHeight:"24px",textAlign:"center",color:"#648EFB",cursor:"pointer"},children:P?m.Ru._({id:"vLyv1R"}):m.Ru._({id:"URmyfc"})})})}),(0,w.jsx)(T.A,{in:P,timeout:"auto",unmountOnExit:!0,children:(0,w.jsx)(N,{style:{paddingTop:0},className:I.collapseContent,children:(0,w.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:"20px 0",maxWidth:400,paddingTop:"24px"},children:[(0,w.jsx)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsxs)(l.A,{sx:{cursor:"pointer",textDecoration:"underline"},onClick:()=>{window.open("/swap/liquidity/add/".concat(k.poolToken0.address,"/").concat(k.poolToken1.address),"_target")},children:["Get ",null===le||void 0===le?void 0:le.symbol,"/",null===ae||void 0===ae?void 0:ae.symbol," position(LP)",(0,w.jsx)(ie.a,{fontSize:"24",sx:{position:"relative",top:"3px",cursor:"pointer",marginLeft:"5px",color:R.colors.secondaryMain}})]})})}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"dUlrs9"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(null!==(g=null===K||void 0===K?void 0:K.numberOfStakes)&&void 0!==g?g:0).toString()})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"07xFC0"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(0,G.d)((0,O.t)(null!==(f=null===fe||void 0===fe||null===(v=fe.totalRewardClaimed)||void 0===v?void 0:v.toString())&&void 0!==f?f:0,null===de||void 0===de?void 0:de.decimals).toString(),8,{groupSeparator:","})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"EI9FNk"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(0,G.d)((0,O.t)(null!==(y=null===fe||void 0===fe||null===(j=fe.totalRewardUnclaimed)||void 0===j?void 0:j.toString())&&void 0!==y?y:0,null===de||void 0===de?void 0:de.decimals).toString(),8,{groupSeparator:","})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"1JRjWL"})}),(0,w.jsxs)(l.A,{color:"text.primary",children:[Number(null!==(A=null===fe||void 0===fe?void 0:fe.secondPerCycle)&&void 0!==A?A:0)/60," ",(0,w.jsx)(n.x6,{id:"lWkKSO"})]})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"9M76dZ"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(0,G.d)((0,O.t)(null===fe||void 0===fe?void 0:fe.rewardPerCycle,null===de||void 0===de?void 0:de.decimals).toString(),8,{groupSeparator:","})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"wGFX13"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(0,X.sZ)(1e3*Number(k.startTime))})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:b===c.NOT_STARTED?(0,w.jsx)(n.x6,{id:"UlKSMd"}):(0,w.jsx)(n.x6,{id:"h8mQug"})}),(0,w.jsx)(l.A,{color:"text.primary",component:"div",children:(0,w.jsx)(Ee,{startTime:Number(k.startTime),endTime:Number(k.endTime)})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"NCIYDF"})}),(0,w.jsx)(l.A,{color:"text.primary.main",children:(0,w.jsx)(F.A,{href:"https://icscan.io/principal/".concat(k.creator.toString()),target:"_blank",children:(0,J.m)(k.creator.toString())})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"GjmU36"})}),(0,w.jsx)(l.A,{color:"text.primary",children:(0,w.jsx)(F.A,{href:(0,$.c)(k.farmCid),target:"_blank",children:(0,J.m)(k.farmCid)})})]}),(0,w.jsxs)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(n.x6,{id:"5JWLqI"})}),(0,w.jsx)(l.A,{color:"text.primary",children:null!==ve&&void 0!==ve&&ve.balance?(0,ee.rr)(null===ve||void 0===ve?void 0:ve.balance):"--"})]}),(0,w.jsx)(r.Ay,{item:!0,container:!0,justifyContent:"flex-end",children:(0,w.jsx)(l.A,{color:"text.primary",children:(0,w.jsx)(F.A,{href:"".concat(Y.xP,"/staking-farm/details/").concat(k.farmCid),target:"_blank",children:(0,w.jsx)(n.x6,{id:"QxGm1/"})})})})]})})})]})})})}var Oe=i(67909),_e=i(87892),Be=i(41606);const He=(0,K.A)((()=>({item:{height:"145px",background:"rgba(80, 95, 186, 0.34)",border:"1px solid rgba(255, 255, 255, 0.04)",borderRadius:"12px",padding:"29px 25px","&.tvl":{background:"url(".concat(_e,") no-repeat center / cover")},"&.reward":{background:"url(".concat(Be,") no-repeat center / cover")}},itemTitle:{paddingBottom:"18px"}})));function ze(){var e,t;const i=He(),[s,a]=function(){const e=(0,D.bt)(),[t,i]=(0,o.useState)({stakeTokenTVL:"0",rewardTokenTVL:"0"}),[n,r]=(0,o.useState)(0);return(0,o.useMemo)((async()=>{if(e){const{data:t}=(0,E.Pk)(await(await(0,H.Oj)()).getGlobalTVL());t&&i({stakeTokenTVL:(0,U.o)(new _.A(t.stakedTokenTVL).multipliedBy(e).toFixed(4)),rewardTokenTVL:(0,U.o)(new _.A(t.rewardTokenTVL).multipliedBy(e).toFixed(4))})}}),[e,n]),[t,(0,o.useCallback)((()=>{r((e=>e+1))}),[r])]}();return(0,o.useEffect)((()=>{setTimeout((()=>{a()}),5e3)}),[s]),(0,w.jsxs)(r.Ay,{container:!0,spacing:Oe.i,children:[(0,w.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,w.jsxs)(r.Ay,{container:!0,className:"".concat(i.item," tvl"),direction:"column",justifyContent:"center",children:[(0,w.jsx)(r.Ay,{item:!0,className:i.itemTitle,children:(0,w.jsx)(l.A,{color:"text.primary",fontSize:"14px",children:(0,w.jsx)(n.x6,{id:"FHKsZF"})})}),(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsx)(l.A,{color:"text.primary",fontSize:"24px",children:null!==(e=null===s||void 0===s?void 0:s.stakeTokenTVL)&&void 0!==e?e:"-"})})]})}),(0,w.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,w.jsxs)(r.Ay,{container:!0,className:"".concat(i.item," reward"),direction:"column",justifyContent:"center",children:[(0,w.jsx)(r.Ay,{item:!0,className:i.itemTitle,children:(0,w.jsx)(r.Ay,{container:!0,children:(0,w.jsx)(l.A,{color:"text.primary",fontSize:"14px",sx:{display:"inline-block"},children:(0,w.jsx)(n.x6,{id:"rGILJn"})})})}),(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsx)(l.A,{color:"text.primary",fontSize:"24px",children:null!==(t=null===s||void 0===s?void 0:s.rewardTokenTVL)&&void 0!==t?t:"-"})})]})})]})}const Ve=[{label:m.Ru._({id:"dF6vP6"}),path:"/staking-farm?state=".concat(c.LIVE),state:c.LIVE},{label:m.Ru._({id:"qrOLhe"}),path:"/staking-farm?state=".concat(c.NOT_STARTED),state:c.NOT_STARTED},{label:m.Ru._({id:"4dQFvz"}),path:"/staking-farm?state=".concat(c.FINISHED),state:c.FINISHED},{label:m.Ru._({id:"dhQP/o"}),path:"/staking-farm?state=".concat(c.CLOSED),state:c.CLOSED}];function qe(){const e=(0,p.W6)(),[t,i]=(0,o.useState)(!1),{state:m}=(0,u.e)(),h=(0,o.useMemo)((()=>null!==m&&void 0!==m?m:c.LIVE),[m]),{result:g,loading:f}=(0,x.lU)(0,200,h),{content:v}=null!==g&&void 0!==g?g:{content:[]},[y,j]=(0,o.useState)([]);return(0,w.jsx)(re.Provider,{value:{unStakedFarms:y,updateUnStakedFarms:e=>{j((t=>t.concat(e)))},deleteUnStakedFarms:e=>{j((t=>{const i=[...t],n=t.indexOf(e);return-1!==n&&i.splice(n,1),i}))}},children:(0,w.jsxs)(a.Am,{children:[(0,w.jsxs)(r.Ay,{container:!0,direction:"row",sx:{padding:"10px 0 40px","@media (max-width: 960px)":{padding:"10px 0px 0px 0px"}},children:[(0,w.jsx)(r.Ay,{item:!0,children:(0,w.jsx)(s.A,{sx:{display:"flex",gap:"0 20px"},children:Ve.map((t=>(0,w.jsx)(l.A,{variant:"h3",color:h===t.state?"textPrimary":"textTertiary",onClick:()=>{return i=t,void e.push(i.path);var i},sx:{cursor:"pointer",textTransform:"capitalize","@media (max-width:640px)":{fontSize:"16px"}},children:t.label},t.path)))})}),(0,w.jsx)(r.Ay,{item:!0,style:{marginLeft:"auto"},children:(0,w.jsxs)(r.Ay,{container:!0,alignItems:"center",gap:"0 10px",children:[(0,w.jsx)(l.A,{display:"inline",children:(0,w.jsx)(n.x6,{id:"ekrRCK"})}),(0,w.jsx)(d.A,{checked:t,onChange:e=>{return t=e.target.checked,void i(t);var t}})]})})]}),(0,w.jsxs)(s.A,{sx:{position:"relative",minHeight:"440px"},children:[f?null:(0,w.jsx)(r.Ay,{container:!0,justifyContent:"center",sx:{gap:"20px"},children:v.map((e=>(0,w.jsx)(Ue,{stakeOnly:t,state:h,farm:e},e.farmCid)))}),(y.length===v.length&&t||!v.length)&&!f&&(0,w.jsx)(a.YQ,{}),f?(0,w.jsx)(a.DN,{loading:f}):null]})]})})}function We(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ze,{}),(0,w.jsx)(s.A,{sx:{margin:"20px 0 0 0"},children:(0,w.jsx)(qe,{})})]})}},52841:(e,t,i)=>{i.d(t,{Hc:()=>p,Ls:()=>c,O2:()=>h,UO:()=>g,YK:()=>x,lU:()=>f,qt:()=>m,yN:()=>v});var n=i(72296),o=i(20361),r=i(26462),s=i(65324),l=i(2777),a=i(59155);const d=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{a(n.next(e))}catch(t){r(t)}}function l(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}a((n=n.apply(e,t||[])).next())}))};function c(e,t){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getFarmInfo(t)).data}))}function u(e,t,i,n){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getUserPositions(s.p.from(t),BigInt(i),BigInt(n))).data}))}function x(e,t,i){const o=(0,n.useCallback)(((i,n)=>d(this,void 0,void 0,(function*(){if(e&&t)return yield u(e,t,i,n)}))),[e,t]);return(0,a.ND)(o,300,i)}function p(e){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getTVL()).data}))}function m(e,t){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getUserTVL(s.p.fromText(t))).data}))}function h(e,t){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getRewardInfo(t)).data}))}function g(e,t){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.Oj)(e)).create(t.rewardToken,t.rewardAmount,t.rewardPool,t.pool,t.startTime,t.endTime,t.secondPerCycle,t.token0AmountLimit,t.token1AmountLimit,t.priceInsideLimit))}))}function f(e,t,i,s){return(0,a.Pz)((0,n.useCallback)((()=>d(this,void 0,void 0,(function*(){if((0,r.W)(e,t)&&i)return yield function(e,t,i){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.Oj)()).getFarmList(BigInt(e),BigInt(t),i)).data}))}(e,t,i)}))),[e,t,i]),s)}function v(e){return(0,a.Pz)((0,n.useCallback)((()=>d(this,void 0,void 0,(function*(){if(e)return yield function(e){return d(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.P4)(e)).getRewardMeta()).data}))}(e)}))),[e]))}},63473:(e,t,i)=>{function n(e){if(!e)return{};const t=e.amount0.currency,i=e.amount1.currency;return e.token0PriceUpper.lessThan(1)?{priceLower:e.token0PriceUpper.invert(),priceUpper:e.token0PriceLower.invert(),quote:t,base:i}:{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:i,base:t}}i.d(t,{s:()=>n})},50284:(e,t,i)=>{function n(e){let{priceLower:t,priceUpper:i,quote:n,base:o,invert:r}=e;return{priceUpper:r?null===t||void 0===t?void 0:t.invert():i,priceLower:r?null===i||void 0===i?void 0:i.invert():t,quote:r?o:n,base:r?n:o}}i.d(t,{h:()=>n})},73416:(e,t,i)=>{function n(e){return e.length>27?"https://icscan.io/principal/".concat(e):"https://dashboard.internetcomputer.org/canister/".concat(e)}i.d(t,{c:()=>n})},53922:(e,t,i)=>{i.d(t,{St:()=>s,sZ:()=>l,yG:()=>r});var n=i(94570),o=i.n(n);function r(e){return Number(BigInt(e)/BigInt(1e6))}function s(e){return Number(BigInt(e)*BigInt(1e6))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"";const i=Number(String(e).substr(0,13));return o()(i).format(t)}},87892:(e,t,i)=>{e.exports=i.p+"static/media/1.28c4a546daaba6b79f81.png"},41606:(e,t,i)=>{e.exports=i.p+"static/media/3.559ea8cfedc425025a4f.png"}}]);
//# sourceMappingURL=2274.342385cc.chunk.js.map