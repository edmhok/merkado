"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[3379],{13379:(n,e,t)=>{t.r(e),t.d(e,{TokenStandards:()=>P,default:()=>C});var i=t(3481),o=t(54711),d=t(72296),r=t(33441),a=t(77500),l=t(1054),u=t(4102),s=t(92213),c=t(11871),h=t(62474),f=t(79932),v=t(81863),x=t(43477),g=t(37012);const p=(0,v.A)((()=>({box:{width:"100%",height:"100%",position:"relative",border:"1px dashed #4f5a84",borderRadius:"8px"},input:{position:"absolute",width:"100%",height:"100%",zIndex:"10",top:0,left:0,right:0,bottom:0,display:"block","& *":{background:"none"},"& fieldset":{border:"none"},"& .MuiInputBase-root":{height:"100%"},"& input":{padding:"0",opacity:"0",height:"100%",cursor:"pointer"},"& label":{opacity:"0"}},logo:{width:"80px",height:"80px",margin:"16px 0"}})));function y(n){let{onChange:e,defaultValue:t,...i}=n;const o=p(),[a,u]=(0,d.useState)(""),s={...i,defaultValue:void 0};(0,d.useEffect)((()=>{t&&u(t)}),[t]);return(0,g.jsxs)(r.Ay,{container:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",className:o.box,children:[""===a?(0,g.jsx)(x.A,{sx:{fontSize:"84px"}}):(0,g.jsx)("img",{className:o.logo,src:a,alt:""}),(0,g.jsx)(f.A,{className:o.input,fullWidth:!0,...s,type:"file",inputProps:{accept:".jpeg, .png, .jpg, .gif"},title:"",onChange:n=>{n.preventDefault();const t=new FileReader,i=n.target.files[0];if(i&&i.size/1024>100)return e&&e({status:!1,result:10400,message:"no more than 100K"}),void(n.target.value=null);if(i){const n=new FileReader;n.onload=n=>{((n,t)=>{const i=btoa(n);e&&e(t+i)})(n.target.result,"data:".concat(i.type,";base64,"))},n.readAsBinaryString(i)}void 0!==t&&void 0!==i&&(t.onloadend=()=>{u(t.result)},t.readAsDataURL(i))}}),""===a?(0,g.jsx)(l.A,{mb:2,children:"Drop your logo here(less than 100K)"}):null]})}var m=t(55484),j=t(25234),k=t(65324),A=t(86307),b=t(94926);const P=[{label:"EXT",value:b.iF.EXT},{label:"DIP20",value:b.iF.DIP20}];function C(){const[n]=(0,m.I5)(),[e]=(0,m.dX)(),[t,f]=(0,d.useState)({name:"",logo:"",manager:"",tokenId:"",standard:""}),v=(n,e)=>{f({...t,[e]:n})};let x="";return t.name||(x=o.Ru._({id:"LnUcnD"})),t.logo||(x=o.Ru._({id:"UbLjqE"})),t.standard||(x=o.Ru._({id:"9jDXVD"})),t.manager||(x=o.Ru._({id:"Bv5raO"})),t.manager&&!(0,A.R)(t.manager)&&(x=o.Ru._({id:"HdT4Il"})),t.tokenId||(x=o.Ru._({id:"p8uMpR"})),(0,g.jsx)(c.mO,{children:(0,g.jsx)(c.Am,{children:(0,g.jsx)(r.Ay,{container:!0,justifyContent:"center",children:(0,g.jsx)(a.A,{sx:{width:"100%",maxWidth:"570px"},children:(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"0wOQxy"}),onChange:n=>v(n,"tokenId")})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"6IvSyW"}),select:!0,menus:P,placeholder:o.Ru._({id:"9jDXVD"}),onChange:n=>v(n,"standard"),value:t.standard})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"6YtxFj"}),onChange:n=>v(n,"name")})}),(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(l.A,{color:"text.secondary",children:(0,g.jsx)(i.x6,{id:"iG7KNr"})}),(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(a.A,{sx:{height:"160px"},children:(0,g.jsx)(y,{defaultValue:t.logo,onChange:n=>{"string"===(typeof n).toLowerCase()?v(n,"logo"):!n.status&&n.message&&e(n.message)},fullWidth:!0})}),(0,g.jsx)(a.A,{mt:1,children:(0,g.jsx)(l.A,{children:(0,g.jsx)(i.x6,{id:"svhWXM"})})}),(0,g.jsx)(a.A,{mt:"10px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"ZAVklK"}),value:t.logo,onChange:n=>v(n,"logo"),fullWidth:!0})})]})]}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"DCUTRe"}),onChange:n=>v(n,"manager")})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(h.A,{onSubmit:async(i,d)=>{let{loading:r}=d;if(r)return;const{status:a,message:l}=await(0,j.vG)(i,{logo:t.logo,name:t.name,managerAddress:{principal:k.p.fromText(t.manager)},tokenCid:t.tokenId,projectCid:"",tokenStand:t.standard});"ok"===a?n(o.Ru._({id:"cNqEAb"})):e(l)},children:n=>{let{submit:e,loading:t}=n;return(0,g.jsx)(u.A,{onClick:e,disabled:t||!!x,fullWidth:!0,variant:"contained",size:"large",startIcon:t?(0,g.jsx)(s.A,{size:22,color:"inherit"}):null,children:x||o.Ru._({id:"lq1mXR"})})}})})]})})})})})}},43477:(n,e,t)=>{var i=t(52867);e.A=void 0;var o=i(t(85556)),d=t(37012),r=(0,o.default)((0,d.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");e.A=r},25234:(n,e,t)=>{t.d(e,{AA:()=>C,An:()=>_,Cz:()=>h,Gh:()=>y,UN:()=>P,Uu:()=>b,W8:()=>p,Xn:()=>j,_8:()=>f,bX:()=>x,fI:()=>v,l:()=>m,lH:()=>g,lT:()=>I,mQ:()=>A,uD:()=>k,vG:()=>s,xo:()=>c});var i=t(72296),o=t(20361),d=t(26462),r=t(93172),a=t(59155),l=t(2777),u=function(n,e,t,i){return new(t||(t=Promise))((function(o,d){function r(n){try{l(i.next(n))}catch(e){d(e)}}function a(n){try{l(i.throw(n))}catch(e){d(e)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,a)}l((i=i.apply(n,e||[])).next())}))};function s(n,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.AW)(n)).create(e))}))}function c(n,e){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if((0,d.W)(n,e))return yield function(n,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.AW)()).findProjectPage(BigInt(n),BigInt(e))).data}))}(n,e)}))),[n,e]))}function h(n){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n)return yield function(n){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getProject()).data}))}(n)}))),[n]))}function f(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).create(t))}))}function v(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).deleteProposal(t))}))}function x(n,e,t){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&e)return yield function(n,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getProposal(e)).data}))}(n,e)}))),[e,n]),t)}function g(n,e,t,s,c){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(s,c))return yield function(n,e,t,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findPage((0,r.E)(e),(0,r.E)(t||0===t?BigInt(t):void 0),BigInt(i),BigInt(d))).data}))}(n,e,t,s,c)}))),[n,e,t,s,c]))}function p(n,e,t,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).setVotePower(t,i))}))}function y(n,e,t,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).vote(t,i,BigInt(d)))}))}function m(n,e,t,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findRecordPage(e,BigInt(t),BigInt(i))).data}))}function j(n,e,t,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findVotePower((0,r.E)(e),(0,r.E)(t),BigInt(i),BigInt(d))).data}))}function k(n,e,t,o,r,l){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(o,r))return yield j(n,e,t,o,r)}))),[n,t,e,o,r]),l)}function A(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).addAdmin(t))}))}function b(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(e,n)).deleteAdmin(t))}))}function P(n,e,t,r){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(e,t))return yield function(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getAdminList(BigInt(e),BigInt(t))).data}))}(n,e,t)}))),[n,e,t]),r)}function C(n,e,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.__)(e,n)).create_batch(t))}))}function I(n,e,t,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.__)(e,n)).create_chunk(t,i))}))}function _(n,e,t,i){return u(this,void 0,void 0,(function*(){const d=yield(yield(0,l.__)(e,n)).commit_batch(t,i);return(0,o.Pk)(void 0===d)}))}}}]);
//# sourceMappingURL=3379.93cb8524.chunk.js.map