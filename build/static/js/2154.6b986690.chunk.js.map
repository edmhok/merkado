{"version":3,"file":"static/js/2154.6b986690.chunk.js","mappings":"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","sources":["components/markdown/BaseMarkdown.tsx","hooks/useTimeCounter.ts","constants/vote.ts","components/vote/VoteState.tsx","components/vote/VoteConfirm.tsx","components/vote/VotesInfo.tsx","hooks/voting/useUserVotePower.ts","hooks/usePaginationAllData.ts","components/vote/Records.tsx","hooks/voting/useDownloadVotes.ts","components/vote/DeleteProposal.tsx","views/voting/proposal.tsx","hooks/voting/useDownloadPowers.ts","../node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/dayjs.min.js","../packages/hooks/src/voting/index.ts","../packages/utils/src/time.ts","../packages/utils/src/xlsx.ts"],"sourcesContent":["/* eslint-disable react/no-danger */\nimport { useEffect, useMemo } from \"react\";\nimport { Remarkable } from \"remarkable\";\nimport { linkify } from \"remarkable/linkify\";\nimport copyToClipboard from \"copy-to-clipboard\";\n\nimport \"./base.css\";\n\nconst remarkable = new Remarkable({\n  html: false,\n  breaks: true,\n  typographer: false,\n  linkTarget: \"_blank\",\n}).use(linkify);\n\nexport default function BaseMarkdown({ content }: { content: string }) {\n  const html = useMemo(() => {\n    const body = content;\n\n    // // Add the ipfs gateway to markdown images that start with ipfs://\n    // function replaceIpfsUrl(match, p1) {\n    //   return match.replace(p1, getIpfsUrl(p1));\n    // }\n\n    // body = body.replace(/!\\[.*?\\]\\((ipfs:\\/\\/[a-zA-Z0-9]+?)\\)/g, replaceIpfsUrl);\n\n    return remarkable.render(body);\n  }, [content]);\n\n  useEffect(() => {\n    document\n      ?.querySelector(\".markdown-body\")\n      ?.querySelectorAll(\"pre>code\")\n      .forEach((code) => {\n        code.parentElement?.classList.add(\"rounded-lg\");\n        const copyButton = document.createElement(\"a\");\n        const icon = document.createElement(\"i\");\n        icon.classList.add(\"copy\");\n        icon.classList.add(\"text-skin-text\");\n        icon.classList.add(\"iconcopy\");\n        icon.classList.add(\"iconfont\");\n        copyButton.appendChild(icon);\n        copyButton.addEventListener(\"click\", () => {\n          const codeText = (code as HTMLElement).innerText.trim();\n          copyToClipboard(codeText);\n        });\n        code.appendChild(copyButton);\n      });\n  }, []);\n\n  return <div className=\"markdown-body\" dangerouslySetInnerHTML={{ __html: html }} />;\n}\n","import { useMemo, useEffect, useState } from \"react\";\nimport BigNumber from \"bignumber.js\";\nimport { counter, CountingTime } from \"utils/index\";\n\nexport function useCounter(time: string | number | undefined | bigint) {\n  const [count, setCount] = useState<CountingTime | null>(null);\n\n  useEffect(() => {\n    if (!time || new BigNumber(String(time)).isLessThan(0)) return;\n\n    let timer: number | undefined;\n\n    timer = window.setInterval(() => {\n      setCount(counter(Number(time)));\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n      timer = undefined;\n      return undefined;\n    };\n  }, [time]);\n\n  return useMemo(() => count, [count]);\n}\n","import { getCanisterId, CANISTER_NAMES } from \"./canister\";\n\nexport enum ProposalState {\n  ACTIVE = \"ACTIVE\",\n  PENDING = \"PENDING\",\n  CLOSED = \"CLOSED\",\n}\n\nexport const ProposalLabel = {\n  [ProposalState.ACTIVE]: \"Active\",\n  [ProposalState.PENDING]: \"Pending\",\n  [ProposalState.CLOSED]: \"Closed\",\n};\n\nexport const DefaultCanisterId = getCanisterId(CANISTER_NAMES.VOTE);\n","import { useMemo } from \"react\";\nimport { Typography, Box } from \"@mui/material\";\nimport { t } from \"@lingui/macro\";\nimport { ProposalInfo } from \"@w2e/types\";\nimport { useCounter } from \"hooks/useTimeCounter\";\nimport { ProposalLabel, ProposalState } from \"constants/vote\";\nimport { nanosecond2Millisecond } from \"@w2e/utils\";\n\nexport function VoteClosedIcon() {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M7.98281 1.625C4.45937 1.625 1.60156 4.48125 1.60156 8.00625C1.60156 11.5297 4.45781 14.3875 7.98281 14.3875C11.5062 14.3875 14.3641 11.5312 14.3641 8.00625C14.3641 4.48281 11.5078 1.625 7.98281 1.625ZM11.5734 6.48281L7.80937 10.2469C7.70937 10.3469 7.57969 10.3953 7.45 10.3953C7.32031 10.3953 7.18906 10.3469 7.09062 10.2469L4.94219 8.1C4.74375 7.90156 4.74375 7.58125 4.94219 7.38281C5.14062 7.18437 5.46094 7.18437 5.65937 7.38281L7.44844 9.17187L10.8547 5.76562C11.0531 5.56719 11.3734 5.56719 11.5719 5.76562C11.7719 5.96406 11.7719 6.28594 11.5734 6.48281Z\"\n        fill=\"#54C081\"\n      />\n    </svg>\n  );\n}\n\nexport function StateLabel({ state }: { state: ProposalState | undefined }) {\n  return (\n    <Box\n      sx={{\n        width: \"64px\",\n        height: \"26px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"15px\",\n        background:\n          state === ProposalState.ACTIVE\n            ? \"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)\"\n            : state === ProposalState.CLOSED\n              ? \"#565F80\"\n              : \"#54C081\",\n      }}\n    >\n      {state ? (\n        <Typography color=\"text.primary\" component=\"span\" fontSize=\"12px\">\n          {ProposalLabel[state]}\n        </Typography>\n      ) : null}\n    </Box>\n  );\n}\n\nexport function useVoteState(proposal: ProposalInfo | undefined | null): ProposalState | undefined {\n  const isPending = proposal?.beginTime\n    ? nanosecond2Millisecond(proposal?.beginTime) > new Date().getTime()\n    : undefined;\n\n  const count = useCounter(\n    isPending !== undefined\n      ? isPending\n        ? proposal?.beginTime\n          ? nanosecond2Millisecond(proposal?.beginTime)\n          : undefined\n        : proposal?.endTime\n          ? nanosecond2Millisecond(proposal?.endTime)\n          : undefined\n      : undefined,\n  );\n\n  return useMemo(() => {\n    if (!proposal) return undefined;\n\n    const now = new Date().getTime();\n\n    if (nanosecond2Millisecond(proposal.endTime) < now) {\n      return ProposalState.CLOSED;\n    }\n\n    if (nanosecond2Millisecond(proposal.endTime) > now && nanosecond2Millisecond(proposal.beginTime) < now) {\n      return ProposalState.ACTIVE;\n    }\n\n    return ProposalState.PENDING;\n  }, [proposal, count]);\n}\n\nexport interface VoteItemProps {\n  proposal: ProposalInfo | undefined | null;\n}\n\nexport function VoteStateCount({ proposal }: VoteItemProps) {\n  const isPending = proposal?.beginTime\n    ? nanosecond2Millisecond(proposal?.beginTime) > new Date().getTime()\n    : undefined;\n\n  const count = useCounter(\n    isPending !== undefined\n      ? isPending\n        ? proposal?.beginTime\n          ? nanosecond2Millisecond(proposal?.beginTime)\n          : undefined\n        : proposal?.endTime\n          ? nanosecond2Millisecond(proposal?.endTime)\n          : undefined\n      : undefined,\n  );\n\n  const proposalState = useVoteState(proposal);\n\n  const total = useMemo(() => {\n    if (!proposal) return BigInt(0);\n\n    return proposal.options.reduce(\n      (prevValue, currentValue) => {\n        return { k: \"\", v: currentValue.v + prevValue.v };\n      },\n      { k: \"initialValue\", v: BigInt(0) },\n    ).v;\n  }, [proposal]);\n\n  return count ? (\n    <Box\n      component=\"span\"\n      sx={{\n        border: proposalState === ProposalState.CLOSED ? \"1px solid #54C081\" : \"1px solid #365E32\",\n        padding: \"4px 10px\",\n        borderRadius: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"fit-content\",\n      }}\n    >\n      {proposalState === ProposalState.CLOSED ? <VoteClosedIcon /> : null}\n      <Typography\n        fontSize=\"12px\"\n        component=\"span\"\n        sx={{\n          marginLeft: proposalState === ProposalState.CLOSED ? \"5px\" : 0,\n        }}\n      >\n        {proposalState === ProposalState.ACTIVE\n          ? t`${count?.hour}:${count?.min}:${count?.sec} left`\n          : proposalState === ProposalState.PENDING\n            ? t`start in ${count?.hour}:${count?.min}:${count?.sec}`\n            : t`${String(total)} Votes`}\n      </Typography>\n    </Box>\n  ) : null;\n}\n","import { ReactNode } from \"react\";\nimport { Typography, Box, Grid } from \"@mui/material\";\nimport { useTheme } from \"@mui/styles\";\nimport Modal from \"components/modal/index\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\n\nexport default function VoteConfirm({\n  open,\n  onClose,\n  onConfirm,\n  optionLabel,\n  powers,\n  noPower,\n}: {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  optionLabel: ReactNode | undefined | null;\n  powers: bigint | undefined | null;\n  noPower: boolean;\n}) {\n  const theme = useTheme() as Theme;\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      showConfirm\n      showCancel\n      confirmDisabled={noPower}\n      onConfirm={onConfirm}\n      onCancel={onClose}\n      confirmText={noPower ? <Trans>No powers</Trans> : <Trans>Vote</Trans>}\n    >\n      <Grid container alignItems=\"center\" justifyContent=\"center\">\n        <Typography\n          fontSize=\"20px\"\n          fontWeight={700}\n          sx={{ maxWidth: \"420px\", lineHeight: \"28px\", padding: \"20px 0 0 0\" }}\n          color=\"text.primary\"\n          align=\"center\"\n        >\n          <Trans>Are you sure want to cast this vote? This action cannot be undone</Trans>\n        </Typography>\n      </Grid>\n\n      <Box\n        sx={{\n          border: `1px solid ${theme.palette.background.level3}`,\n          borderRadius: \"12px\",\n          marginTop: \"40px\",\n          padding: \"32px 16px\",\n        }}\n      >\n        <Grid container>\n          <Grid item xs>\n            <Typography fontWeight={600}>\n              <Trans>Options</Trans>\n            </Typography>\n          </Grid>\n          <Typography color=\"text.primary\">{optionLabel}</Typography>\n        </Grid>\n\n        <Grid container sx={{ marginTop: \"24px\" }}>\n          <Grid item xs>\n            <Typography fontWeight={600}>\n              <Trans>Your voting power</Trans>\n            </Typography>\n          </Grid>\n          <Typography color=\"text.primary\">{String(powers ?? BigInt(0))} Votes</Typography>\n        </Grid>\n      </Box>\n    </Modal>\n  );\n}\n","import { useState, useMemo } from \"react\";\nimport { Grid, Typography, Box } from \"@mui/material\";\nimport { useTheme } from \"@mui/styles\";\nimport { ResultStatus, ProposalInfo } from \"@w2e/types\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity\";\nimport { Identity as CallIdentity } from \"types/global\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport Button from \"components/authentication/ButtonConnector\";\nimport { useSuccessTip, useErrorTip } from \"hooks/useTips\";\nimport { getLocaleMessage } from \"locales/services\";\nimport { useUserVotePower } from \"hooks/voting/useUserVotePower\";\nimport { useAccount } from \"store/auth/hooks\";\nimport { voting, useVotingProposal } from \"@w2e/hooks\";\nimport BigNumber from \"bignumber.js\";\nimport VoteConfirm from \"./VoteConfirm\";\n\nexport interface CastVotesProps {\n  proposal: ProposalInfo;\n  onVoteSuccess: () => void;\n}\n\nexport function CastVotes({ proposal, onVoteSuccess }: CastVotesProps) {\n  const [openSuccessTip] = useSuccessTip();\n  const [openErrorTip] = useErrorTip();\n  const account = useAccount();\n\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [activeVote, setActiveVote] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [reload, setReload] = useState(false);\n\n  const isClosed = proposal?.state === BigInt(3);\n\n  const { result: powers } = useUserVotePower(proposal.storageCanisterId, proposal.id, account, 0, 10, reload);\n  const noPower = powers === BigInt(0) || !powers;\n\n  const handleVote = async (identity: CallIdentity, { loading }: SubmitLoadingProps) => {\n    if (loading || noPower || !powers || !activeVote) return;\n\n    setLoading(true);\n    setShowConfirm(false);\n\n    const { status, message } = await voting(\n      identity,\n      proposal.storageCanisterId,\n      proposal.id,\n      activeVote,\n      Number(powers),\n    );\n\n    if (status === ResultStatus.OK) {\n      openSuccessTip(t`Voted successfully`);\n      setActiveVote(null);\n      onVoteSuccess();\n      setReload(!reload);\n    } else {\n      openErrorTip(getLocaleMessage(message) ?? t`Failed to vote`);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Box>\n      {proposal.options.map((option, index) => (\n        <Box\n          key={`${option.k}-${index}`}\n          sx={{\n            border: \"1px solid #4F5A84\",\n            borderRadius: \"8px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            height: \"48px\",\n            justifyContent: \"center\",\n            cursor: \"pointer\",\n            marginBottom: \"20px\",\n            \"&:hover\": {\n              border: \"1px solid #365E32\",\n            },\n            \"&.active\": {\n              border: \"1px solid #365E32\",\n            },\n          }}\n          onClick={() => setActiveVote(option.k)}\n          className={`${activeVote === option.k ? \"active\" : \"\"}`}\n        >\n          <Typography color=\"text.primary\" fontWeight=\"500\" align=\"center\">\n            {option.k}\n          </Typography>\n        </Box>\n      ))}\n\n      <Button\n        fullWidth\n        size=\"large\"\n        variant=\"contained\"\n        onClick={() => setShowConfirm(true)}\n        disabled={loading || !activeVote || isClosed}\n        loading={loading}\n      >\n        {isClosed ? <Trans>Closed</Trans> : <Trans>Vote</Trans>}\n      </Button>\n\n      {showConfirm ? (\n        <Identity onSubmit={handleVote}>\n          {({ submit }: CallbackProps) => (\n            <VoteConfirm\n              open={showConfirm}\n              onClose={() => setShowConfirm(false)}\n              onConfirm={submit}\n              optionLabel={activeVote}\n              powers={powers}\n              noPower={noPower}\n            />\n          )}\n        </Identity>\n      ) : null}\n    </Box>\n  );\n}\n\nexport function VotesResult({ proposal: _proposal }: { proposal: ProposalInfo }) {\n  const { result: proposal } = useVotingProposal(_proposal.storageCanisterId, _proposal.id);\n\n  const theme = useTheme() as Theme;\n\n  const total = useMemo(() => {\n    return proposal?.options.reduce(\n      (prevValue, currentValue) => {\n        return { k: \"\", v: currentValue.v + prevValue.v };\n      },\n      { k: \"initialValue\", v: BigInt(0) },\n    ).v;\n  }, [proposal]);\n\n  return (\n    <Box>\n      {_proposal.options.map((option, index) => {\n        const _option = proposal?.options.find((pro) => pro.k === option.k);\n\n        const percent =\n          Number(total) === 0\n            ? new BigNumber(0)\n            : total && _option?.v\n              ? new BigNumber(String(_option?.v ?? 0)).dividedBy(String(total ?? 0)).multipliedBy(100)\n              : new BigNumber(0);\n\n        return (\n          <Box key={`${option.k}-${index}`} sx={{ marginBottom: \"40px\", \"&:last-child\": { marginBottom: \"0px\" } }}>\n            <Grid container>\n              <Grid item xs>\n                <Typography fontSize={12} component=\"span\">\n                  {option.k}\n                </Typography>\n                <Typography fontSize={12} sx={{ marginLeft: \"5px\" }} component=\"span\">\n                  {percent.toFixed(2)}%\n                </Typography>\n              </Grid>\n\n              <Typography fontSize={12}>\n                <Trans>{new BigNumber(String(_option?.v ?? 0)).toFormat()} Votes</Trans>\n              </Typography>\n            </Grid>\n\n            <Box\n              sx={{\n                background: theme.palette.background.level4,\n                height: \"10px\",\n                borderRadius: \"4px\",\n                marginTop: \"8px\",\n                position: \"relative\",\n              }}\n            >\n              <Box\n                sx={{\n                  position: \"absolute\",\n                  top: 0,\n                  left: 0,\n                  height: \"10px\",\n                  background: \"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)\",\n                  width: `${percent.toFixed(2)}%`,\n                  borderRadius: \"4px\",\n                }}\n              />\n            </Box>\n          </Box>\n        );\n      })}\n    </Box>\n  );\n}\n","import { useMemo } from \"react\";\nimport { UserVotePowersInfo } from \"@w2e/types\";\nimport { useUserVotingPowers } from \"@w2e/hooks\";\n\nexport function useUserVotePower(\n  canisterId: string,\n  id: string | undefined,\n  address: string | undefined,\n  offset: number,\n  limit: number,\n  reload?: boolean,\n) {\n  const { result: powers, loading } = useUserVotingPowers(canisterId, id, address, offset, limit, reload);\n\n  return useMemo(() => {\n    const { content } = powers ?? { content: [] as UserVotePowersInfo[] };\n    const power = content[0]?.availablePowers ?? BigInt(0);\n\n    return {\n      loading,\n      result: power,\n    };\n  }, [loading, powers]);\n}\n","/* eslint-disable no-console */\nimport { useCallback } from \"react\";\nimport { PaginationResult } from \"types/global\";\nimport { pageArgsFormat, sleep } from \"@w2e/utils\";\n\nexport function usePaginationAllDataCallback<T>(\n  callback: (offset: number, limit: number) => Promise<PaginationResult<T> | undefined>,\n  limit: number,\n  onSuccess: (data: T[]) => void,\n) {\n  return useCallback(async () => {\n    const fetch = async (offset: number, limit: number) => {\n      return await callback(offset, limit).then((result) => {\n        if (result?.content && result?.content.length > 0) {\n          return result.content;\n        }\n        return [];\n      });\n    };\n\n    const fetchDone = async (_list: { [k: string]: T[] }) => {\n      let data: T[] = [];\n      Object.keys(_list).forEach((key) => {\n        data = data.concat(_list[key]);\n      });\n\n      onSuccess(data);\n    };\n\n    const { totalElements, content: initialList } = (await callback(0, limit)) ?? {\n      totalElements: 0,\n      content: [] as T[],\n    };\n\n    if (Number(totalElements) <= limit) {\n      onSuccess(initialList);\n    } else if (Number(totalElements) !== 0) {\n      const num = Number(totalElements) % limit;\n      const totalPage = num === 0 ? Number(totalElements) / limit : parseInt(String(Number(totalElements) / limit)) + 1;\n\n      const _list: { [k: string]: T[] } = {\n        0: initialList,\n      };\n\n      for (let i = 1; i < totalPage; i++) {\n        const [offset] = pageArgsFormat(i + 1, limit);\n\n        if (totalPage % 80 === 0) {\n          await sleep(2000);\n        }\n\n        const _fetch = () => {\n          fetch(offset, limit)\n            .then(async (content) => {\n              if (content && content.length > 0) {\n                _list[`${i + 1}`] = content;\n                console.log(\n                  `%cFetch ${Object.keys(_list).length}, total: ${totalPage}, rest: ${\n                    totalPage - Object.keys(_list).length\n                  }`,\n                  \"color: #5669dc\",\n                );\n                if (Object.keys(_list).length === totalPage) {\n                  await fetchDone(_list);\n                }\n              }\n            })\n            .catch(() => {\n              console.log(`%cRetry fetch page ${i}`, \"color: #F2994A\");\n              _fetch();\n            });\n        };\n\n        _fetch();\n      }\n    } else {\n      onSuccess([] as T[]);\n    }\n  }, [callback, limit, onSuccess]);\n}\n\nexport function useAllDataCallback<T>(\n  callback: (offset: number, limit: number) => Promise<T[] | undefined>,\n  onSuccess: (data: T[]) => void,\n) {\n  return useCallback(async () => {\n    const limit = 1500;\n\n    const fetch = async (offset: number, limit: number) => {\n      return await callback(offset, limit).then((data) => {\n        if (data && data.length > 0) return data;\n        return [];\n      });\n    };\n\n    const fetchDone = async (_list: { [k: string]: T[] }) => {\n      let data: T[] = [];\n      Object.keys(_list).forEach((key) => {\n        data = data.concat(_list[key]);\n      });\n\n      onSuccess(data);\n    };\n\n    let page = 1;\n    const _list: { [k: string]: T[] } = {};\n\n    const _fetch = async () => {\n      const [offset] = pageArgsFormat(page, limit);\n      const content = await fetch(offset, limit);\n\n      _list[`${page}`] = content;\n      console.log(`%cFetch ${page}`, \"color: #5669dc\");\n      page++;\n      if (content.length < limit) {\n        await fetchDone(_list);\n      } else {\n        _fetch();\n      }\n    };\n\n    _fetch().catch(() => {\n      console.log(`%cRetry fetch page ${page + 1}`, \"color: #F2994A\");\n      _fetch();\n    });\n  }, [callback, onSuccess]);\n}\n\nexport async function getPaginationAllData<T>(\n  callback: (offset: number, limit: number) => Promise<PaginationResult<T> | undefined>,\n  limit: number,\n) {\n  const fetch = async (offset: number, limit: number) => {\n    return await callback(offset, limit);\n  };\n\n  const _result = await fetch(0, 1);\n  const totalElements = Number(_result?.totalElements ?? 0);\n  const totalPage =\n    totalElements % limit === 0 ? parseInt(String(totalElements / limit)) : parseInt(String(totalElements / limit)) + 1;\n\n  const promise: Promise<PaginationResult<T> | undefined>[] = [];\n\n  for (let i = 1; i < totalPage + 1; i++) {\n    const [offset] = pageArgsFormat(i, limit);\n    promise.push(fetch(offset, limit));\n  }\n\n  const result = await Promise.all(promise);\n\n  return result\n    .filter((res) => !!res)\n    .reduce((prev, curr) => {\n      return prev.concat(curr?.content ?? []);\n    }, [] as T[]);\n}\n","import { useState, useEffect } from \"react\";\nimport { Grid, Typography, Box, CircularProgress } from \"@mui/material\";\nimport { useTheme } from \"@mui/styles\";\nimport { valueofUser, timestampFormat, pageArgsFormat } from \"@w2e/utils\";\nimport { getVotingTransactions } from \"@w2e/hooks\";\nimport { Trans } from \"@lingui/macro\";\nimport { UserVoteRecord } from \"@w2e/types\";\nimport { NoData, StaticLoading, MainCard } from \"components/index\";\nimport { Theme } from \"@mui/material/styles\";\nimport { useDownloadVotes } from \"hooks/voting/useDownloadVotes\";\n\nexport function DownloadIcon() {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M16 0H0V16H16V0Z\" fill=\"white\" fillOpacity=\"0.01\" />\n      <path d=\"M3 8.00231V13H13V8\" stroke=\"#111936\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M10.5 7.72266L8 10.2227L5.5 7.72266\" stroke=\"#111936\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M7.99609 3V10.2222\" stroke=\"#111936\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    </svg>\n  );\n}\n\nexport default function VoteRecords({ canisterId, id }: { canisterId: string; id: string }) {\n  const theme = useTheme() as Theme;\n\n  const [totalElements, setTotalElements] = useState<bigint | number>(BigInt(0));\n  const [records, setRecords] = useState<UserVoteRecord[]>([] as UserVoteRecord[]);\n  const [loading, setLoading] = useState(false);\n\n  const [pagination, setPagination] = useState({ pageNum: 1, pageSize: 10 });\n\n  const handleSeeMore = async () => {\n    const [offset] = pageArgsFormat(pagination.pageNum + 1, pagination.pageSize);\n\n    setPagination({\n      pageNum: pagination.pageNum + 1,\n      pageSize: pagination.pageSize,\n    });\n\n    setLoading(true);\n    const result = await getVotingTransactions(canisterId, id, offset, pagination.pageSize);\n    setLoading(false);\n    const { content: moreRecords, totalElements } = result ?? {\n      totalElements: BigInt(0),\n      content: [] as UserVoteRecord[],\n    };\n    setTotalElements(totalElements);\n    setRecords([...records, ...moreRecords]);\n  };\n\n  useEffect(() => {\n    if (!id) return;\n\n    const [offset] = pageArgsFormat(pagination.pageNum, pagination.pageSize);\n\n    (async () => {\n      setLoading(true);\n      const result = await getVotingTransactions(canisterId, id, offset, pagination.pageSize);\n      setLoading(false);\n      const { content: records, totalElements } = result ?? {\n        totalElements: BigInt(0),\n        content: [] as UserVoteRecord[],\n      };\n      setTotalElements(totalElements);\n      setRecords(records);\n    })();\n  }, [id, canisterId]);\n\n  const [downloading, downloadVotes] = useDownloadVotes(canisterId, id);\n\n  return (\n    <MainCard>\n      <Grid container alignItems=\"center\">\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Typography color=\"text.primary\" fontWeight=\"500\">\n              <Trans>Votes</Trans>\n            </Typography>\n            <Box\n              sx={{\n                marginLeft: \"6px\",\n                borderRadius: \"9999px\",\n                background: \"#111936\",\n                padding: \"4px\",\n                minWidth: \"16px\",\n                height: \"16px\",\n                display: \"flex\",\n                width: \"fix-content\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Typography color=\"text.primary\" fontWeight=\"500\" fontSize={12}>\n                {String(totalElements)}\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n\n        <Grid>\n          <Grid container alignItems=\"center\" sx={{ cursor: \"pointer\" }} onClick={downloadVotes}>\n            {downloading ? <CircularProgress sx={{ color: \"#111936\" }} size=\"16px\" /> : <DownloadIcon />}\n\n            <Typography sx={{ marginLeft: \"8px\" }}>\n              <Trans>Download</Trans>\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Box mt=\"20px\">\n        <Box\n          sx={{\n            maxHeight: \"350px\",\n            overflow: \"auto\",\n          }}\n        >\n          <Box\n            sx={{\n              display: \"grid\",\n              gridTemplateColumns: \"minmax(150px, 1fr) minmax(350px, 2.5fr) minmax(150px, 1fr) minmax(150px, 1fr)\",\n              height: \"60px\",\n              alignItems: \"center\",\n              borderBottom: `1px solid ${theme.palette.background.level4}`,\n            }}\n          >\n            <Box>\n              <Typography>\n                <Trans>Voting Time</Trans>\n              </Typography>\n            </Box>\n\n            <Box>\n              <Typography>\n                <Trans>Address</Trans>\n              </Typography>\n            </Box>\n\n            <Box>\n              <Typography>\n                <Trans>Option</Trans>\n              </Typography>\n            </Box>\n\n            <Box>\n              <Typography>\n                <Trans>Powers</Trans>\n              </Typography>\n            </Box>\n          </Box>\n          {records.map((record, index) => (\n            <Box\n              key={`${String(record.voteTime)}-${index}`}\n              sx={{\n                display: \"grid\",\n                gridTemplateColumns: \"minmax(150px, 1fr) minmax(350px, 2.5fr) minmax(150px, 1fr) minmax(150px, 1fr)\",\n                height: \"60px\",\n                alignItems: \"center\",\n                borderBottom: `1px solid ${theme.palette.background.level4}`,\n              }}\n            >\n              <Box>\n                <Typography>{timestampFormat(record.voteTime)}</Typography>\n              </Box>\n\n              <Box>\n                <Typography sx={{ overflow: \"hidden\", textOverflow: \"ellipsis\", maxWidth: \"95%\" }}>\n                  {valueofUser(record.address).toString()}\n                </Typography>\n              </Box>\n\n              <Box>\n                <Typography>{record.options[0].k}</Typography>\n              </Box>\n\n              <Box>\n                <Typography>\n                  <Trans>{record.usedProof} Votes</Trans>\n                </Typography>\n              </Box>\n            </Box>\n          ))}\n\n          {records.length >= Number(totalElements) ? null : (\n            <Grid\n              container\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              sx={{\n                height: \"60px\",\n                borderBottom: `1px solid ${theme.palette.background.level4}`,\n                cursor: \"pointer\",\n              }}\n              onClick={handleSeeMore}\n            >\n              {loading ? (\n                <CircularProgress size={22} />\n              ) : (\n                <Typography>\n                  <Trans>See more</Trans>\n                </Typography>\n              )}\n            </Grid>\n          )}\n\n          {loading ? <StaticLoading loading={loading} /> : null}\n\n          {records.length === 0 && !loading ? <NoData /> : null}\n        </Box>\n      </Box>\n    </MainCard>\n  );\n}\n","import { useState, useMemo, useCallback } from \"react\";\nimport { getVotingTransactions } from \"@w2e/hooks\";\nimport { UserVoteRecord } from \"@w2e/types\";\nimport { usePaginationAllDataCallback } from \"hooks/usePaginationAllData\";\nimport dayjs from \"dayjs\";\nimport { valueofUser, nanosecond2Millisecond, writeFileOneSheet } from \"@w2e/utils\";\n\nexport function useDownloadVotes(canisterId: string, id: string, limit?: number): [boolean, () => void] {\n  const [loading, setLoading] = useState(false);\n\n  const fetchRecords = useCallback(async (offset: number, limit: number) => {\n    return await getVotingTransactions(canisterId, id, offset, limit);\n  }, []);\n\n  const fetchAllRecords = usePaginationAllDataCallback<UserVoteRecord>(\n    fetchRecords,\n    limit ?? 1000,\n    (content: UserVoteRecord[]) => {\n      const data = content.map((d) => {\n        return {\n          Timestamp: dayjs(nanosecond2Millisecond(d.voteTime)).format(\"YYYY-MM-DD HH:mm:ss\"),\n          Address: valueofUser(d.address).toString(),\n          Power: String(d.usedProof),\n          Value: d.options[0].k,\n        };\n      });\n\n      writeFileOneSheet(data, `${id}_proposal_votes`, \"Votes\");\n\n      setLoading(false);\n    },\n  );\n\n  return useMemo(\n    () => [\n      loading,\n      () => {\n        setLoading(true);\n        fetchAllRecords();\n      },\n    ],\n    [loading, fetchAllRecords, setLoading],\n  );\n}\n","import { Typography, Grid } from \"@mui/material\";\nimport { Modal } from \"components/index\";\nimport { t } from \"@lingui/macro\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity/index\";\nimport { Identity as CallIdentity } from \"types/global\";\nimport { useTips, MessageTypes } from \"hooks/useTips\";\nimport { ResultStatus } from \"@w2e/types\";\nimport { deleteVotingProposal } from \"@w2e/hooks\";\n\nexport default function DeleteProposal({\n  open,\n  onClose,\n  proposalId,\n  canisterId,\n  onSuccess,\n}: {\n  open: boolean;\n  onClose: () => void;\n  onSuccess?: () => void;\n  canisterId: string;\n  proposalId: string;\n}) {\n  const [openTip, closeTip] = useTips();\n\n  const handleDeleteProposal = async (identity: CallIdentity, { loading, closeLoading }: SubmitLoadingProps) => {\n    if (!identity || loading) return;\n\n    const tipKey = openTip(t`Delete proposal`, MessageTypes.loading);\n\n    onClose();\n\n    const { status, message } = await deleteVotingProposal(identity, canisterId, proposalId);\n\n    if (status === ResultStatus.OK) {\n      openTip(t`Delete successfully`, MessageTypes.success);\n      if (onSuccess) onSuccess();\n    } else {\n      openTip(message ?? t`Failed to delete proposal`, ResultStatus.ERROR);\n    }\n\n    closeLoading();\n    closeTip(tipKey);\n  };\n\n  return (\n    <Identity onSubmit={handleDeleteProposal}>\n      {({ submit, loading }: CallbackProps) => (\n        <Modal\n          open={open}\n          onClose={onClose}\n          title={t`Delete Proposal`}\n          onConfirm={submit}\n          onCancel={onClose}\n          showCancel\n          showConfirm\n          confirmDisabled={loading}\n        >\n          <Grid container alignItems=\"center\" justifyContent=\"center\">\n            <Typography\n              fontSize=\"14px\"\n              sx={{ maxWidth: \"420px\", lineHeight: \"28px\" }}\n              color=\"text.primary\"\n              align=\"center\"\n            >\n              {t`Are you sure want to delete this proposal!`}\n            </Typography>\n          </Grid>\n        </Modal>\n      )}\n    </Identity>\n  );\n}\n","import { useState, useRef, useMemo } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Grid, Typography, Avatar, Box, CircularProgress, useMediaQuery } from \"components/Mui\";\nimport { useTheme } from \"@mui/styles\";\nimport { valueofUser, isPrincipal, shorten, principalToAccount } from \"@w2e/utils\";\nimport { Wrapper, MainCard, Breadcrumbs } from \"components/index\";\nimport { Trans } from \"@lingui/macro\";\nimport { VoteStateCount, StateLabel, useVoteState } from \"components/vote/VoteState\";\nimport { Theme } from \"@mui/material/styles\";\nimport { VotesResult, CastVotes } from \"components/vote/VotesInfo\";\nimport VoteRecords from \"components/vote/Records\";\nimport BaseMarkdown from \"components/markdown/BaseMarkdown\";\nimport { useDownloadPowers } from \"hooks/voting/useDownloadPowers\";\nimport { useVotingProposal } from \"@w2e/hooks\";\nimport DeleteProposalModal from \"components/vote/DeleteProposal\";\nimport { useAccount } from \"store/auth/hooks\";\n\nexport default function VotingProposal() {\n  const account = useAccount();\n  const theme = useTheme() as Theme;\n  const history = useHistory();\n  const { id, canisterId } = useParams<{ id: string; canisterId: string }>();\n  const proposalRef = useRef<HTMLDivElement>(null);\n\n  const [refresh, setRefresh] = useState(false);\n  const [showMore, setShowMore] = useState(false);\n  const [deleteProposalShow, setDeleteProposalShow] = useState(false);\n\n  const { result: proposal } = useVotingProposal(canisterId, id, refresh);\n\n  const isCreator = useMemo(() => {\n    if (!proposal || !account) return false;\n\n    const val = valueofUser(proposal.createAddress);\n\n    if (isPrincipal(val)) {\n      return principalToAccount(val.toString()) === account;\n    }\n\n    return val === account;\n  }, [proposal, account]);\n\n  const proposalState = useVoteState(proposal);\n\n  const handleVoteSuccess = () => {\n    setRefresh(!refresh);\n  };\n\n  const markdownBodyHeight = proposalRef.current?.clientHeight ? proposalRef.current?.clientHeight : 0;\n  const truncateMarkdownBody = markdownBodyHeight > 400;\n\n  const handleToggleTruncateBody = () => {\n    setShowMore(!showMore);\n  };\n\n  const [downloading, downloadPowers] = useDownloadPowers(proposal?.storageCanisterId, id);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const handleDeleteSuccess = () => {\n    history.push(`/voting/${canisterId}`);\n  };\n\n  return (\n    <Wrapper>\n      <Breadcrumbs\n        prevLink={`/voting/${canisterId}`}\n        prevLabel={<Trans>Proposals</Trans>}\n        currentLabel={<Trans>Details</Trans>}\n      />\n\n      <Box mt=\"25px\">\n        <MainCard>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Grid container alignItems=\"center\">\n                <Avatar src={proposal?.project.logo} sx={{ marginRight: \"12px\" }}>\n                  &nbsp;\n                </Avatar>\n                <Typography color=\"secondary\" fontSize=\"18px\">\n                  {proposal?.project.name}\n                </Typography>\n              </Grid>\n            </Grid>\n            <StateLabel state={proposalState} />\n          </Grid>\n\n          <Typography color=\"text.primary\" fontWeight={500} fontSize=\"18px\" sx={{ marginTop: \"20px\" }}>\n            {proposal?.title}\n          </Typography>\n\n          <Box mt=\"10px\">\n            <Grid container alignItems=\"center\" sx={{ gap: \"10px\" }}>\n              <VoteStateCount proposal={proposal} />\n              <Box\n                sx={{\n                  border: \"1px solid #365E32\",\n                  padding: \"4px 10px\",\n                  borderRadius: \"16px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  width: \"fit-content\",\n                }}\n              >\n                <Typography fontSize=\"12px\">\n                  <Trans>Creator:</Trans>\n                  {shorten(proposal?.createUser ?? \"\", 8)}\n                </Typography>\n              </Box>\n              <Box\n                sx={{\n                  background: \"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)\",\n                  padding: \"4px 10px\",\n                  borderRadius: \"16px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  width: \"fit-content\",\n                  cursor: \"pointer\",\n                }}\n                onClick={downloadPowers}\n              >\n                {downloading ? <CircularProgress size=\"14px\" sx={{ color: \"#ffffff\", marginRight: \"5px\" }} /> : null}\n                <Typography fontSize=\"12px\" color=\"text.primary\">\n                  <Trans>Voting Power Snapshot</Trans>\n                </Typography>\n              </Box>\n\n              {isCreator ? (\n                <Box\n                  sx={{\n                    background: \"linear-gradient(89.44deg, #365E32 -0.31%, #059212 91.14%)\",\n                    padding: \"4px 10px\",\n                    borderRadius: \"16px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    width: \"fit-content\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => setDeleteProposalShow(true)}\n                >\n                  <Typography fontSize=\"12px\" color=\"text.primary\">\n                    <Trans>Delete proposal</Trans>\n                  </Typography>\n                </Box>\n              ) : null}\n            </Grid>\n          </Box>\n\n          {proposal?.content ? (\n            <>\n              <Box\n                mt=\"20px\"\n                sx={{ ...(truncateMarkdownBody && !showMore ? { height: \"400px\" } : {}), overflow: \"hidden\" }}\n              >\n                <Box ref={proposalRef}>\n                  <BaseMarkdown content={proposal?.content} />\n                </Box>\n              </Box>\n              {truncateMarkdownBody ? (\n                <Box\n                  sx={{\n                    marginTop: \"16px\",\n                    border: `1px solid #4F5A84`,\n                    borderRadius: \"23px\",\n                    padding: \"0 20px\",\n                    width: \"fit-content\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    height: \"40px\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={handleToggleTruncateBody}\n                >\n                  <Typography fontSize=\"16px\" color=\"text.primary\">\n                    {!showMore ? <Trans>Show more</Trans> : <Trans>Show less</Trans>}\n                  </Typography>\n                </Box>\n              ) : null}\n            </>\n          ) : null}\n        </MainCard>\n      </Box>\n\n      <Box\n        mt=\"20px\"\n        sx={{\n          display: \"grid\",\n          gridTemplateColumns: matchDownSM ? \"1fr\" : \"1fr 1fr\",\n          gap: matchDownSM ? \"20px 0\" : \"0 20px\",\n        }}\n      >\n        <MainCard>\n          <Typography color=\"text.primary\" fontWeight=\"500\" sx={{ marginBottom: \"20px\" }}>\n            <Trans>Cast your vote</Trans>\n          </Typography>\n          {proposal ? <CastVotes proposal={proposal} onVoteSuccess={handleVoteSuccess} /> : null}\n        </MainCard>\n\n        <MainCard>\n          <Typography color=\"text.primary\" fontWeight=\"500\" sx={{ marginBottom: \"20px\" }}>\n            <Trans>Current Results</Trans>\n          </Typography>\n          {proposal ? <VotesResult proposal={proposal} /> : null}\n        </MainCard>\n      </Box>\n\n      {proposal ? (\n        <Box mt=\"20px\">\n          <VoteRecords canisterId={proposal.storageCanisterId} id={id} />\n        </Box>\n      ) : null}\n\n      <DeleteProposalModal\n        open={deleteProposalShow}\n        onClose={() => setDeleteProposalShow(false)}\n        canisterId={canisterId}\n        proposalId={id}\n        onSuccess={handleDeleteSuccess}\n      />\n    </Wrapper>\n  );\n}\n","import { useState, useMemo, useCallback } from \"react\";\nimport { UserVotePowersInfo } from \"@w2e/types\";\nimport { usePaginationAllDataCallback } from \"hooks/usePaginationAllData\";\nimport { getUserVotingPowers } from \"@w2e/hooks\";\nimport { valueofUser, writeFileOneSheet } from \"@w2e/utils\";\n\nexport function useDownloadPowers(canisterId: string | undefined, id: string, limit?: number): [boolean, () => void] {\n  const [loading, setLoading] = useState(false);\n\n  const fetchRecords = useCallback(\n    async (offset: number, limit: number) => {\n      if (!canisterId) return undefined;\n      return await getUserVotingPowers(canisterId, id, undefined, offset, limit);\n    },\n    [canisterId],\n  );\n\n  const fetchAllRecords = usePaginationAllDataCallback<UserVotePowersInfo>(\n    fetchRecords,\n    limit ?? 1000,\n    (content: UserVotePowersInfo[]) => {\n      const data = content.map((d) => {\n        return {\n          Address: valueofUser(d.address).toString(),\n          Votes: String(d.availablePowers),\n          usedVotes: String(d.usedPowers),\n        };\n      });\n\n      writeFileOneSheet(data, `${id}_proposal_powers`, \"Powers\");\n\n      setLoading(false);\n    },\n  );\n\n  return useMemo(\n    () => [\n      loading,\n      () => {\n        setLoading(true);\n        if (canisterId) {\n          fetchAllRecords();\n        }\n      },\n    ],\n    [loading, fetchAllRecords, setLoading, canisterId],\n  );\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","import { useCallback } from \"react\";\nimport { isAvailablePageArgs, availableArgsNull, resultFormat } from \"@w2e/utils\";\nimport { votingCanister, votingController, votingFile } from \"@w2e/actor\";\nimport type {\n  ActorIdentity,\n  PaginationResult,\n  ProjectInfo,\n  ProposalInfo,\n  UserVotePowersInfo,\n  UserVoteRecord,\n  VotingFileChunk,\n  CommitBatchArgs,\n  ProposalCreateInfo,\n} from \"@w2e/types\";\nimport { Principal } from \"@dfinity/principal\";\nimport { useCallsData } from \"../useCallData\";\n\nexport async function createVotingCanister(identity: ActorIdentity, args: ProjectInfo) {\n  return resultFormat<boolean>(await (await votingController(identity)).create(args));\n}\n\nexport async function getVotingProjects(offset: number, limit: number) {\n  return resultFormat<PaginationResult<ProjectInfo>>(\n    await (await votingController()).findProjectPage(BigInt(offset), BigInt(limit)),\n  ).data;\n}\n\nexport function useVotingProjects(offset: number, limit: number) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!isAvailablePageArgs(offset, limit)) return undefined;\n      return await getVotingProjects(offset, limit);\n    }, [offset, limit]),\n  );\n}\n\nexport async function getVotingProjectDetails(canisterId: string) {\n  return resultFormat<ProjectInfo>(await (await votingCanister(canisterId)).getProject()).data;\n}\n\nexport function useVotingProjectDetails(canisterId: string | undefined) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!canisterId) return undefined;\n      return await getVotingProjectDetails(canisterId);\n    }, [canisterId]),\n  );\n}\n\nexport async function createVotingProposal(identity: ActorIdentity, canisterId: string, args: ProposalCreateInfo) {\n  return resultFormat<string>(await (await votingCanister(canisterId, identity)).create(args));\n}\n\nexport async function deleteVotingProposal(identity: ActorIdentity, canisterId: string, proposalId: string) {\n  return resultFormat<boolean>(await (await votingCanister(canisterId, identity)).deleteProposal(proposalId));\n}\n\nexport async function getVotingProposal(canisterId: string, proposalId: string) {\n  return resultFormat<ProposalInfo>(await (await votingCanister(canisterId)).getProposal(proposalId)).data;\n}\n\nexport function useVotingProposal(canisterId: string | undefined, proposalId: string | undefined, reload?: boolean) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!canisterId || !proposalId) return undefined;\n      return await getVotingProposal(canisterId, proposalId);\n    }, [proposalId, canisterId]),\n    reload,\n  );\n}\n\nexport async function getVotingProposals(\n  canisterId: string,\n  address: string | undefined,\n  state: number | undefined,\n  offset: number,\n  limit: number,\n) {\n  return resultFormat<PaginationResult<ProposalInfo>>(\n    await (\n      await votingCanister(canisterId)\n    ).findPage(\n      availableArgsNull<string>(address),\n      availableArgsNull<bigint>(!!state || state === 0 ? BigInt(state) : undefined),\n      BigInt(offset),\n      BigInt(limit),\n    ),\n  ).data;\n}\n\nexport function useVotingProposals(\n  canisterId: string | undefined,\n  address: string | undefined,\n  state: number | undefined,\n  offset: number,\n  limit: number,\n) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!canisterId || !isAvailablePageArgs(offset, limit)) return undefined;\n\n      return await getVotingProposals(canisterId, address, state, offset, limit);\n    }, [canisterId, address, state, offset, limit]),\n  );\n}\n\nexport async function setVotingProposalState(\n  identity: ActorIdentity,\n  canisterId: string,\n  proposalId: string,\n  state: number,\n) {\n  return resultFormat<boolean>(await (await votingCanister(canisterId, identity)).setState(proposalId, BigInt(state)));\n}\n\nexport async function setVotingProposalPowers(\n  identity: ActorIdentity,\n  canisterId: string,\n  proposalId: string,\n  powers: UserVotePowersInfo[],\n) {\n  return resultFormat<boolean>(await (await votingCanister(canisterId, identity)).setVotePower(proposalId, powers));\n}\n\nexport async function voting(\n  identity: ActorIdentity,\n  canisterId: string,\n  proposalId: string,\n  value: string,\n  powers: number,\n) {\n  return resultFormat<boolean>(\n    await (await votingCanister(canisterId, identity)).vote(proposalId, value, BigInt(powers)),\n  );\n}\n\nexport async function getVotingTransactions(canisterId: string, proposalId: string, offset: number, limit: number) {\n  return resultFormat<PaginationResult<UserVoteRecord>>(\n    await (await votingCanister(canisterId)).findRecordPage(proposalId, BigInt(offset), BigInt(limit)),\n  ).data;\n}\n\nexport function useVotingTransactions(\n  canisterId: string | undefined,\n  proposalId: string | undefined,\n  offset: number,\n  limit: number,\n) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!isAvailablePageArgs(offset, limit) || !canisterId || !proposalId) return undefined;\n\n      return await getVotingTransactions(canisterId!, proposalId!, offset, limit);\n    }, [offset, limit, proposalId, canisterId]),\n  );\n}\n\nexport async function getUserVotingPowers(\n  canisterId: string,\n  proposalId: string | undefined,\n  address: string | undefined,\n  offset: number,\n  limit: number,\n) {\n  return resultFormat<PaginationResult<UserVotePowersInfo>>(\n    await (\n      await votingCanister(canisterId)\n    ).findVotePower(\n      availableArgsNull<string>(proposalId),\n      availableArgsNull<string>(address),\n      BigInt(offset),\n      BigInt(limit),\n    ),\n  ).data;\n}\n\nexport function useUserVotingPowers(\n  canisterId: string | undefined,\n  proposalId: string | undefined,\n  address: string | undefined,\n  offset: number,\n  limit: number,\n  reload?: boolean,\n) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!canisterId || !isAvailablePageArgs(offset, limit)) return undefined;\n\n      return await getUserVotingPowers(canisterId!, proposalId, address, offset, limit);\n    }, [canisterId, address, proposalId, offset, limit]),\n    reload,\n  );\n}\n\nexport async function addVotingAuthorityUsers(identity: ActorIdentity, canisterId: string, user: Principal) {\n  return resultFormat<boolean>(await (await votingCanister(canisterId, identity)).addAdmin(user));\n}\n\nexport async function deleteVotingAuthorityUsers(identity: ActorIdentity, canisterId: string, user: Principal) {\n  return resultFormat<boolean>(await (await votingCanister(canisterId, identity)).deleteAdmin(user));\n}\n\nexport async function getVotingAuthorityUsers(canisterId: string, offset: number, limit: number) {\n  return resultFormat<PaginationResult<Principal>>(\n    await (await votingCanister(canisterId)).getAdminList(BigInt(offset), BigInt(limit)),\n  ).data;\n}\n\nexport function useVotingAuthorityUsers(\n  canisterId: string | undefined,\n  offset: number,\n  limit: number,\n  reload?: boolean,\n) {\n  return useCallsData(\n    useCallback(async () => {\n      if (!canisterId || !isAvailablePageArgs(offset, limit)) return undefined;\n      return await getVotingAuthorityUsers(canisterId!, offset, limit);\n    }, [canisterId, offset, limit]),\n    reload,\n  );\n}\n\n// -------------- Voting file --------------\n\nexport async function createVotingBatch(identity: ActorIdentity, canisterId: string, projectId: string) {\n  return resultFormat<{\n    batch_id: bigint;\n  }>(await (await votingFile(canisterId, identity)).create_batch(projectId));\n}\n\nexport async function createVotingChunk(\n  identity: ActorIdentity,\n  canisterId: string,\n  chunk: VotingFileChunk,\n  projectId: string,\n) {\n  return resultFormat<{\n    chunk_id: bigint;\n  }>(await (await votingFile(canisterId, identity)).create_chunk(chunk, projectId));\n}\n\nexport async function commitVotingChunk(\n  identity: ActorIdentity,\n  canisterId: string,\n  args: CommitBatchArgs,\n  projectId: string,\n) {\n  const result = await (await votingFile(canisterId, identity)).commit_batch(args, projectId);\n\n  return resultFormat<boolean>(result === undefined);\n}\n\n// -------------- Voting file --------------\n","import dayjs from \"dayjs\";\nimport { SECONDS_IN_DAY } from \"@w2e/constants\";\n\nexport function nanosecond2Millisecond(time: string | number | bigint) {\n  return Number(BigInt(time) / BigInt(1000000));\n}\n\nexport function millisecond2Nanosecond(time: string | number | bigint) {\n  return Number(BigInt(time) * BigInt(1000000));\n}\n\nexport function timestampFormat(timestamp: bigint | string | number, format = \"YYYY-MM-DD HH:mm:ss\"): string {\n  if (!timestamp) return \"\";\n\n  const newTimestamp = Number(String(timestamp).substr(0, 13));\n  return dayjs(newTimestamp).format(format);\n}\n\nexport const secondsToDays = (seconds: number): number => seconds / SECONDS_IN_DAY;\nexport const daysToSeconds = (days: number): number => Math.round(days * SECONDS_IN_DAY);\n","import { utils, writeFile } from \"xlsx\";\n\nexport function writeFileOneSheet(\n  data: any[],\n  fileName: string,\n  sheetName: string = \"Sheet\"\n) {\n  const sheet = utils.json_to_sheet(data);\n\n  const wb = utils.book_new();\n  utils.book_append_sheet(wb, sheet, sheetName);\n  writeFile(wb, `${fileName}.xlsx`);\n}\n"],"names":["remarkable","Remarkable","html","breaks","typographer","linkTarget","use","linkify","BaseMarkdown","_ref","content","useMemo","body","render","useEffect","_document","_document$querySelect","document","querySelector","querySelectorAll","forEach","code","_code$parentElement","parentElement","classList","add","copyButton","createElement","icon","appendChild","addEventListener","codeText","innerText","trim","copyToClipboard","_jsx","className","dangerouslySetInnerHTML","__html","useCounter","time","count","setCount","useState","BigNumber","String","isLessThan","timer","window","setInterval","counter","Number","clearInterval","undefined","ProposalState","ProposalLabel","ACTIVE","PENDING","CLOSED","getCanisterId","CANISTER_NAMES","VOTE","VoteClosedIcon","width","height","viewBox","fill","xmlns","children","d","StateLabel","state","Box","sx","display","alignItems","justifyContent","borderRadius","background","Typography","color","component","fontSize","useVoteState","proposal","isPending","beginTime","nanosecond2Millisecond","Date","getTime","endTime","now","VoteStateCount","_ref2","proposalState","total","options","reduce","prevValue","currentValue","k","v","BigInt","_jsxs","border","padding","marginLeft","i18n","_","id","values","0","hour","1","min","2","sec","VoteConfirm","open","onClose","onConfirm","optionLabel","powers","noPower","theme","useTheme","Modal","showConfirm","showCancel","confirmDisabled","onCancel","confirmText","Trans","Grid","container","fontWeight","maxWidth","lineHeight","align","concat","palette","level3","marginTop","item","xs","CastVotes","onVoteSuccess","openSuccessTip","useSuccessTip","openErrorTip","useErrorTip","account","useAccount","setShowConfirm","activeVote","setActiveVote","loading","setLoading","reload","setReload","isClosed","result","canisterId","address","offset","limit","useUserVotingPowers","_content$0$availableP","_content$","power","availablePowers","useUserVotePower","storageCanisterId","map","option","index","cursor","marginBottom","onClick","Button","fullWidth","size","variant","disabled","Identity","onSubmit","async","identity","status","message","voting","_getLocaleMessage","ResultStatus","OK","getLocaleMessage","_ref3","submit","VotesResult","_ref4","_proposal","useVotingProposal","_option$v","_option$v2","_option","find","pro","percent","dividedBy","multipliedBy","toFixed","toFormat","level4","position","top","left","usePaginationAllDataCallback","callback","onSuccess","useCallback","_await$callback","fetch","then","length","fetchDone","data","Object","keys","_list","key","totalElements","initialList","totalPage","parseInt","i","pageArgsFormat","sleep","_fetch","console","log","catch","DownloadIcon","fillOpacity","stroke","strokeLinecap","strokeLinejoin","VoteRecords","setTotalElements","records","setRecords","pagination","setPagination","pageNum","pageSize","getVotingTransactions","downloading","downloadVotes","fetchRecords","fetchAllRecords","Timestamp","dayjs","voteTime","format","Address","valueofUser","toString","Power","usedProof","Value","writeFileOneSheet","useDownloadVotes","MainCard","minWidth","CircularProgress","mt","maxHeight","overflow","gridTemplateColumns","borderBottom","record","timestampFormat","textOverflow","moreRecords","StaticLoading","NoData","DeleteProposal","proposalId","openTip","closeTip","useTips","closeLoading","tipKey","MessageTypes","deleteVotingProposal","success","ERROR","title","VotingProposal","_proposalRef$current","_proposalRef$current2","_proposal$createUser","history","useHistory","useParams","proposalRef","useRef","refresh","setRefresh","showMore","setShowMore","deleteProposalShow","setDeleteProposalShow","isCreator","val","createAddress","isPrincipal","principalToAccount","truncateMarkdownBody","current","clientHeight","downloadPowers","getUserVotingPowers","Votes","usedVotes","usedPowers","useDownloadPowers","matchDownSM","useMediaQuery","breakpoints","down","Wrapper","Breadcrumbs","prevLink","prevLabel","currentLabel","Avatar","src","project","logo","marginRight","name","gap","shorten","createUser","_Fragment","ref","handleToggleTruncateBody","handleVoteSuccess","DeleteProposalModal","handleDeleteSuccess","push","module","exports","t","e","n","r","s","u","a","o","c","f","h","l","$","y","M","weekdays","split","months","ordinal","m","Array","join","z","utcOffset","Math","abs","floor","date","year","month","clone","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","toDate","apply","slice","$locale","weekStart","$set","daysInMonth","get","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","extend","$i","isDayjs","en","Ls","createVotingCanister","resultFormat","votingController","create","useVotingProjects","useCallsData","__awaiter","isAvailablePageArgs","findProjectPage","getVotingProjects","useVotingProjectDetails","votingCanister","getProject","getVotingProjectDetails","createVotingProposal","deleteProposal","getProposal","getVotingProposal","useVotingProposals","findPage","availableArgsNull","getVotingProposals","setVotingProposalPowers","setVotePower","value","vote","findRecordPage","findVotePower","addVotingAuthorityUsers","user","addAdmin","deleteVotingAuthorityUsers","deleteAdmin","useVotingAuthorityUsers","getAdminList","getVotingAuthorityUsers","createVotingBatch","projectId","votingFile","create_batch","createVotingChunk","chunk","create_chunk","commitVotingChunk","commit_batch","millisecond2Nanosecond","timestamp","newTimestamp","substr","fileName","sheetName","sheet","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile"],"sourceRoot":""}