"use strict";(self.webpackChunkmerkado=self.webpackChunkmerkado||[]).push([[424],{46135:(t,e,a)=>{a.d(e,{iq:()=>o});var n=a(14274);const i=t=>{let{IDL:e}=t;const a=e.Variant({ok:e.Bool,err:e.Text}),n=e.Record({amount0:e.Nat,amount1:e.Nat}),i=e.Variant({ok:n,err:e.Text}),r=e.Record({tokenId:e.Nat,internalCall:e.Bool,recipient:e.Principal,amount0Max:e.Text,amount1Max:e.Text}),o=e.Text,c=e.Variant({ok:o,err:e.Text}),u=e.Variant({ok:e.Nat,err:e.Text}),d=e.Record({tokenId:e.Nat,liquidity:e.Text,recipient:e.Principal,amount0Min:e.Text,amount1Min:e.Text,deadline:e.Nat}),l=e.Variant({ok:e.Vec(e.Text),err:e.Text}),s=e.Text,f=e.Record({fee:e.Nat,token0:s,token1:s}),p=e.Record({token0TVL:e.Nat,token1TVL:e.Nat}),x=e.Variant({ok:e.Vec(p),err:e.Text}),k=e.Record({tickUpper:e.Int,tokensOwed0:e.Nat,tokensOwed1:e.Nat,operator:s,feeGrowthInside1LastX128:e.Nat,liquidity:e.Nat,feeGrowthInside0LastX128:e.Nat,nonce:e.Nat,tickLower:e.Int,poolId:e.Nat}),m=e.Record({tickIndex:e.Int,price0Decimal:e.Nat,liquidityNet:e.Int,price0:e.Nat,price1:e.Nat,liquidityGross:e.Nat,price1Decimal:e.Nat}),w=e.Variant({ok:e.Vec(m),err:e.Text}),h=e.Record({tokenA:e.Nat,tokenB:e.Nat}),y=e.Variant({ok:h,err:e.Text}),I=e.Record({tokenId:e.Nat,recipient:e.Principal,amount0Min:e.Text,amount1Min:e.Text,deadline:e.Nat,amount0Desired:e.Text,amount1Desired:e.Text}),g=e.Record({liquidity:e.Nat,amount0:e.Nat,amount1:e.Nat}),v=e.Variant({ok:g,err:e.Text}),T=e.Record({fee:e.Nat,tickUpper:e.Int,tokensOwed0:e.Nat,tokensOwed1:e.Nat,operator:s,feeGrowthInside1LastX128:e.Nat,liquidity:e.Nat,feeGrowthInside0LastX128:e.Nat,token0:s,token1:s,nonce:e.Nat,tickLower:e.Int,poolId:e.Nat}),N=e.Variant({ok:T,err:e.Text}),P=e.Record({fee:e.Nat,tickUpper:e.Int,recipient:e.Principal,amount0Min:e.Text,amount1Min:e.Text,deadline:e.Nat,token0:s,token1:s,amount0Desired:e.Text,amount1Desired:e.Text,tickLower:e.Int}),b=e.Record({tokenId:e.Nat,liquidity:e.Nat,amount0:e.Nat,amount1:e.Nat}),F=e.Variant({ok:b,err:e.Text}),C=e.Variant({ok:e.Vec(e.Nat),err:e.Text}),R=e.Variant({ok:e.Bool,err:e.Text}),V=e.Variant({ok:e.Text,err:e.Text});return e.Service({addAdmin:e.Func([e.Text],[a],[]),burn:e.Func([e.Nat],[i],[]),collect:e.Func([r],[i],[]),collectInInvalidPosition:e.Func([r],[i],[]),createAndInitializePoolIfNecessary:e.Func([o,e.Text,o,e.Text,e.Nat,e.Text],[c],[]),cycleAvailable:e.Func([],[u],[]),cycleBalance:e.Func([],[u],["query"]),decreaseLiquidity:e.Func([d],[i],[]),decreaseLiquidityInInvalidPosition:e.Func([d],[i],[]),getAdminList:e.Func([],[l],["query"]),getApproved:e.Func([e.Nat],[c],["query"]),getBaseDataStructureCanister:e.Func([e.Text],[e.Text],["query"]),getPoolTVL:e.Func([e.Vec(f)],[x],[]),getPositionByPoolAddress:e.Func([o],[e.Vec(k)],["query"]),getTickInfos:e.Func([e.Text],[w],[]),getTotalVolume:e.Func([e.Text],[y],[]),increaseLiquidity:e.Func([I],[v],[]),invalidPositions:e.Func([e.Nat],[N],["query"]),mint:e.Func([P],[F],[]),ownerInvalidTokens:e.Func([e.Text],[C],["query"]),ownerTokens:e.Func([e.Text],[C],["query"]),positions:e.Func([e.Nat],[N],["query"]),refreshIncome:e.Func([e.Nat],[i],[]),refreshInvalidIncome:e.Func([e.Nat],[i],[]),removeAdmin:e.Func([e.Text],[a],[]),removeSwapPool:e.Func([o],[R],[]),setBaseDataStructureCanister:e.Func([e.Text],[],[]),setLockServerCanisterId:e.Func([e.Text],[],[]),setSwapNFTCanisterId:e.Func([e.Text],[],["oneway"]),swapNFTCanisterId:e.Func([],[e.Text],["query"]),tokenURI:e.Func([e.Nat],[V],[]),transfer:e.Func([e.Nat,e.Text],[V],[])})};var r=a(87288);const o=t=>n.eN.create({canisterId:r.We.ic,identity:t,idlFactory:i})},3871:(t,e,a)=>{a.d(e,{C:()=>r});var n=a(7745),i=a(37012);function r(t){let{children:e}=t;return(0,i.jsx)(n.A,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,i.jsx)(n.A,{sx:{width:"100%",maxWidth:"1120px"},children:e})})}},31119:(t,e,a)=>{a.d(e,{A:()=>I});var n=a(54711),i=a(72296),r=a(66684),o=a(40853),c=a(52634),u=a(95171),d=a(42148),l=a(46776),s=a(2281),f=a(14274),p=a(20361);const x=async t=>{let{batch_id:e,chunk:a,canisterId:n}=t;return(await(0,f.iZ)(n,!0)).create_chunk({batch_id:e,content:[...new Uint8Array(await a.arrayBuffer())]})};var k=a(40682),m=a(62474),w=a(37012);function h(){return(0,w.jsx)("svg",{width:"58",height:"38",viewBox:"0 0 58 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 23.571C0 31.2176 5.94742 37.475 13.4688 37.9699V37.9996H14.2013C14.2775 38.0008 14.3539 38.0014 14.4304 38.0014C14.5069 38.0014 14.5832 38.0008 14.6595 37.9996H44.2536V37.9797C44.4916 37.9934 44.7314 38.0004 44.9729 38.0004C51.7471 38.0004 57.2387 32.5088 57.2387 25.7346C57.2387 19.0745 51.9306 13.6542 45.3142 13.4734C43.6604 5.77266 36.8138 0 28.6189 0C22.0403 0 16.3306 3.72016 13.4787 9.17151C5.95265 9.66151 0 15.9211 0 23.571ZM28.6797 9.62109L39.5638 20.5052H33.0098V31.2837H24.3516V20.5052H17.7956L28.6797 9.62109Z",fill:"#4F5A84"})})}const y=(0,k.A)((t=>({fileName:{padding:"0 40px",...t.mixins.overflowEllipsis2}}))),I=(0,i.forwardRef)(((t,e)=>{var a;let{onUploaded:k,maxSize:I=10485760,accept:g,types:v=[],placeholder:T,imageProps:N,beforeUpload:P,canisterId:b,uploadImmediately:F=!0,onFileSelected:C,onFileError:R,disabled:V,base64:A,uploadWithIdentity:B=!1,minHeight:L,...q}=t;const S=y(),M=(0,r.A)(),[_,j]=(0,i.useState)(null),[z,Z]=(0,i.useState)(""),[D,H]=(0,i.useState)(""),[W,U]=(0,i.useState)(""),[G,E]=(0,i.useState)(""),[O,X]=(0,i.useState)(""),[K,Q]=function(t){let{fileType:e}=t;const[a,r]=(0,i.useState)(""),[o,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[l,k]=(0,i.useState)(BigInt(0)),m=async t=>{var a;let{file:i,canisterId:u}=t;if(o)return;c(!0);const m=await(0,f.iZ)(u,!0),w=(0,p.Pk)(await m.create_batch()),h=null===(a=w.data)||void 0===a?void 0:a.batch_id;if(!h&&h!==BigInt(0))return r(n.Ru._({id:"rZAlWG",values:{0:w.message?", ".concat(w.message):""}})),void c(!1);const y=[],I=7e5;for(let e=0;e<i.size;e+=I){const t=i.slice(e,e+I);y.push(x({batch_id:h,chunk:t,canisterId:u}))}const g=await Promise.all(y).catch((t=>{console.error(t),r(n.Ru._({id:"8mQYDS"})),c(!1)}));if(!g)return r(n.Ru._({id:"8mQYDS"})),void c(!1);await m.commit_batch({batch_id:h,chunk_ids:g.map((t=>{let{chunk_id:e}=t;return e})),content_type:i.type}),c(!1);const v=s.Nm===s.pG.IC?"https://".concat(null!==u&&void 0!==u?u:s.Tc,".raw.icp0.io/").concat(h):s.Nm===s.pG.LOCAL?"http://localhost:3000/dfx_image/".concat(h,"?canisterId=").concat(null!==u&&void 0!==u?u:s.Tc):"".concat(s.Hc,"/").concat(h,"?canisterId=").concat(null!==u&&void 0!==u?u:s.Tc);return d(v),k(h),{filePath:v,batchId:l,fileType:e}};return(0,i.useMemo)((()=>[{loading:o,error:a,data:{filePath:u,batchId:l,fileType:e}},m]),[o,u,l,m,e])}({fileType:z}),Y=(0,i.useRef)(null),{loading:J,error:$,data:{filePath:tt,batchId:et}}=K,at={...q,defaultValue:void 0};async function nt(){if(_)return await Q({file:_,canisterId:b})}(0,i.useEffect)((()=>{tt&&H(tt)}),[tt]),(0,i.useEffect)((()=>{q.defaultValue&&X(q.defaultValue)}),[q]),(0,i.useEffect)((()=>{D&&(X(D),k&&k({batch_id:et,file_path:D,file_type:z}))}),[D,z]),(0,i.useEffect)((()=>{R&&R(G)}),[G]),(0,i.useImperativeHandle)(e,(()=>({uploadCb:nt})),[Q,_,nt]);return(0,w.jsxs)(o.Ay,{container:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",sx:{width:"100%",height:"100%",border:"1px dashed #4f5a84",borderRadius:"8px",position:"relative",padding:"10px",minHeight:null!==L&&void 0!==L?L:"auto"},children:[_?"image"===z&&O?(0,w.jsx)("img",{src:O,alt:"",style:{width:"100%",height:"100%",objectFit:"cover",maxWidth:l.Fr?"140px":"160px",maxHeight:l.Fr?"140px":"160px",...null!==(a=null===N||void 0===N?void 0:N.style)&&void 0!==a?a:{}}}):(0,w.jsx)(c.A,{className:S.fileName,children:W}):(0,w.jsx)(h,{}),(0,w.jsx)(u.A,{...at,sx:{display:J?"none":"block",position:"absolute",width:"100%",height:"100%",zIndex:5,top:0,left:0,background:"transparent","& div":{background:"transparent"},"& fieldset":{display:"none"},"& input":{opacity:0,height:"100%",cursor:"pointer",background:"transparent"},"& label":{opacity:0},"& .MuiOutlinedInput-root":{width:"100%",height:"100%"}},type:"file",inputProps:{accept:g},title:"",onChange:async t=>{var e,a;if(V)return;t.preventDefault();const i=null===(e=t.target.files)||void 0===e?void 0:e[0];let r=function(t){return function(t){return!!t.match("image.*")}(t)?"image":function(t){return!!t.match("video.*")}(t)?"video":function(t){return!!t.match("audio.*")}(t)?"audio":function(t){return"application/json"===t}(t)||function(t){return"application/pdf"===t}(t)||function(t){return"text/plain"===t}(t)||function(t){return"text/javascript"===t}(t)||function(t){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t||"application/vnd.ms-excel"===t}(t)||function(t){return"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t||"application/msword"===t}(t)?"other":"unKnow"}(null!==(a=null===i||void 0===i?void 0:i.type)&&void 0!==a?a:"");if("other"===r||"unKnow"===r){var o,c;const t=null!==(o=null===i||void 0===i||null===(c=i.name)||void 0===c?void 0:c.split("."))&&void 0!==o?o:[];r=t[t.length-1]}if(!i)return void E(n.Ru._({id:"hqCwRf"}));if(v.length&&!v.includes(r))return void E(n.Ru._({id:"dzCoIa"}));if(E(""),I&&i.size>I)return void E(n.Ru._({id:"ADgiFR",values:{maxSize:I}}));E(""),Z(r),U(i.name),C&&C(i);let u=!0;if(P&&(u=P(i)),u)if(j(i),A){if("image"===r){const t=new FileReader;t.readAsDataURL(i),t.onload=function(e){"load"===e.type&&H(t.result)}}}else if(F){var d;if(B)null===Y||void 0===Y||null===(d=Y.current)||void 0===d||d.submit({file:i,canisterId:b});else Q({file:i,canisterId:b})}else if("image"===r){const t=new FileReader;t.readAsDataURL(i),t.onload=function(e){"load"===e.type&&X(t.result)}}}}),""===O&&T?(0,w.jsx)(c.A,{sx:{marginTop:"5px"},children:T}):null,G||$?(0,w.jsx)(c.A,{mt:"4px",sx:{color:M.colors.errorMain,textAlign:"center"},children:G||$}):null,J&&(0,w.jsx)(d.A,{loading:J,maskBorderRadius:"12px"}),B?(0,w.jsx)(m.A,{ref:Y,onSubmit:async(t,e,a)=>{let{loading:n}=e,{file:i,canisterId:r}=a;!n&&i&&await Q({file:i,canisterId:r})}}):null]})}))},97260:(t,e,a)=>{a.d(e,{H3:()=>m,HB:()=>y,K1:()=>w,ML:()=>s,NB:()=>T,Ny:()=>k,Q9:()=>g,Wr:()=>P,cs:()=>I,fL:()=>l,g4:()=>v,iJ:()=>x,ie:()=>p,mI:()=>N,nG:()=>d,uq:()=>f,wl:()=>h});var n=a(72296),i=a(3764),r=a(20361),o=a(26462),c=a(14274),u=a(59155);a(46135);function d(){return(0,n.useCallback)((async(t,e,a)=>a.count&&BigInt(a.count)>1?(0,r.Pk)(await(await(0,c.iZ)(t,e)).mint_batch(a)):(0,r.Pk)(await(await(0,c.iZ)(t,e)).mint({...a}))),[])}function l(t,e,a){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t&&(e||0===e))return(0,r.Pk)(await(await(0,c.iZ)(t)).icsMetadata(Number(e))).data}),[e]),a)}function s(t,e,a,i,d){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t&&e&&(0,o.W)(a,i))return(0,r.Pk)(await(await(0,c.iZ)(t)).findTxRecord(e,BigInt(a),BigInt(i))).data}),[t,e,a,i]),d)}function f(t,e,a,i){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t&&e&&(0,o.W)(a,i))return(0,r.Pk)(await(await(0,c.iZ)(t)).findTokenTxRecord({address:e},BigInt(a),BigInt(i))).data}),[e,a,i]))}function p(){return(0,n.useCallback)((async(t,e,a)=>(0,r.Pk)(await(await(0,c.iZ)(t,e)).transfer(a))),[])}function x(t){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t)return(0,r.Pk)(await(await(0,c.iZ)(t)).cycleBalance()).data}),[t]))}function k(t,e,a){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t&&e)return(0,r.Pk)(await(await(0,c.iZ)(t)).ownerNFTCount({address:e})).data}),[t,e]),a)}function m(t,e){return(0,u.Pz)((0,n.useCallback)((async()=>{if((0,o.W)(t,e))return(0,r.Pk)(await(await(0,c.gM)()).findCanister(BigInt(t),BigInt(e))).data}),[t,e]))}function w(t,e,a){return(0,u.Pz)((0,n.useCallback)((async()=>{if((0,o.W)(e,a))return(0,r.Pk)(await(await(0,c.gM)()).findUserCanister(t,BigInt(e),BigInt(a))).data}),[e,a]))}async function h(t){return(0,r.Pk)(await(await(0,c.gM)(!0)).create(t))}async function y(t,e){return(0,r.Pk)(await(await(0,c.iZ)(t,!0)).setLogo(e))}async function I(t,e){return(0,r.Pk)(await(await(0,c.gM)(!0)).setLogo(e,t))}function g(t){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t)return i.XA.includes(t)?(0,r.Pk)(await(await(0,c.gM)()).canisterInfo(t)).data:(0,r.Pk)(await(await(0,c.iZ)(t)).canisterInfo()).data}),[t]))}function v(t){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t)return await async function(t){var e,a;return i.XA.includes(t)?null===(e=(0,r.Pk)(await(await(0,c.gM)()).canisterInfo(t)).data)||void 0===e?void 0:e.image:null===(a=(0,r.Pk)(await(await(0,c.iZ)(t)).canisterInfo()).data)||void 0===a?void 0:a.image}(t)}),[t]))}function T(t,e,a,i){return(0,u.Pz)((0,n.useCallback)((async()=>{if(t&&e&&(0,o.W)(a,i))return(0,r.Pk)(await(await(0,c.iZ)(t)).findTokenList({address:e},BigInt(a),BigInt(i))).data}),[t,e,a,i]))}function N(){return(0,u.Pz)((0,n.useCallback)((async()=>(0,r.Pk)(await(await(0,c.gM)()).feeInfo()).data),[]))}async function P(){return(0,r.Pk)(await(await(0,c.iT)()).getNftStat()).data}},26462:(t,e,a)=>{function n(t,e){return(!!t||0===t)&&!!e}a.d(e,{W:()=>n})}}]);
//# sourceMappingURL=424.cf6bf518.chunk.js.map