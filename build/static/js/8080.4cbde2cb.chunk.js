"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[8080],{43950:(e,o,i)=>{i.d(o,{A:()=>d});var n=i(77500),t=i(81863),r=i(45650),l=i(37012);const s=(0,t.A)((()=>({floatLeft:{float:"left"},avatarBox:{clear:"both",overflow:"hidden","& .currencyB":{marginLeft:"-8px",float:"left"},"& .currencyA ":{float:"left"}}})));function d(e){let{currencyA:o,currencyB:i,borderColor:t="#ffffff",bgColor:d="#97a4ef",size:a}=e;const c=s();return(0,l.jsxs)(n.A,{className:c.avatarBox,children:[(0,l.jsx)(r.A,{className:"currencyA",borderColor:t,bgColor:d,currency:o,size:a}),(0,l.jsx)(r.A,{className:"currencyB",borderColor:t,bgColor:d,currency:i,size:a})]})}},45650:(e,o,i)=>{i.d(o,{A:()=>s});var n=i(29160),t=i(81863),r=i(37012);const l=e=>{let{borderColor:o,size:i}=e;return(0,t.A)((()=>({avatar:{width:i||"24px",height:i||"24px",border:"1px solid ".concat(o)}})))};function s(e){let{currency:o,borderColor:i="#ffffff",bgColor:t="#97a4ef",className:s,size:d}=e;const a=l({borderColor:i,size:d})();return(0,r.jsx)(n.A,{className:"".concat(a.avatar," ").concat(s||""),sx:{bgcolor:t},src:null===o||void 0===o?void 0:o.logo,children:"\xa0"})}},82017:(e,o,i)=>{i.d(o,{A:()=>m});var n=i(3481),t=i(72296),r=i(27312),l=i(1054),s=i(77500),d=i(33441),a=i(4102),c=i(81863),u=i(11871),x=i(37012);const p=(0,c.A)((()=>({button:{width:"230px",height:"48px"}})));function m(e){let{version:o}=e;const i=p(),c=(0,r.W6)(),m=(0,t.useCallback)((()=>{"v2"===o?c.push("/swap/v2/liquidity/add"):c.push("/swap/liquidity/add")}),[c]);return(0,x.jsxs)(u.Am,{level:1,sx:{height:"244px"},className:"lightGray200",children:[(0,x.jsx)(l.A,{variant:"h3",align:"center",color:"text.primary",children:(0,x.jsx)(n.x6,{id:"mZ4SrP"})}),(0,x.jsx)(s.A,{mt:2,children:(0,x.jsx)(l.A,{fontSize:16,align:"center",children:(0,x.jsx)(n.x6,{id:"ihMWgD"})})}),(0,x.jsx)(d.Ay,{container:!0,mt:4,justifyContent:"center",children:(0,x.jsx)(d.Ay,{item:!0,children:(0,x.jsx)(a.A,{className:i.button,variant:"contained",onClick:m,children:(0,x.jsx)(n.x6,{id:"OBdohg"})})})})]})}},27869:(e,o,i)=>{i.d(o,{A:()=>h});var n=i(3481),t=i(72296),r=i(77500),l=i(33441),s=i(1054),d=i(81863),a=i(43950),c=i(93321),u=i(97704),x=i(27312),p=i(66354),m=i(37012);const v=(0,d.A)((e=>({topBox:{clear:"both",overflow:"hidden"},floatLeft:{float:"left"},listItem:{height:"140px",padding:"18px",borderRadius:"".concat(e.radius,"px"),cursor:"pointer"},poolName:{margin:"0 8px","& .MuiTypography-root":{color:"#fff",fontWeight:700}},feeAmount:{padding:"2px 4px",borderRadius:"4px","& .MuiTypography-root":{color:"#fff"}},poolData:{marginTop:"28px"}})));function h(e){var o,i;let{token0:d,token1:h,fee:f,totalVolumeUSD:j,tvlUSD:g,token0Symbol:A,token1Symbol:y,version:b}=e;const k=(0,x.W6)(),w=v(),[,C]=(0,c.rd)(d),[,S]=(0,c.rd)(h),R=(0,t.useCallback)((()=>{"v2"===b?k.push("/swap/v2/liquidity/add/".concat(d,"/").concat(h,"/").concat(Number(f))):k.push("/swap/liquidity/add/".concat(d,"/").concat(h,"/").concat(Number(f)))}),[k]);return(0,m.jsxs)(r.A,{className:"".concat(w.listItem," list-item"),onClick:R,children:[(0,m.jsx)(r.A,{className:"list-item-color-box"}),(0,m.jsxs)(l.Ay,{container:!0,alignItems:"center",className:"".concat(w.topBox),children:[(0,m.jsx)(a.A,{className:w.floatLeft,currencyA:C,currencyB:S,borderColor:"transparent",bgColor:"transparent"}),(0,m.jsx)(r.A,{className:"".concat(w.poolName," ").concat(w.floatLeft),children:(0,m.jsx)(s.A,{children:"".concat(null!==(o=null!==A&&void 0!==A?A:null===C||void 0===C?void 0:C.symbol)&&void 0!==o?o:"--","/").concat(null!==(i=null!==y&&void 0!==y?y:null===S||void 0===S?void 0:S.symbol)&&void 0!==i?i:"--")})}),(0,m.jsx)(r.A,{className:"".concat(w.feeAmount," feeAmount ").concat(w.floatLeft),children:(0,m.jsx)(s.A,{children:(0,u.oC)(Number(f))})})]}),(0,m.jsxs)(l.Ay,{container:!0,className:w.poolData,children:[(0,m.jsxs)(l.Ay,{container:!0,flexDirection:"column",item:!0,xs:6,children:[(0,m.jsx)(l.Ay,{item:!0,container:!0,justifyContent:"flex-start",children:(0,m.jsx)(s.A,{className:"title",children:(0,m.jsx)(n.x6,{id:"FHKsZF"})})}),(0,m.jsx)(l.Ay,{item:!0,mt:1,container:!0,justifyContent:"flex-start",children:(0,m.jsx)(s.A,{className:"value",color:"#ffffff",fontWeight:700,fontSize:16,children:(0,p.o)(g)})})]}),(0,m.jsxs)(l.Ay,{container:!0,item:!0,xs:6,flexDirection:"column",justifyContent:"flex-end",children:[(0,m.jsx)(l.Ay,{item:!0,container:!0,justifyContent:"flex-end",children:(0,m.jsx)(s.A,{className:"title",children:(0,m.jsx)(n.x6,{id:"rZ0rgl"})})}),(0,m.jsx)(l.Ay,{mt:1,item:!0,container:!0,justifyContent:"flex-end",children:(0,m.jsx)(s.A,{className:"value",color:"#ffffff",fontWeight:700,fontSize:16,children:(0,p.o)(j)})})]})]})]})}},13930:(e,o,i)=>{i.d(o,{A:()=>m});var n=i(3481),t=i(53250),r=i(77500),l=i(1054),s=i(81863),d=i(37012);const a=(0,s.A)((e=>({wrapper:{display:"flex",alignItems:"center",height:"24px",padding:"0 9px",borderRadius:"8px","& .MuiTypography-root":{fontSize:"12px",fontWeight:500},"&.inRange":{background:e.colors.darkPrimary400},"&.closed":{background:e.colors.darkPrimary400},"&.outOfRange":{background:"#FFC107","& .MuiTypography-root":{color:e.colors.darkLevel1,marginLeft:"3px"}}}})));function c(e){return(0,d.jsx)(t.A,{width:"12",height:"12",viewBox:"0 0 12 12",...e,children:(0,d.jsx)("path",{d:"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z",fill:e.color?e.color:"#111936"})})}function u(){const e=a();return(0,d.jsxs)(r.A,{component:"span",className:"".concat(e.wrapper," closed"),children:[(0,d.jsx)(c,{fontSize:"12px",color:"#fff"}),(0,d.jsx)(l.A,{color:"#ffffff",sx:{marginLeft:"3px"},children:(0,d.jsx)(n.x6,{id:"D87pha"})})]})}function x(){const e=a();return(0,d.jsxs)(r.A,{className:"".concat(e.wrapper," outOfRange"),children:[(0,d.jsx)(c,{fontSize:"12px"}),(0,d.jsx)(l.A,{children:(0,d.jsx)(n.x6,{id:"i3Z+/Z"})})]})}function p(){const e=a();return(0,d.jsxs)(r.A,{className:"".concat(e.wrapper," inRange"),children:[(0,d.jsx)(r.A,{component:"span",sx:{background:"#54C081",width:"8px",height:"8px",borderRadius:"50%",marginRight:"8px"}}),(0,d.jsx)(l.A,{color:"#ffffff",children:(0,d.jsx)(n.x6,{id:"vOyUlD"})})]})}function m(e){let{outOfRange:o,closed:i}=e;return i?(0,d.jsx)(u,{}):o?(0,d.jsx)(x,{}):(0,d.jsx)(p,{})}},45265:(e,o,i)=>{i.d(o,{A:()=>x,b:()=>u});var n=i(54711),t=i(77500),r=i(33441),l=i(1054),s=i(11871),d=(i(72296),i(37012));function a(){return(0,d.jsx)("svg",{width:"6",height:"7",viewBox:"0 0 6 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.09619 1.5H0.303301V0.5H5.3033H5.8033V1V6H4.8033V2.20711L0.707107 6.3033L0 5.59619L4.09619 1.5Z",fill:"#4F5A84"})})}function c(e){let{children:o,buttons:i}=e;return(0,d.jsxs)(s.mO,{children:[(0,d.jsx)(s.Kp,{tabs:i}),(0,d.jsx)(t.A,{mt:4,children:o})]})}function u(e){let{children:o}=e;const i=[{id:3,value:n.Ru._({id:"hf18Me"}),path:"/swap/v2/wrap",key:"/wrap"},{id:2,key:"/swap/v2/liquidity",value:n.Ru._({id:"rS2DFh"}),path:"/swap/v2/liquidity"},{id:4,key:"swap-v3",value:(0,d.jsxs)(r.Ay,{container:!0,children:[(0,d.jsx)(l.A,{sx:{fontWeight:600,"@media (max-width: 640px)":{fontSize:"12px"}},children:"Exchange"}),(0,d.jsx)(t.A,{sx:{margin:"0 0 0 3px",position:"relative",top:"-4px"},children:(0,d.jsx)(a,{})})]}),path:"/swap"}];return(0,d.jsx)(c,{buttons:i,children:o})}function x(e){let{children:o}=e;const i=[{id:1,value:n.Ru._({id:"n8jPve"}),path:"/swap",key:"/swap"},{id:2,key:"/swap/liquidity",value:n.Ru._({id:"6y2TB3"}),path:"/swap/liquidity"}];return(0,d.jsx)(c,{buttons:i,children:o})}},23298:(e,o,i)=>{i.d(o,{_:()=>b,x:()=>w});var n=i(54711),t=i(72296),r=i(27895),l=i(62474),s=i(16443),d=i(84076),a=i(5556),c=i(3481),u=i(77500),x=i(29160),p=i(72794),m=i(85066),v=i(11871),h=i(37012);function f(e){let{logo:o,amount:i}=e;return(0,h.jsxs)(u.A,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(x.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:o,children:"\xa0"}),null!==i&&void 0!==i?i:0]})}var j=i(17744),g=i(83937),A=i(55484),y=i(22061);async function b(e,o){const i=await(0,l.u)();return await(0,y.Fo)(e,i,{positionId:o})}function k(){const e=(0,s.Le)(),o=(0,j.KX)(),i=(0,g.wR)();return(0,t.useCallback)(((t,r)=>{let{positionId:l,retry:s,currencyFeeAmount0:d,currencyFeeAmount1:a}=r;const u=function(e){var o;let{positionId:i,retry:t,currencyFeeAmount0:r,currencyFeeAmount1:l,principal:s,handleReclaim:d}=e;const a=(0,p.m)(null!==(o=null===s||void 0===s?void 0:s.toString())&&void 0!==o?o:"",12),u=r.toSignificant(12,{groupSeparator:","}),x=r.toSignificant(12),j=l.toSignificant(12,{groupSeparator:","}),g=l.toSignificant(12),A=r.currency.wrapped,y=l.currency.wrapped,b=(0,m.N)(x,A.decimals).minus(A.transFee).isLessThan(0),k=(0,m.N)(g,y.decimals).minus(y.transFee).isLessThan(0);return[{title:"Collect ".concat(A.symbol," and ").concat(y.symbol),step:0,children:[{label:n.Ru._({id:"/Be9Gl"}),value:i.toString()},{label:n.Ru._({id:"lE0+Z9"}),value:(0,h.jsx)(f,{amount:u,logo:A.logo})},{label:n.Ru._({id:"KSIdCc"}),value:(0,h.jsx)(f,{amount:j,logo:y.logo})}],errorActions:[(0,h.jsx)(v.QW,{onClick:t,children:(0,h.jsx)(c.x6,{id:"6gRgw8"})})]},{title:b?n.Ru._({id:"rYsd3Z",values:{0:A.symbol}}):n.Ru._({id:"qhKyO3",values:{0:A.symbol}}),step:1,children:[{label:n.Ru._({id:"hehnjM"}),value:(0,h.jsx)(f,{amount:u,logo:A.logo})},{label:n.Ru._({id:"xFM/mD"}),value:a}],errorActions:[(0,h.jsx)(v.QW,{onClick:d,children:(0,h.jsx)(c.x6,{id:"CkKHX6"})}),(0,h.jsx)(v.QW,{onClick:t,children:(0,h.jsx)(c.x6,{id:"6gRgw8"})})],errorMessage:n.Ru._({id:"pX/p94"}),skipError:b?n.Ru._({id:"urmFa3"}):void 0},{title:k?n.Ru._({id:"rYsd3Z",values:{0:y.symbol}}):n.Ru._({id:"qhKyO3",values:{0:y.symbol}}),step:2,children:[{label:n.Ru._({id:"hehnjM"}),value:(0,h.jsx)(f,{amount:j,logo:y.logo})},{label:n.Ru._({id:"xFM/mD"}),value:a}],errorActions:[(0,h.jsx)(v.QW,{onClick:d,children:(0,h.jsx)(c.x6,{id:"CkKHX6"})}),(0,h.jsx)(v.QW,{onClick:t,children:(0,h.jsx)(c.x6,{id:"6gRgw8"})})],errorMessage:n.Ru._({id:"pX/p94"}),skipError:k?n.Ru._({id:"urmFa3"}):void 0}]}({positionId:l,retry:s,currencyFeeAmount1:a,currencyFeeAmount0:d,principal:e,handleReclaim:i});o(String(t),{content:u,title:n.Ru._({id:"PI/zuX"})})}),[e])}function w(){const e=function(){const e=(0,s.Le)(),[o]=(0,A.dX)(),i=(0,g.RM)();return(0,t.useCallback)((t=>{let{pool:l,positionId:s,currencyFeeAmount0:a,currencyFeeAmount1:c,openExternalTip:u,stepKey:x}=t;return[async()=>{var i;if(!s||!e||!l)return!1;const{status:t,message:r}=await b(l.id,s);return"ok"===t||(o(null!==(i=(0,d.If)(r))&&void 0!==i?i:n.Ru._({id:"EB0eTJ"})),!1)},async()=>!(!a||!l)&&(!new r.A(a.quotient.toString()).minus(a.currency.transFee).isGreaterThan(0)||await i(a.currency,l.id,a.quotient.toString(),(e=>{let{message:o}=e;u({message:o,tipKey:x})}))),async()=>!(!c||!l)&&(!new r.A(c.quotient.toString()).minus(c.currency.transFee).isGreaterThan(0)||await i(c.currency,l.id,c.quotient.toString(),(e=>{let{message:o}=e;u({message:o,tipKey:x})})))]}),[e])}(),o=(0,a.TM)(),i=k();return(0,t.useCallback)((n=>{let{pool:t,positionId:r,currencyFeeAmount0:l,currencyFeeAmount1:s,openExternalTip:d}=n;const c=(0,a.Eu)(),u=e({pool:t,positionId:r,currencyFeeAmount0:l,currencyFeeAmount1:s,openExternalTip:d,stepKey:c}),{call:x,reset:p,retry:m}=o(u,c);return i(c,{positionId:r,currencyFeeAmount0:l,currencyFeeAmount1:s,retry:m}),{call:x,reset:p,retry:m,key:c}}),[e,o,i])}},82757:(e,o,i)=>{i.d(o,{J:()=>s});i(72296);var n=i(87916),t=i(22631),r=i(81891),l=i(93321);function s(e){const{result:o}=(0,t.QH)(null===e||void 0===e?void 0:e.poolId),[,i]=(0,l.rd)(null===o||void 0===o?void 0:o.token0.address),[,s]=(0,l.rd)(null===o||void 0===o?void 0:o.token1.address),[d,a]=(0,r.Q2)(null!==i&&void 0!==i?i:void 0,null!==s&&void 0!==s?s:void 0,null!==o&&void 0!==o&&o.fee?Number(o.fee):void 0);let c;return a&&o&&e&&void 0!==e.tickLower&&void 0!==e.tickUpper&&void 0!==e.liquidity&&(c=new n.y({pool:a,liquidity:e.liquidity.toString(),tickLower:Number(e.tickLower),tickUpper:Number(e.tickUpper)})),{loading:d===r.S.LOADING,checking:d===r.S.NOT_CHECK,position:c,pool:null!==a&&void 0!==a?a:void 0}}},53340:(e,o,i)=>{i.d(o,{Q:()=>r});var n=i(72296),t=i(22631);function r(e,o,i){const{result:r}=(0,t.V)(e,o,i);return(0,n.useMemo)((()=>r?{amount0:r.tokensOwed0,amount1:r.tokensOwed1}:{amount0:void 0,amount1:void 0}),[r])}},78080:(e,o,i)=>{i.r(o),i.d(o,{default:()=>ze});var n=i(3481),t=i(72296),r=i(77500),l=i(45265),s=i(22631),d=i(12852),a=i(34947),c=i(82017),u=i(11871),x=i(1054),p=i(54711),m=i(27312),v=i(7535),h=i(33441),f=i(4102),j=i(79021),g=i(25993),A=i(81863),y=i(69770),b=i(43950),k=i(60667),w=i(33030),C=i(99779),S=i(61753),R=i(43643),I=i(29277),F=i(2281),z=i(97704),E=i(92213),U=i(6),L=i(27895),P=i(61361),M=i(86100),D=i(23298),N=i(99510),_=i(55484),q=i(80978),B=i(37012);const T=(0,A.A)((e=>({feeBox:{padding:"16px 16px",borderRadius:"12px",background:e.palette.background.level3}})));function W(e){let{open:o,onClose:i,currencyFeeAmount0:l,currencyFeeAmount1:s,pool:d,positionId:a,onClaimedSuccessfully:c}=e;const m=T(),[v]=(0,_.I5)(),[f]=(0,_.dX)(),[j,g]=(0,_.VS)(),[A,y]=(0,t.useState)(!1),{token0:b,token1:k}=(0,t.useMemo)((()=>d?{token0:d.token0,token1:d.token1}:{token0:void 0,token1:void 0}),[d]),w=(0,D.x)();return(0,B.jsx)(U.A,{open:o,onClose:i,title:p.Ru._({id:"tu/fxg"}),children:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(r.A,{className:m.feeBox,children:[(0,B.jsxs)(h.Ay,{container:!0,alignItems:"center",children:[(0,B.jsxs)(h.Ay,{item:!0,xs:!0,container:!0,alignItems:"center",children:[(0,B.jsx)(h.Ay,{item:!0,mr:1,children:(0,B.jsx)(u.HM,{logo:null===b||void 0===b?void 0:b.logo,tokenId:null===b||void 0===b?void 0:b.address})}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(x.A,{color:"text.primary",children:null===b||void 0===b?void 0:b.symbol})})]}),(0,B.jsx)(h.Ay,{item:!0,xs:!0,children:(0,B.jsx)(x.A,{align:"right",color:"text.primary",children:l?(0,M.Vr)(new L.A(l.toExact()).toFixed(8)):"--"})})]}),(0,B.jsxs)(h.Ay,{container:!0,mt:2,alignItems:"center",children:[(0,B.jsxs)(h.Ay,{item:!0,xs:!0,container:!0,alignItems:"center",children:[(0,B.jsx)(h.Ay,{item:!0,mr:1,children:(0,B.jsx)(u.HM,{logo:null===k||void 0===k?void 0:k.logo,tokenId:null===k||void 0===k?void 0:k.address})}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(x.A,{color:"text.primary",children:null===k||void 0===k?void 0:k.symbol})})]}),(0,B.jsx)(h.Ay,{item:!0,xs:!0,children:(0,B.jsx)(x.A,{align:"right",color:"text.primary",children:s?(0,M.Vr)(new L.A(s.toExact()).toFixed(8)):"--"})})]})]}),(0,B.jsx)(x.A,{mt:1,children:(0,B.jsx)(n.x6,{id:"1XF7fn"})}),(0,B.jsx)(P.A,{variant:"contained",size:"large",fullWidth:!0,sx:{marginTop:"24px"},onClick:async()=>{if(A||!a||!d||!l||!s)return;y(!0),i();const{call:e,key:o}=w({pool:d,positionId:BigInt(a),currencyFeeAmount0:l,currencyFeeAmount1:s,openExternalTip:e=>{let{message:o,tipKey:i}=e;f((0,B.jsx)(N.e,{message:o,tipKey:i}))}}),n=j("Claim ".concat(l.toSignificant(6,{groupSeparator:","})," ").concat(null===b||void 0===b?void 0:b.symbol," and ").concat(s.toSignificant(6,{groupSeparator:","})," ").concat(null===k||void 0===k?void 0:k.symbol),{extraContent:(0,B.jsx)(q.A,{step:o})});!0===await e()&&(v(p.Ru._({id:"OAUArQ"})),c&&c()),g(n),y(!1)},disabled:A,startIcon:A?(0,B.jsx)(E.A,{size:24,color:"inherit"}):null,children:p.Ru._({id:"hom7qf"})})]})})}var O=i(53340),V=i(27442),Z=i(66354),K=i(63473),H=i(50284),X=i(86473),Q=i(87851);const G=(0,t.createContext)({});var $=i(34612),Y=i(19957),J=i(87685),ee=i(13930),oe=i(16443),ie=i(10739),ne=i(20361),te=i(86307),re=i(2777),le=i(12288),se=i(65324);const de=(0,A.A)((e=>({positionContainer:{position:"relative",backgroundColor:e.palette.background.level3,borderRadius:"".concat(e.radius,"px"),border:e.palette.border.gray200,padding:"24px 20px",marginTop:"16px",cursor:"pointer",overflow:"hidden","&:first-child":{marginTop:"0"},[e.breakpoints.down("md")]:{padding:"16px 10px"}},detailContainer:{backgroundColor:e.palette.background.level3,borderRadius:"".concat(e.radius,"px"),border:e.palette.border.gray200,padding:"20px",[e.breakpoints.down("md")]:{padding:"10px"}}})));function ae(e){let{label:o,value:i,convert:n,onConvertClick:t}=e;const r=(0,y.A)(),l=(0,v.A)(r.breakpoints.down("sm"));return(0,B.jsxs)(h.Ay,{container:!0,alignItems:"center",children:[(0,B.jsx)(x.A,{...l?{fontSize:"12px"}:{},children:o}),(0,B.jsxs)(h.Ay,{sx:{flex:1},container:!0,justifyContent:"flex-end",alignItems:"center",children:[(0,$.isElement)(i)?i:(0,B.jsx)(x.A,{...l?{fontSize:"12px"}:{},color:"textPrimary",children:i}),n&&(0,B.jsx)(k.A,{sx:{fontSize:"1rem",marginLeft:"6px",cursor:"pointer"},onClick:t})]})]})}function ce(e){let{position:o,positionId:i,manuallyInverted:l,setManuallyInverted:s,show:d,token0USDPrice:a,token1USDPrice:c,onPrincipalChange:m}=e;const v=de(),{pool:h,tickLower:f,tickUpper:j}=o||{},{token0:g,token1:A,fee:y}=h||{},b=(0,R.A)(y,f,j),k=(0,K.s)(o),{priceLower:w,priceUpper:C,base:z}=(0,H.h)({priceLower:null===k||void 0===k?void 0:k.priceLower,priceUpper:null===k||void 0===k?void 0:k.priceUpper,quote:null===k||void 0===k?void 0:k.quote,base:null===k||void 0===k?void 0:k.base,invert:l}),E=A?null===z||void 0===z?void 0:z.equals(A):void 0,U=(0,t.useMemo)((()=>E?{[I.zm.LOWER]:!!b[I.zm.UPPER]||void 0,[I.zm.UPPER]:!!b[I.zm.LOWER]||void 0}:b),[b,E]),P=E?g:A,M=E?A:g,D=(0,t.useMemo)((()=>"".concat(null===P||void 0===P?void 0:P.symbol," per ").concat(null===M||void 0===M?void 0:M.symbol)),[P,M]),{amount0:N,amount1:_}=(0,O.Q)(null===o||void 0===o?void 0:o.pool.id,i),q=(0,t.useMemo)((()=>{if(g&&void 0!==N)return X.e.fromRawAmount(g,(0,V.u)(new L.A(N.toString())))}),[N,g]),T=(0,t.useMemo)((()=>{if(A&&void 0!==_)return X.e.fromRawAmount(A,(0,V.u)(new L.A(_.toString())))}),[_,A]);return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(r.A,{className:v.detailContainer,sx:{display:d?"flex":"none",margin:"8px 0 0 0",gap:"20px 0",flexDirection:"column"},children:[(0,B.jsx)(ae,{label:p.Ru._({id:"/Be9Gl"}),value:i.toString()}),(0,B.jsx)(ae,{label:p.Ru._({id:"PMIBjc",values:{0:null===P||void 0===P?void 0:P.symbol}}),value:o?E?(0,ie.$)(o.amount0.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount0.currency.decimals))):(0,ie.$)(o.amount1.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount1.currency.decimals))):"--"}),(0,B.jsx)(ae,{label:p.Ru._({id:"PMIBjc",values:{0:null===M||void 0===M?void 0:M.symbol}}),value:o?E?(0,ie.$)(o.amount1.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount1.currency.decimals))):(0,ie.$)(o.amount0.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount0.currency.decimals))):"--"}),(0,B.jsx)(ae,{label:p.Ru._({id:"kNeEXg"}),value:A&&g&&h?E?"".concat(h.priceOf(A).toSignificant(6,{groupSeparator:","})," ").concat(D):"".concat(h.priceOf(g).toSignificant(6,{groupSeparator:","})," ").concat(D):"--",convert:!0,onConvertClick:()=>s(!l)}),(0,B.jsx)(ae,{label:p.Ru._({id:"YA4hwj"}),value:(0,B.jsxs)(r.A,{children:[(0,B.jsxs)(x.A,{color:"text.primary",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:[(0,S.I)(w,U,I.zm.LOWER)," -",(0,S.I)(C,U,I.zm.UPPER)]}),(0,B.jsx)(x.A,{color:"text.primary",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:D})]}),convert:!0,onConvertClick:()=>s(!l)}),(0,B.jsx)(ae,{label:p.Ru._({id:"XCqY8/"}),value:(0,B.jsxs)(r.A,{children:[(0,B.jsx)(x.A,{color:"text.primary",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:void 0!==q||void 0!==T?"".concat((0,ie.$)(new L.A(q?q.toExact():0).toString())," ").concat(null===g||void 0===g?void 0:g.symbol):"--"}),(0,B.jsx)(x.A,{color:"text.primary",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:void 0!==q||void 0!==T?"and ".concat((0,ie.$)(new L.A(T?T.toExact():0).toString())," ").concat(null===A||void 0===A?void 0:A.symbol):"--"}),(0,B.jsx)(x.A,{mt:"5px",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:void 0!==q&&void 0!==T&&a&&c?(0,Z.o)(new L.A(q?q.toExact():0).multipliedBy(a).plus(new L.A(T?T.toExact():0).multipliedBy(c)).toString()):"--"})]})}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)(x.A,{sx:{margin:"0  0 10px 0"},children:(0,B.jsx)(n.x6,{id:"ysunuR"})}),(0,B.jsx)(u.GV,{multiline:!0,placeholder:"Enter the principal ID",onChange:m})]})]})})}function ue(e){let{position:o,showButtons:i,positionId:l,invalid:s=!1,closed:d,open:a,onClose:c,onTransferSuccess:m}=e;const j=de(),A=(0,y.A)(),k=(0,oe.Le)(),[w,C]=(0,t.useState)(void 0),[S,R]=(0,t.useState)(!1),[I]=(0,_.I5)(),[E]=(0,_.dX)(),[P,D]=(0,_.VS)(),N=(0,v.A)(A.breakpoints.down("md")),{pool:q,tickLower:T,tickUpper:W}=o||{},{token0:O,token1:V,fee:X}=q||{},G=(0,K.s)(o),[$,Y]=(0,t.useState)(!1),{base:J}=(0,H.h)({priceLower:null===G||void 0===G?void 0:G.priceLower,priceUpper:null===G||void 0===G?void 0:G.priceUpper,quote:null===G||void 0===G?void 0:G.quote,base:null===G||void 0===G?void 0:G.base,invert:$}),ie=V?null===J||void 0===J?void 0:J.equals(V):void 0,ae=ie?O:V,ue=ie?V:O,xe=!(!q||!W&&0!==W||!T&&0!==T)&&(q.tickCurrent<T||q.tickCurrent>=W),pe=(0,Q.v$)(null===o||void 0===o?void 0:o.pool.token0.address),me=(0,Q.v$)(null===o||void 0===o?void 0:o.pool.token1.address),ve=(0,t.useMemo)((()=>{if(!o||!pe||!me)return;return new L.A(pe).multipliedBy(o.amount0.toExact()).plus(new L.A(me).multipliedBy(o.amount1.toExact())).toString()}),[o,pe,me]);let he;return w&&!(0,te.R)(w)&&(he="Invalid principal ID"),w||(he="Enter the principal ID"),(0,B.jsxs)(U.A,{open:a,title:p.Ru._({id:"im96CE"}),onClose:c,children:[(0,B.jsxs)(h.Ay,{className:j.positionContainer,container:!0,children:[!o&&(0,B.jsx)(u.Rh,{loading:!o,circularSize:28}),(0,B.jsxs)(h.Ay,{item:!0,xs:!0,children:[(0,B.jsxs)(h.Ay,{container:!0,alignItems:"center",children:[(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(b.A,{currencyA:ue,currencyB:ae,borderColor:(0,M.g4)(A)?"rgba(189, 200, 240, 0.4)":"rgba(255, 255, 255, 0.4)",bgColor:(0,M.g4)(A)?"#412755":"#DADADA",size:N?"20px":"24px"})}),(0,B.jsx)(h.Ay,{item:!0,mx:1,children:(0,B.jsxs)(x.A,{color:"textPrimary",fontSize:N?14:16,fontWeight:500,children:[null===ue||void 0===ue?void 0:ue.symbol,"/",null===ae||void 0===ae?void 0:ae.symbol]})}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(g.A,{label:X?(0,z.oC)(X):F.Tn,sx:{borderRadius:"8px",height:N?"22px":"24px","& span":{padding:N?"2px":"5px",fontSize:N?"12px":"14px"},backgroundColor:(0,M.g4)(A)?"#4F5A84":"#EFEFFF"}})})]}),d?null:(0,B.jsxs)(h.Ay,{container:!0,mt:"10px",children:[(0,B.jsxs)(x.A,{children:[(0,B.jsx)(n.x6,{id:"1/40so"}),"\xa0"]}),(0,B.jsx)(x.A,{color:"text.primary",children:ve?(0,Z.o)(ve):"--"})]})]}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(h.Ay,{container:!0,children:(0,B.jsx)(ee.A,{closed:d,outOfRange:xe})})})]}),(0,B.jsx)(ce,{position:o,positionId:l,invalid:s,showButtons:i,manuallyInverted:$,setManuallyInverted:Y,show:!0,token0USDPrice:pe,token1USDPrice:me,onPrincipalChange:e=>{C(e)}}),(0,B.jsx)(r.A,{mt:"20px",children:(0,B.jsx)(f.A,{fullWidth:!0,size:"medium",variant:"contained",disabled:!!he||S,onClick:async()=>{if(!w||!o||!k)return;R(!0);const e=o.pool.id,i=P(p.Ru._({id:"IGA1qU",values:{positionId:l}})),{status:n,message:t}=(0,ne.Pk)(await(await(0,re.WY)(e,!0)).transferPosition(k,se.p.fromText(w),BigInt(l)));n===le.i.OK?(I(p.Ru._({id:"l14JV4"})),c(),m&&m()):E(null!==t&&void 0!==t?t:p.Ru._({id:"gkMcI7"})),R(!1),D(i)},children:he||(0,B.jsx)(n.x6,{id:"zPGNJm"})})})]})}const xe=(0,A.A)((e=>({positionContainer:{position:"relative",backgroundColor:e.palette.background.level3,borderRadius:"".concat(e.radius,"px"),border:e.palette.border.gray200,padding:"24px 20px",marginTop:"16px",cursor:"pointer",overflow:"hidden","&:first-child":{marginTop:"0"},[e.breakpoints.down("md")]:{padding:"16px 10px"}},detailContainer:{backgroundColor:e.palette.background.level3,borderRadius:"".concat(e.radius,"px"),border:e.palette.border.gray200,padding:"20px"}})));function pe(e){let{label:o,value:i,convert:n,onConvertClick:t}=e;const r=(0,y.A)(),l=(0,v.A)(r.breakpoints.down("sm"));return(0,B.jsxs)(h.Ay,{container:!0,sx:{height:"48px"},alignItems:"center",children:[(0,B.jsx)(h.Ay,{item:!0,xs:4,children:(0,B.jsx)(x.A,{...l?{fontSize:"12px"}:{},children:o})}),(0,B.jsxs)(h.Ay,{item:!0,xs:8,container:!0,justifyContent:"flex-end",children:[(0,$.isElement)(i)?i:(0,B.jsx)(x.A,{...l?{fontSize:"12px"}:{},color:"textPrimary",children:i}),n&&(0,B.jsx)(k.A,{sx:{fontSize:"1rem",marginLeft:"6px",cursor:"pointer"},onClick:t})]})]})}function me(e){let{position:o,showButtons:i,positionId:l,invalid:s=!1,manuallyInverted:d,setManuallyInverted:a,show:c,token0USDPrice:u,token1USDPrice:g}=e;const A=xe(),b=(0,m.W6)(),k=(0,t.useRef)(null),w=(0,y.A)(),[C,z]=(0,t.useState)(!1),[E,U]=(0,t.useState)(!1),[P,D]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),{updateCounter:q}=(0,t.useContext)(G),T="0"===(null===o||void 0===o?void 0:o.liquidity.toString()),{pool:Q,tickLower:$,tickUpper:ee}=o||{},{token0:oe,token1:ie,fee:ne}=Q||{},te=(0,t.useCallback)((()=>{s?b.push("/swap/liquidity/decrease/".concat(String(l),"?invalid=true")):b.push("/swap/liquidity/decrease/".concat(String(l),"/").concat(null===o||void 0===o?void 0:o.pool.id))}),[b,s,l]),re=(0,t.useCallback)((()=>{b.push("/swap/liquidity/increase/".concat(String(l),"/").concat(null===o||void 0===o?void 0:o.pool.id))}),[oe,ie]),le=(0,t.useCallback)((()=>{z(!0)}),[z]),se=(0,R.A)(ne,$,ee),de=(0,K.s)(o),{priceLower:ae,priceUpper:ce,base:me}=(0,H.h)({priceLower:null===de||void 0===de?void 0:de.priceLower,priceUpper:null===de||void 0===de?void 0:de.priceUpper,quote:null===de||void 0===de?void 0:de.quote,base:null===de||void 0===de?void 0:de.base,invert:d}),ve=ie?null===me||void 0===me?void 0:me.equals(ie):void 0,he=(0,t.useMemo)((()=>ve?{[I.zm.LOWER]:!!se[I.zm.UPPER]||void 0,[I.zm.UPPER]:!!se[I.zm.LOWER]||void 0}:se),[se,ve]),fe=ve?oe:ie,je=ve?ie:oe,ge=(0,t.useMemo)((()=>"".concat(null===fe||void 0===fe?void 0:fe.symbol," per ").concat(null===je||void 0===je?void 0:je.symbol)),[fe,je]),{amount0:Ae,amount1:ye}=(0,O.Q)(null===o||void 0===o?void 0:o.pool.id,l,E),be=(0,t.useMemo)((()=>{if(oe&&void 0!==Ae)return X.e.fromRawAmount(oe,(0,V.u)(new L.A(Ae.toString())))}),[Ae,oe]),ke=(0,t.useMemo)((()=>{if(ie&&void 0!==ye)return X.e.fromRawAmount(ie,(0,V.u)(new L.A(ye.toString())))}),[ye,ie]),we=(0,t.useMemo)((()=>!(!Ae&&!ye)),[Ae,ye]),Ce=(0,v.A)(w.breakpoints.down("sm"));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(h.Ay,{mt:1,className:A.detailContainer,sx:{display:c?"block":"none"},children:[(0,B.jsx)(pe,{label:p.Ru._({id:"/Be9Gl"}),value:l.toString()}),(0,B.jsx)(pe,{label:p.Ru._({id:"PMIBjc",values:{0:null===fe||void 0===fe?void 0:fe.symbol}}),value:ve?(0,M.Vr)(null===o||void 0===o?void 0:o.amount0.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount0.currency.decimals))):(0,M.Vr)(null===o||void 0===o?void 0:o.amount1.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount1.currency.decimals)))}),(0,B.jsx)(pe,{label:p.Ru._({id:"PMIBjc",values:{0:null===je||void 0===je?void 0:je.symbol}}),value:ve?(0,M.Vr)(null===o||void 0===o?void 0:o.amount1.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount1.currency.decimals))):(0,M.Vr)(null===o||void 0===o?void 0:o.amount0.toFixed((0,F.Z)(null===o||void 0===o?void 0:o.amount0.currency.decimals)))}),(0,B.jsx)(pe,{label:p.Ru._({id:"kNeEXg"}),value:ie&&oe?ve?null!==Q&&void 0!==Q&&Q.priceOf(ie)?"".concat((0,M.Vr)(null===Q||void 0===Q?void 0:Q.priceOf(ie).toSignificant(6))," ").concat(ge):"--":null!==Q&&void 0!==Q&&Q.priceOf(oe)?"".concat((0,M.Vr)(null===Q||void 0===Q?void 0:Q.priceOf(oe).toSignificant(6))," ").concat(ge):"--":"--",convert:!0,onConvertClick:()=>a(!d)}),(0,B.jsx)(pe,{label:p.Ru._({id:"YA4hwj"}),value:"".concat((0,S.I)(ae,he,I.zm.LOWER)," - ").concat((0,S.I)(ce,he,I.zm.UPPER)," ").concat(ge),convert:!0,onConvertClick:()=>a(!d)}),(0,B.jsx)(pe,{label:p.Ru._({id:"XCqY8/"}),value:(0,B.jsxs)(r.A,{children:[(0,B.jsx)(x.A,{color:"text.primary",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:void 0!==be||void 0!==ke?"".concat((0,M.Vr)(new L.A(be?be.toExact():0).toFixed(8))," ").concat(null===oe||void 0===oe?void 0:oe.symbol," and ").concat((0,M.Vr)(new L.A(ke?ke.toExact():0).toFixed(8))," ").concat(null===ie||void 0===ie?void 0:ie.symbol):"--"}),(0,B.jsx)(x.A,{mt:"5px",align:"right",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:void 0!==be&&void 0!==ke&&u&&g?(0,Z.o)(new L.A(be?be.toExact():0).multipliedBy(u).plus(new L.A(ke?ke.toExact():0).multipliedBy(g)).toString()):"--"})]})}),i&&(0,B.jsxs)(r.A,{mt:3,sx:{display:"grid",gridTemplateColumns:Ce?"1fr":we?"1fr 1fr 1fr 40px":"1fr 1fr 40px",gap:Ce?"20px 0":"0 20px"},children:[T?(0,B.jsx)(r.A,{}):(0,B.jsx)(f.A,{fullWidth:!0,variant:"outlined",size:"medium",onClick:te,children:(0,B.jsx)(n.x6,{id:"3XBvkd"})}),we?(0,B.jsx)(f.A,{fullWidth:!0,variant:"outlined",size:"medium",onClick:le,children:(0,B.jsx)(n.x6,{id:"tu/fxg"})}):null,s?(0,B.jsx)(r.A,{}):(0,B.jsx)(f.A,{fullWidth:!0,variant:"contained",size:"medium",onClick:re,children:(0,B.jsx)(n.x6,{id:"+zruvG"})}),Y.Fr?null:(0,B.jsxs)(r.A,{ref:k,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:[(0,B.jsxs)(r.A,{sx:{display:"flex",width:"100%",height:"100%",gap:"0 5px",alignItems:"center",cursor:"pointer"},children:[(0,B.jsx)(r.A,{sx:{width:"4px",height:"4px",borderRadius:"50%",background:"#4F5A84"}}),(0,B.jsx)(r.A,{sx:{width:"4px",height:"4px",borderRadius:"50%",background:"#4F5A84"}}),(0,B.jsx)(r.A,{sx:{width:"4px",height:"4px",borderRadius:"50%",background:"#4F5A84"}})]}),(0,B.jsx)(j.A,{open:P,anchorEl:null===k||void 0===k?void 0:k.current,placement:"top",popperOptions:{modifiers:[{name:"offset",options:{offset:[-30,0]}}]},children:(0,B.jsx)(J.x,{onClickAway:()=>D(!1),children:(0,B.jsx)(r.A,{sx:{padding:"16px",borderRadius:"12px",background:w.palette.background.level1,cursor:"pointer"},onClick:()=>{_(!0),D(!1)},children:(0,B.jsx)(x.A,{color:"text.primary",children:(0,B.jsx)(n.x6,{id:"im96CE"})})})})})]})]})]}),(0,B.jsx)(W,{pool:Q,positionId:l,open:C,currencyFeeAmount0:be,currencyFeeAmount1:ke,onClose:()=>{z(!1)},onClaimedSuccessfully:()=>{U(!E)}}),N?(0,B.jsx)(ue,{closed:closed,open:N,position:o,positionId:l,onClose:()=>_(!1),onTransferSuccess:()=>{q()}}):null]})}function ve(e){let{position:o,showButtons:i,positionId:r,invalid:l=!1,closed:s}=e;const d=xe(),a=(0,y.A)(),c=(0,v.A)(a.breakpoints.down("md")),[p,m]=(0,t.useState)(void 0),f=(0,t.useCallback)((()=>{o&&m(!p)}),[p,m,o]),{pool:j,tickLower:A,tickUpper:k}=o||{},{token0:S,token1:R,fee:I}=j||{},E=(0,K.s)(o),[U,P]=(0,t.useState)(!1),{base:D}=(0,H.h)({priceLower:null===E||void 0===E?void 0:E.priceLower,priceUpper:null===E||void 0===E?void 0:E.priceUpper,quote:null===E||void 0===E?void 0:E.quote,base:null===E||void 0===E?void 0:E.base,invert:U}),N=R?null===D||void 0===D?void 0:D.equals(R):void 0,_=N?S:R,q=N?R:S,T=!(!j||!k&&0!==k||!A&&0!==A)&&(j.tickCurrent<A||j.tickCurrent>=k),W=(0,Q.v$)(null===o||void 0===o?void 0:o.pool.token0.address),O=(0,Q.v$)(null===o||void 0===o?void 0:o.pool.token1.address),V=(0,t.useMemo)((()=>{if(!o||!W||!O)return;return new L.A(W).multipliedBy(o.amount0.toExact()).plus(new L.A(O).multipliedBy(o.amount1.toExact())).toString()}),[o,W,O]),{setAllPositionsUSDValue:X}=(0,t.useContext)(G),$=(0,t.useMemo)((()=>{if(o)return"".concat(o.pool.id,"_").concat(r.toString())}),[o,r]);return(0,t.useEffect)((()=>{V&&$&&X($,new L.A(V))}),[V,$]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(h.Ay,{className:d.positionContainer,container:!0,onClick:f,children:[!o&&(0,B.jsx)(u.Rh,{loading:!o,circularSize:28}),(0,B.jsxs)(h.Ay,{item:!0,xs:!0,children:[(0,B.jsxs)(h.Ay,{container:!0,alignItems:"center",children:[(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(b.A,{currencyA:q,currencyB:_,borderColor:(0,M.g4)(a)?"rgba(189, 200, 240, 0.4)":"rgba(255, 255, 255, 0.4)",bgColor:(0,M.g4)(a)?"#273155":"#DADADA",size:c?"20px":"24px"})}),(0,B.jsx)(h.Ay,{item:!0,mx:1,children:(0,B.jsxs)(x.A,{color:"textPrimary",fontSize:c?14:16,fontWeight:500,children:[null===q||void 0===q?void 0:q.symbol,"/",null===_||void 0===_?void 0:_.symbol]})}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsx)(g.A,{label:I?(0,z.oC)(I):F.Tn,sx:{borderRadius:"8px",height:c?"22px":"24px","& span":{padding:c?"2px":"5px",fontSize:c?"12px":"14px"},backgroundColor:(0,M.g4)(a)?"#4F5A84":"#EFEFFF"}})})]}),s?null:(0,B.jsxs)(h.Ay,{container:!0,mt:"10px",children:[(0,B.jsxs)(x.A,{children:[(0,B.jsx)(n.x6,{id:"1/40so"}),"\xa0"]}),(0,B.jsx)(x.A,{color:"text.primary",children:V?(0,Z.o)(V):"--"})]})]}),(0,B.jsx)(h.Ay,{item:!0,children:(0,B.jsxs)(h.Ay,{container:!0,children:[(0,B.jsx)(ee.A,{closed:s,outOfRange:T}),(0,B.jsx)(h.Ay,{item:!0,ml:c?"5px":"10px",children:(0,B.jsx)(h.Ay,{container:!0,alignItems:"center",children:p?(0,B.jsx)(w.A,{}):(0,B.jsx)(C.A,{})})})]})})]}),"boolean"!==typeof p?null:(0,B.jsx)(me,{position:o,positionId:r,invalid:l,showButtons:i,manuallyInverted:U,setManuallyInverted:P,show:p,token0USDPrice:W,token1USDPrice:O})]})}var he=i(82757),fe=i(60816),je=i(9890);function ge(e){var o;return"0"!==(null===e||void 0===e||null===(o=e.liquidity)||void 0===o?void 0:o.toString())}function Ae(e){let{position:o}=e;const{position:i}=(0,he.J)({poolId:o.id,tickLower:o.tickLower,tickUpper:o.tickUpper,liquidity:o.liquidity}),n=!ge(o);return n?null:(0,B.jsx)(ve,{closed:n,position:i,positionId:BigInt(o.index),showButtons:!0})}function ye(){const e=(0,oe.WT)(),[o,i]=(0,t.useState)(!1),[l,d]=(0,t.useState)({}),[a,c]=(0,t.useState)(0),{result:p,loading:m}=function(e){const[o,i]=(0,t.useState)(!0),[n,r]=(0,t.useState)([]),l=(0,oe.Le)(),d=(0,fe.W8)();return(0,t.useEffect)((()=>{!async function(){if(d&&l)if(0===d.length)i(!1),r([]);else{const e=(await Promise.all(d.map((async e=>await(0,je.$)(e,l.toString()))))).map(((e,o)=>e?{positions:e,poolId:d[o]}:void 0)).filter((e=>!!e)),o=await Promise.all(e.reduce(((e,o)=>e.concat(o.positions.map((e=>[o.poolId,e])))),[]).map((async e=>{let[o,i]=e;return{...await(0,s.XC)(o,i),id:o,index:Number(i)}})));r(o.filter((e=>!!e))),i(!1)}else l||r([])}()}),[d,l,e]),(0,t.useMemo)((()=>({loading:o,result:n})),[n,o])}(a),{loading:v}=(0,fe.J$)(),h=(0,t.useMemo)((()=>0!==p.filter((e=>ge(e))).length),[p]);(0,t.useEffect)((()=>{d(void 0)}),[e]);const f=(0,t.useMemo)((()=>{if(l)return Object.values(l).reduce(((e,o)=>null===e||void 0===e?void 0:e.plus(null!==o&&void 0!==o?o:0)),new L.A(0))}),[l]);return(0,B.jsxs)(G.Provider,{value:{allPositionsUSDValue:f,setAllPositionsUSDValue:(e,o)=>{d((i=>({...i,[e]:o})))},counter:a,updateCounter:()=>{c(a+1)}},children:[(0,B.jsxs)(u.Am,{level:1,className:"lightGray200",children:[(0,B.jsx)(x.A,{variant:"h3",color:"textPrimary",children:(0,B.jsx)(n.x6,{id:"vNMBXb"})}),(0,B.jsxs)(r.A,{mt:"5px",mb:"10px",children:[(0,B.jsxs)(x.A,{component:"span",children:[(0,B.jsx)(n.x6,{id:"+yydFs"}),"\xa0"]}),(0,B.jsx)(x.A,{component:"span",color:"text.primary",children:f?(0,Z.o)(f.toString()):"--"})]}),(0,B.jsxs)(r.A,{mt:"5px",mb:"10px",children:[(0,B.jsxs)(x.A,{component:"span",children:[(0,B.jsx)(n.x6,{id:"NPerqv"}),"\xa0"]}),(0,B.jsx)(u.QW,{onClick:()=>i(!0),children:(0,B.jsx)(n.x6,{id:"apYF5w"})})]}),(m||v)&&e?(0,B.jsxs)(u.FO,{children:[(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{})]}):(0,B.jsxs)(B.Fragment,{children:[h&&0!==(null===p||void 0===p?void 0:p.length)?null:(0,B.jsx)(r.A,{mt:2,children:(0,B.jsx)(u.YQ,{})}),(0,B.jsx)(r.A,{children:p.map((e=>(0,B.jsx)(Ae,{position:e},"".concat(e.id,"_").concat(e.index))))})]})]}),(0,B.jsx)(u.Tw,{open:o,onClose:()=>i(!1)})]})}var be=i(65810),ke=i(27869),we=i(8701),Ce=i(59155);const Se=function(e,o,i,n){return new(i||(i=Promise))((function(t,r){function l(e){try{d(n.next(e))}catch(o){r(o)}}function s(e){try{d(n.throw(e))}catch(o){r(o)}}function d(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(e){e(o)}))).then(l,s)}d((n=n.apply(e,o||[])).next())}))};function Re(){return(0,Ce.Pz)((0,t.useCallback)((()=>Se(this,void 0,void 0,(function*(){return yield function(){return Se(this,void 0,void 0,(function*(){return(0,ne.Pk)(yield(yield(0,re.gq)()).getAllPoolTvl()).data}))}()}))),[]))}const Ie=(0,A.A)((e=>{const o=(0,M.g4)(e)?"0.34":"0.7";return{wrapper:{display:"grid",gap:"0 20px",gridTemplateColumns:"repeat(4, 1fr)",overflow:"hidden",width:"100%","@media (max-width:1140px)":{gridGap:"10px 10px",gridTemplateColumns:"1fr 1fr"},"@media (max-width:640px)":{gridGap:"10px 0",gridTemplateColumns:"1fr"},"& .title":{color:"rgba(255, 255, 255, 0.6)"},"& .value":{color:"#ffffff"}},listWrapper:{"& .list-item":{position:"relative",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.04)"},"& .list-item-color-box":{position:"absolute",left:"10px",bottom:"7px",width:"98px",height:"98px",filter:"blur(34px)",zIndex:"-1"},"&:first-child":{"& .list-item":{background:"rgba(80, 95, 186, ".concat(o,")")},"& .list-item-color-box":{background:"#3644C2"},"& .feeAmount":{background:"#4D5CA9"}},"&:nth-of-type(2)":{"& .list-item":{background:"rgba(101, 80, 186, ".concat(o,")")},"& .list-item-color-box":{background:"#5D0A9E"},"& .feeAmount":{background:"#654DA9"}},"&:nth-of-type(3)":{"& .list-item":{background:"rgba(45, 148, 243, ".concat(o,")")},"& .list-item-color-box":{background:"#0A609E"},"& .feeAmount":{background:"#2D94F3"}},"&:nth-of-type(4)":{"& .list-item":{background:"rgba(162, 88, 145, ".concat(o,")")},"& .list-item-color-box":{background:"#9E0A8F"},"& .feeAmount":{background:"#833780"}}}}}));function Fe(){const e=Ie(),{result:o,loading:i}=(0,we._5)(),{result:n,loading:l}=Re(),s=(0,t.useMemo)((()=>o&&n?o.sort(((e,o)=>e.totalVolumeUSD>o.totalVolumeUSD?-1:1)).filter((e=>e.feeTier===BigInt(3e3))).slice(0,4).map((e=>{const o=n.find((o=>o[0]===e.pool));return{...e,tvlUSD:o?o[1]:0}})):[]),[o,n]);return i||l?(0,B.jsxs)(be.A,{children:[(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{})]}):(0,B.jsx)(r.A,{className:e.wrapper,children:s.map(((o,i)=>(0,B.jsx)(r.A,{className:e.listWrapper,children:(0,B.jsx)(ke.A,{token0:o.token0Id,token1:o.token1Id,fee:o.feeTier,token0Symbol:o.token0Symbol,token1Symbol:o.token1Symbol,tvlUSD:o.tvlUSD,totalVolumeUSD:o.totalVolumeUSD})},i)))})}function ze(){const[e,o]=(0,d.O5)(),{result:i}=(0,s.Q6)(),x=(0,a.DA)();return(0,t.useEffect)((()=>{const n=e=>{i&&e===i.length&&o(!0)};(()=>{if(i&&i.length&&!e){let e=0;for(let o=0;o<i.length;o++){const t=i[o];x({canisterId:t.token0.address,standard:t.token0.standard}),x({canisterId:t.token1.address,standard:t.token1.standard}),e++,n(e)}}else i&&0===i.length&&o(!0)})()}),[i]),(0,B.jsx)(l.A,{children:e?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Fe,{}),(0,B.jsxs)(r.A,{sx:{margin:"32px 0 0 0",display:"flex",gap:"0 16px","@media(max-width: 980px)":{flexDirection:"column",gap:"16px 0"}},children:[(0,B.jsxs)(r.A,{sx:{flex:1},children:[(0,B.jsx)(c.A,{}),(0,B.jsx)(r.A,{sx:{width:"100%",display:"flex",margin:"5px 0 0 0",justifyContent:"flex-end"},children:(0,B.jsx)(u.QW,{to:"/swap/pcm/reclaim",children:(0,B.jsx)(n.x6,{id:"YmmJ9x"})})})]}),(0,B.jsx)(r.A,{sx:{flex:1,height:"100%"},children:(0,B.jsx)(ye,{})})]})]}):(0,B.jsxs)(u.FO,{children:[(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{}),(0,B.jsx)("div",{})]})})}},99779:(e,o,i)=>{i.d(o,{A:()=>r});var n=i(78470),t=i(37012);const r=(0,n.A)((0,t.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown")},33030:(e,o,i)=>{i.d(o,{A:()=>r});var n=i(78470),t=i(37012);const r=(0,n.A)((0,t.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp")},60667:(e,o,i)=>{i.d(o,{A:()=>r});var n=i(78470),t=i(37012);const r=(0,n.A)((0,t.jsx)("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"}),"SyncAlt")},63473:(e,o,i)=>{function n(e){if(!e)return{};const o=e.amount0.currency,i=e.amount1.currency;return e.token0PriceUpper.lessThan(1)?{priceLower:e.token0PriceUpper.invert(),priceUpper:e.token0PriceLower.invert(),quote:o,base:i}:{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:i,base:o}}i.d(o,{s:()=>n})},50284:(e,o,i)=>{function n(e){let{priceLower:o,priceUpper:i,quote:n,base:t,invert:r}=e;return{priceUpper:r?null===o||void 0===o?void 0:o.invert():i,priceLower:r?null===i||void 0===i?void 0:i.invert():o,quote:r?t:n,base:r?n:t}}i.d(o,{h:()=>n})}}]);
//# sourceMappingURL=8080.4cbde2cb.chunk.js.map