(self.webpackChunkmerkado=self.webpackChunkmerkado||[]).push([[266],{18910:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>F});var i=t(3481),s=t(54711),l=t(72296),r=t(27312),a=t(40853),o=t(7745),d=t(52634),c=t(60479),x=t(56577),p=t(80091),u=t(28955),h=t(7726),m=t(31119),j=t(97260),f=t(55484),A=t(2281),g=t(62474),v=t(37012);function y(){return(0,v.jsx)(d.A,{sx:{color:"#4fdb9a"},component:"span",children:"*"})}var C=t(66052),b=t(12585),S=t(39308),I=t(49002),w=t(86100),k=t(27895),R=t(84076),N=t(61361),z=t(52593),G=t(3871);let P=0;function F(){var e,n,t,F;const B=(0,r.W6)(),L=(0,u.F7)(),[T,_]=(0,l.useState)({}),[W]=(0,f.cO)(),[Q,D]=(0,l.useState)(null),[O,U]=(0,l.useState)(""),V=(0,l.useRef)(null),[E,q]=(0,l.useState)(!1),{canister:H}=(0,z.e)(),{result:M}=(0,j.Q9)(T.nftCanister);(0,l.useEffect)((()=>{H&&_({...T,nftCanister:H})}),[H]);const X=(e,n)=>{let t=e;"fee"===n&&new k.A(t).isGreaterThan(100)&&(t="100"),_({...T,[n]:t})},K=(0,j.nG)(),{result:Y}=(0,j.K1)(L,0,100),{content:J}=null!==Y&&void 0!==Y?Y:{content:[]};let Z="";return E||(Z=s.Ru._({id:"71XIWG"})),O&&(Z=s.Ru._({id:"8pCOBS"})),Q||(Z=s.Ru._({id:"5SRIOc"})),T.name||(Z=s.Ru._({id:"LnUcnD"})),T.nftCanister||(Z=s.Ru._({id:"3+Uj6C"})),(0,v.jsxs)(G.C,{children:[(0,v.jsx)(h.BI,{prevLink:"/console",prevLabel:(0,v.jsx)(i.x6,{id:"cFTdM+"}),currentLabel:(0,v.jsx)(i.x6,{id:"MHyhAs"})}),(0,v.jsx)(h.Am,{sx:{margin:"16px 0 0 0"},children:(0,v.jsx)(a.Ay,{container:!0,justifyContent:"center",children:(0,v.jsxs)(o.A,{sx:{maxWidth:"474px",margin:"28px 0 0 0"},children:[(0,v.jsx)(d.A,{sx:{fontSize:"20px",fontWeight:700,color:"text.primary"},children:(0,v.jsx)(i.x6,{id:"MHyhAs"})}),(0,v.jsxs)(a.Ay,{mt:"32px",container:!0,sx:{display:"grid",gap:"20px 0",gridTemplateColumns:"1fr",gridAutoFlow:"row"},children:[(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"fc6LLr"}),required:!0,select:!0,placeholder:"Select the NFT canister",helperText:null!==(e=T.nftCanister)&&void 0!==e?e:"",value:null===(n=J.filter((e=>e.cid===T.nftCanister))[0])||void 0===n?void 0:n.name,onChange:e=>X(e,"nftCanister"),menus:J.map((e=>({value:e.cid,label:e.name}))),CustomNoData:(0,v.jsxs)(a.Ay,{container:!0,alignItems:"center",flexDirection:"column",sx:{paddingBottom:"20px"},children:[(0,v.jsx)(h.YQ,{}),(0,v.jsx)(h.QW,{to:"/console/nft/canister/create",children:(0,v.jsx)(i.x6,{id:"OWe2O2"})})]})})})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"Er+ntZ"}),required:!0,placeholder:"Enter the NFT name",onChange:e=>X(e,"name"),InputProps:{inputProps:{maxLength:200}}})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsxs)(o.A,{children:[(0,v.jsxs)(a.Ay,{container:!0,alignItems:"center",children:[(0,v.jsxs)(a.Ay,{item:!0,xs:!0,children:[(0,v.jsx)(y,{}),(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"bwSQI0"})})]}),(0,v.jsxs)(d.A,{component:"span",fontSize:"14px",color:"text.primary",children:[(0,v.jsx)(i.x6,{id:"wDGJ66"}),"\xa0",new k.A(null!==M&&void 0!==M&&M.totalSupply?String(null===M||void 0===M?void 0:M.totalSupply):0).minus(null!==M&&void 0!==M&&M.mintSupply?String(null===M||void 0===M?void 0:M.mintSupply):0).toFormat()]})]}),(0,v.jsx)(o.A,{mt:2,children:(0,v.jsx)(h.GV,{placeholder:s.Ru._({id:"IHwQ6q"}),onChange:e=>X(e,"supply"),value:null!==(t=T.supply)&&void 0!==t?t:1,InputProps:{inputComponent:h.et,inputProps:{thousandSeparator:!0,decimalScale:0,allowNegative:!1,format:e=>new k.A(e).isGreaterThan(A.Rt)?String(A.Rt):e}}})})]})}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(h.GV,{label:(0,v.jsx)(i.x6,{id:"Nu4oKW"}),placeholder:s.Ru._({id:"GU8uQ3"}),multiline:!0,rows:5,maxRows:5,onChange:e=>X(e,"desc"),InputProps:{inputProps:{maxLength:500}}})})}),(0,v.jsxs)(o.A,{className:"grid-box",children:[(0,v.jsxs)(a.Ay,{container:!0,children:[(0,v.jsx)(a.Ay,{item:!0,xs:!0,children:(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"6GBt0m"})})}),(0,v.jsx)(a.Ay,{item:!0,children:(0,v.jsxs)(a.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{width:"72px",height:"31px",border:"1px solid #4F5A84",borderRadius:"8px",cursor:"pointer"},onClick:()=>{var e;_({...T,metadata:[...null!==(e=T.metadata)&&void 0!==e?e:[],{label:"",value:"",key:++P}]})},children:[(0,v.jsx)(S.A,{fontSize:"small"}),(0,v.jsx)(d.A,{color:"text.primary",children:(0,v.jsx)(i.x6,{id:"m16xKo"})})]})})]}),(0,v.jsx)(o.A,{mt:2,children:(null!==(F=T.metadata)&&void 0!==F?F:[]).map(((e,n)=>(0,v.jsxs)(a.Ay,{container:!0,sx:{marginBottom:"10px","&:last-child":{marginBottom:"0px"}},children:[(0,v.jsx)(o.A,{mr:"10px",sx:{width:"145px"},children:(0,v.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"DiG8BI"}),InputProps:{disableUnderline:!0,inputProps:{maxLength:100}},onChange:e=>((e,n)=>{var t;const i=[...null!==(t=T.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],label:e}),_({...T,metadata:i})})(e,n)})}),(0,v.jsx)(a.Ay,{item:!0,xs:!0,children:(0,v.jsx)(h.GV,{fullWidth:!0,placeholder:s.Ru._({id:"qRDDhy"}),onChange:e=>((e,n)=>{var t;const i=[...null!==(t=T.metadata)&&void 0!==t?t:[]];i[n]&&i.splice(n,1,{...i[n],value:e}),_({...T,metadata:i})})(e,n),InputProps:{disableUnderline:!0,inputProps:{maxLength:100},endAdornment:(0,v.jsx)(c.A,{position:"end",children:(0,v.jsx)(I.A,{sx:{color:"#111936",fontSize:"20px",cursor:"pointer"},onClick:()=>(e=>{var n;const t=[...null!==(n=T.metadata)&&void 0!==n?n:[]];t[e]&&t.splice(e,1),_({...T,metadata:t})})(n)})})}})})]},"".concat(e.key))))})]}),(0,v.jsx)(o.A,{className:"grid-box",children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.A,{children:[(0,v.jsx)(y,{}),(0,v.jsx)(d.A,{component:"span",fontSize:"16px",color:"text.secondary",children:(0,v.jsx)(i.x6,{id:"6NPnp4"})})]}),(0,v.jsx)(o.A,{mt:2,children:(0,v.jsxs)(o.A,{sx:{height:"180px"},children:[(0,v.jsx)(m.A,{ref:V,maxSize:204800,types:A.VE,accept:".jpeg, .png, .jpg, .gif, .apng, .pdf, .txt, .json, .ppt, .pptx, .xls, .xlsx, .docx, .doc",placeholder:"Upload your file",beforeUpload:()=>!!T.nftCanister||(W("Select NFT Canister First",f.XI),!1),canisterId:T.nftCanister,uploadImmediately:!1,onFileSelected:e=>{D(e)},onFileError:e=>{U(e)}}),(0,v.jsx)(d.A,{sx:{marginTop:"5px"},children:(0,v.jsx)(i.x6,{id:"zBpfj0"})})]})})]})})]}),(0,v.jsxs)(o.A,{mt:8,children:[(0,v.jsx)(g.A,{onSubmit:async(e,n)=>{var t,i,l,r,a,o;let{loading:d,closeLoading:c}=n;if(d)return;const{filePath:x,fileType:p}=null!==(t=await(null===(i=V.current)||void 0===i?void 0:i.uploadCb()))&&void 0!==t?t:{};if(!x)return void c();const{status:u,message:h,data:m}=await K(T.nftCanister,e,{nftType:null!==(l=T.series)&&void 0!==l?l:"",fileType:null!==p&&void 0!==p?p:"",artistName:"",introduction:null!==(r=T.desc)&&void 0!==r?r:"",royalties:BigInt(0),name:T.name,link:null!==(a=T.link)&&void 0!==a?a:"",image:x,filePath:x,owner:{address:L},attributes:[{k:"",v:""}],count:T.supply?BigInt(new k.A(T.supply).toString()):BigInt(1),metadata:[[...(0,w.Yp)(JSON.stringify((null!==(o=T.metadata)&&void 0!==o?o:[]).reduce(((e,n)=>n.label&&n.value?[...e,{label:n.label,value:n.value}]:[]),[])))]]});var j;(c(),"err"===u)?W(null!==(j=(0,R.If)(h))&&void 0!==j?j:s.Ru._({id:"FHz+63"}),f.XI):B.push("/wallet/nft/view/".concat(T.nftCanister,"/").concat(Number(m)))},fullScreenLoading:!0,children:e=>{let{submit:n,loading:t}=e;return(0,v.jsx)(N.A,{variant:"contained",fullWidth:!0,size:"large",onClick:n,disabled:Boolean(Z)||t,startIcon:t?(0,v.jsx)(x.A,{size:24,color:"inherit"}):null,children:Z||s.Ru._({id:"5IrCQY"})})}}),(0,v.jsxs)(a.Ay,{container:!0,mt:"20px",children:[(0,v.jsx)(o.A,{sx:{marginRight:"8px"},children:(0,v.jsx)(p.A,{checked:E,sx:{padding:"0"},icon:(0,v.jsx)(C.A,{sx:{fontSize:"20px"}}),checkedIcon:(0,v.jsx)(b.A,{sx:{fontSize:"20px"}}),onChange:()=>q(!E)})}),(0,v.jsx)(a.Ay,{item:!0,xs:!0,children:(0,v.jsx)(d.A,{sx:{cursor:"pointer"},onClick:()=>q(!E),children:(0,v.jsx)(i.x6,{id:"8Xrlk3"})})})]})]})]})})})]})}},52593:(e,n,t)=>{"use strict";t.d(n,{e:()=>r});var i=t(99420),s=t(72296),l=t(27312);function r(){const{search:e}=(0,l.zy)();return(0,s.useMemo)((()=>function(e){let n=null!==e&&void 0!==e?e:"";if(!e){const{hash:e}=window.location;n=e.substr(e.indexOf("?"))}return n&&n.length>1?(0,i.parse)(n,{parseArrays:!1,ignoreQueryPrefix:!0}):{}}(e)),[e])}},76153:()=>{}}]);
//# sourceMappingURL=266.8a61434d.chunk.js.map