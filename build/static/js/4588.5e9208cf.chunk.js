(self.webpackChunkmerkado=self.webpackChunkmerkado||[]).push([[4588],{94588:(e,t,n)=>{"use strict";n.d(t,{b:()=>xe,A:()=>ue});var i=n(54711),r=n(72296),a=n(66684),l=n(51409),s=n(7745),o=n(40853),d=n(52634),c=n(95171),x=n(60479),p=n(40682),u=n(9064),h=n(46943);const m=(0,n(84648).A)({breakpoints:{values:{md:960,md1:1400,1120:1120}}}).breakpoints;var g=n(92304),j=n.n(g),A=n(31877),f=n(52593),v=n(3481),y=n(29650),b=n(56577),k=n(69770),w=n(27312),C=n(2281),S=n(29804),N=n(85066),T=n(12852),I=n(23427),R=n(4861),E=n(3232),z=n(70202),F=n(37012);const W="#2F3C6D",G=(0,p.A)((e=>({imgBox:{width:"100%",height:0,paddingTop:"100%",overflow:"hidden","& img":{width:"auto",height:"auto",maxHeight:"100%",maxWidth:"100%"}},logo:{"& img":{width:"40px",height:"40px"},marginTop:"-20px"},description:{height:"40px",marginTop:"10px",lineHeight:"20px",...e.mixins.overflowEllipsis2,"-webkit-line-clamp":2}})));function P(e){let{order:t}=e;const n=G(),i=(0,w.W6)(),a=(0,T.F7)(),l=(0,k.A)(),[c,x]=(0,r.useState)(!1),p=()=>{i.push("/marketplace/NFT/view/".concat(t.nftCid,"/").concat(String(t.tokenIndex)))},u="dark"===l.customization.mode,h=(null===t||void 0===t?void 0:t.seller)===a,m=(0,E.f)(t.nftCid,t.tokenIndex);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(s.A,{sx:{borderRadius:"12px",cursor:"pointer",background:u?"#273051":"#f5f5f5"},children:[(0,F.jsx)(s.A,{className:n.imgBox,onClick:p,children:(0,F.jsx)(s.A,{sx:{padding:"12px",marginTop:"-100%"},children:(0,F.jsx)(s.A,{sx:{background:l.palette.background.level3,borderRadius:"8px"},children:(0,F.jsx)(z.A,{metadata:m})})})}),(0,F.jsxs)(s.A,{sx:{padding:"0 12px 24px 12px"},children:[(0,F.jsx)(d.A,{color:"text.primary",fontWeight:"600",sx:{...l.mixins.overflowEllipsis},children:null===t||void 0===t?void 0:t.name}),(0,F.jsx)(s.A,{mt:"16px",children:(0,F.jsxs)(o.Ay,{container:!0,alignItems:"center",children:[(0,F.jsxs)(d.A,{children:["#",Number(null===t||void 0===t?void 0:t.tokenIndex)]}),(0,F.jsx)(o.Ay,{item:!0,xs:!0,children:(0,F.jsx)(R.A,{minter:t.minter,justifyContent:"flex-end"})})]})}),(0,F.jsx)(s.A,{mt:"14px",mb:"20px",sx:{height:"0.5px",background:W}}),(0,F.jsxs)(o.Ay,{container:!0,alignItems:"center",children:[(0,F.jsx)(o.Ay,{item:!0,xs:!0,children:(0,F.jsx)(o.Ay,{container:!0,alignItems:"center",onClick:p,children:(0,F.jsx)(o.Ay,{item:!0,children:(0,F.jsxs)(o.Ay,{container:!0,alignItems:"center",children:[(0,F.jsx)("img",{width:"14px",height:"14px",src:S.A,alt:""}),(0,F.jsx)(o.Ay,{item:!0,ml:"3px",children:(0,F.jsx)(d.A,{color:"text.primary",fontWeight:"700",fontSize:"14px",component:"span",children:(0,N.t)(null===t||void 0===t?void 0:t.price,C.Dj.decimals).toFormat()})})]})})})}),!h&&(0,F.jsx)(y.A,{variant:"contained",onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),x(!0)},sx:{height:"28px",borderRadius:"4px"},children:(0,F.jsx)(v.x6,{id:"qiOIiY"})})]})]})]}),(0,F.jsx)(I.A,{open:c,onClose:()=>x(!1),order:t,onTradeSuccess:()=>{x(!1),i.push("/marketplace/NFT/view/".concat(t.nftCid,"/").concat(String(t.tokenIndex)))}})]})}var _=n(83024),D=n(84285),M=n(3334),B=n(67982),H=n(62916);const O=(0,p.A)((()=>({collectionContainer:{position:"relative",display:"grid",gridGap:"10px 20px",gridTemplateColumns:"1fr 1fr 1fr",width:"fit-content","@media (max-width:479px)":{position:"static",right:"0",gridGap:"20px 10px",gridTemplateColumns:"1fr",width:"auto"},"@media (min-width:480px) and (max-width:719px)":{position:"static",right:"0",gridGap:"20px 10px",gridTemplateColumns:"1fr 1fr",width:"auto"},"@media (min-width:720px) and (max-width:960px)":{position:"static",right:"0",gridGap:"20px 10px",gridTemplateColumns:"1fr 1fr 1fr",width:"auto"},"@media (min-width:961px) and (max-width:1240px)":{position:"static",right:"0",gridGap:"20px 10px",gridTemplateColumns:"1fr 1fr 1fr 1fr",width:"auto"},"@media (min-width:1241px) ":{position:"static",right:"0",gridGap:"20px 10px",gridTemplateColumns:"repeat(6, 1fr)",width:"auto"}}})));let U=1;var Y=n(89405),q=n(87148),J=n(38121),Q=n(36999),L=n(7836),V=n(69411),K=n(79264),X=n(53922),$=n(72794),Z=n(88592),ee=n(15112),te=n(94570),ne=n.n(te),ie=n(42906),re=n(18507),ae=n(55484),le=n(11149),se=n.n(le);const oe=e=>{let{saleRecord:t,type:n}=e;const[r]=(0,ae.I5)(),[a]=(0,ae.dX)(),[l,s,c]=(0,ae.dx)(),x="complete"!==t.txStatus&&"cancel"!==t.txStatus;return(0,F.jsxs)(q.A,{children:[(0,F.jsx)(J.A,{children:(0,F.jsx)(d.A,{children:ne()((0,X.yG)(t.time)).format("YYYY-MM-DD HH:mm:ss")})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(o.Ay,{container:!0,children:(0,F.jsx)(d.A,{children:t.name})})}),(0,F.jsx)(J.A,{children:(0,F.jsxs)(o.Ay,{container:!0,alignItems:"center",children:["image"===t.fileType?(0,F.jsx)("img",{style:{maxWidth:"24px",maxHeight:"24px",marginRight:"5px"},src:t.filePath,alt:""}):null,(0,F.jsx)(Y.N_,{to:"/marketplace/NFT/view/".concat(t.nftCid,"/").concat(String(t.tokenIndex)),children:(0,F.jsxs)(d.A,{color:"secondary",children:["#",String(t.tokenIndex)]})})]})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(re.A,{content:t.hash,children:(0,F.jsx)(d.A,{children:(0,$.m)(t.hash,6)})})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(re.A,{content:t.seller,children:(0,F.jsx)(d.A,{children:(0,$.m)(t.seller,6)})})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(re.A,{content:t.buyer,children:(0,F.jsx)(d.A,{children:(0,$.m)(t.buyer,6)})})}),(0,F.jsx)(J.A,{children:(0,F.jsxs)(d.A,{children:[(0,N.t)(t.price,C.Dj.decimals).toFormat()," ",C.Dj.symbol]})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(d.A,{children:se()("complete"===t.txStatus?"done":t.txStatus)})}),"User"===n?(0,F.jsx)(J.A,{children:x?(0,F.jsx)(u.QW,{onClick:async()=>{l();const{message:e,status:n}=await(0,_.LM)(t.hash);n===ee.i.OK?r(i.Ru._({id:"zRvu6X"})):a(e),s()},disabled:c,children:"CheckPayment"}):null}):null]})};function de(e){let{handlePageChange:t,loading:n,totalElements:i,content:r,pagination:a,type:l}=e;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(Q.A,{className:n?"with-loading":"",children:[(0,F.jsxs)(L.A,{children:[(0,F.jsx)(V.A,{children:(0,F.jsxs)(q.A,{children:[(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"LhMjLm"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"Er+ntZ"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"qnxOZn"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"S3piC2"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"15vuM/"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"KRmHSO"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"a7u1N9"})}),(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"uAQUqI"})}),"User"===l?(0,F.jsx)(J.A,{children:(0,F.jsx)(v.x6,{id:"bwRvnp"})}):null]})}),(0,F.jsx)(K.A,{children:r.map((e=>(0,F.jsx)(oe,{saleRecord:e,type:l},e.hash)))})]}),0!==r.length||n?null:(0,F.jsx)(D.A,{}),(0,F.jsx)(ie.A,{loading:n}),Number(i)>0?(0,F.jsx)(Z.A,{count:Number(i),onPageChange:t,defaultPageSize:a.pageSize}):null]})})}const ce=(0,p.A)((()=>({toolbarWrapper:{display:"grid",gridGap:"0 20px"},toolbar2:{gridArea:"1 / 1 / auto / auto"},toolbar3:{gridArea:"1 / 2 / auto / auto"},[m.down("1120")]:{toolbarWrapper:{gridGap:"10px 0"},toolbar2:{gridArea:"1 / 1 / auto / auto"},toolbar3:{gridArea:"2 / 1 / auto / auto"}}}))),xe=[{label:i.Ru._({id:"Ldu/RI"}),key:"on-sale",path:"/marketplace/NFT",component:function(e){let{searchValue:t,sortBy:n,canisterId:i}=e;const a=O(),l=(0,k.A)(),[c,x]=(0,r.useState)([]),[p,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[g,j]=(0,r.useState)(BigInt(0)),A=(0,M.O)(t);return(0,r.useEffect)((()=>{const[e]=(0,B.g)(1,24);(async()=>{u(!0),U=1;const r=await(0,_.UG)(i,A?null:t,A?t:null,null,e,24,n?n.split("-")[0]:"",!(null!==n&&void 0!==n&&n.split("-")[1])),{totalElements:a,content:l}=null!==r&&void 0!==r?r:{totalElements:BigInt(0),content:[]};x(l),j(a),u(!1)})()}),[n,t,i]),(0,F.jsxs)(s.A,{sx:{position:"relative",minHeight:"300px"},children:[(0,F.jsx)(s.A,{className:a.collectionContainer,children:c.map(((e,t)=>(0,F.jsx)(s.A,{sx:{overflow:"hidden"},children:(0,F.jsx)(P,{order:e})},"".concat(String(e.tokenIndex),"-").concat(t,"-").concat(e.hash))))}),c&&0===c.length&&!p?(0,F.jsx)(D.A,{}):null,Number(g)>24&&c.length>0&&c.length!==Number(g)?(0,F.jsx)(o.Ay,{container:!0,justifyContent:"center",mt:"40px",children:(0,F.jsxs)(y.A,{variant:"outlined",size:"large",sx:{"&.MuiButton-outlined.MuiButton-outlinedPrimary":{color:l.palette.text.secondary,borderColor:l.palette.text.secondary,height:"42px",minWidth:"132px"}},onClick:async()=>{if(p||h)return;m(!0),U++;const[e]=(0,B.g)(U,24),r=await(0,_.UG)(i,A?null:t,A?t:null,null,e,24,n?n.split("-")[0]:"",!(null!==n&&void 0!==n&&n.split("-")[1])),{content:a}=null!==r&&void 0!==r?r:{totalElements:0,content:[]};m(!1),x([...c,...a])},children:[h?(0,F.jsx)(b.A,{size:18,color:"inherit",sx:{margin:"0 4px 0 0"}}):null,(0,F.jsx)(d.A,{fontWeight:600,children:(0,F.jsx)(v.x6,{id:"eqDEQ1"})})]})}):null,p?(0,F.jsx)(s.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,F.jsx)(H.A,{loading:p,mask:!0})}):null]})}},{label:i.Ru._({id:"XJOV1Y"}),key:"sales",path:"/marketplace/NFT/sales",component:function(e){let{canisterId:t}=e;const[n,i]=(0,r.useState)({pageNum:1,pageSize:10}),[a]=(0,B.g)(n.pageNum,n.pageSize),{loading:l,result:s}=(0,_.cY)(t,null,null,a,n.pageSize,"time",!0),{totalElements:o,content:d}=null!==s&&void 0!==s?s:{totalElements:0,content:[]},c=(0,r.useCallback)((e=>{i(e)}),[i]);return(0,F.jsx)(de,{pagination:n,handlePageChange:c,content:d,loading:l,totalElements:o})}},{label:i.Ru._({id:"IqzHJK"}),key:"your-sales",path:"/marketplace/NFT/sales/user",component:function(e){let{canisterId:t}=e;const n=(0,T.F7)(),[i,a]=(0,r.useState)({pageNum:1,pageSize:10}),[l]=(0,B.g)(i.pageNum,i.pageSize),{loading:s,result:o}=(0,_.De)(n,t,null,l,i.pageSize,"time",!0),{totalElements:d,content:c}=null!==o&&void 0!==o?o:{totalElements:0,content:[]},x=(0,r.useCallback)((e=>{a(e)}),[a]);return(0,F.jsx)(de,{pagination:i,handlePageChange:x,content:c,loading:s,totalElements:d,type:"User"})}}],pe=[{label:i.Ru._({id:"ONQrC1"}),value:"time"},{label:i.Ru._({id:"e/AeCs"}),value:"price"},{label:i.Ru._({id:"kJ2Gsc"}),value:"price-desc"},{label:i.Ru._({id:"zsJUbn"}),value:"time-desc"}];function ue(e){let{children:t,onSearchValueChange:n,onSortByChange:p,onPageChange:g,defaultSortBy:v="time",title:y}=e;const b=ce(),k=(0,a.A)(),w=(0,l.A)(k.breakpoints.down("sm")),C=(0,l.A)(m.down("1120")),[S,N]=(0,r.useState)("time"),[T,I]=(0,r.useState)("/marketplace/NFT");(0,r.useEffect)((()=>{N(v)}),[v,N]);const{canisterId:R}=(0,f.e)(),E="/marketplace/NFT"===T,z=j()((e=>{let{target:{value:t}}=e;n&&n(t)}),800);return(0,F.jsxs)(A.A,{children:[(0,F.jsx)(s.A,{children:y}),(0,F.jsx)(s.A,{mt:R?C?"40px":"97px":C?"40px":"20px",children:(0,F.jsxs)(u.Am,{children:[(0,F.jsxs)(o.Ay,{container:!0,flexDirection:C?"column":"row",children:[(0,F.jsx)(o.Ay,{item:!0,xs:!0,children:(0,F.jsx)(s.A,{sx:{display:"grid",gridGap:"0 40px",gridTemplateColumns:"fit-content(200px) fit-content(200px) fit-content(200px)","& .MuiTypography-root":{cursor:"pointer"}},children:xe.map((e=>(0,F.jsx)(d.A,{variant:w?"h5":"h3",color:T===e.path?"text.primary":"",onClick:()=>(e=>{I(e.path),g(e)})(e),children:e.label},e.key)))})}),(0,F.jsx)(o.Ay,{item:!0,sx:{marginTop:C?"10px":"0"},children:E?(0,F.jsxs)(s.A,{className:b.toolbarWrapper,children:[(0,F.jsx)(s.A,{className:b.toolbar2,children:(0,F.jsx)(c.A,{sx:{width:"320px"},InputProps:{startAdornment:(0,F.jsx)(x.A,{position:"start",children:(0,F.jsx)(h.C0l,{stroke:1.5,size:"1rem"})})},fullWidth:!0,size:"small",placeholder:i.Ru._({id:"I9cJQn"}),onChange:z})}),(0,F.jsx)(s.A,{className:b.toolbar3,children:(0,F.jsx)(s.A,{sx:{height:"40px"},children:(0,F.jsx)(u.GV,{fullHeight:!0,alignCenter:!0,select:!0,placeholder:i.Ru._({id:"m1SiNS"}),required:!0,value:S,onChange:e=>{return N(t=e),void(p&&p(t));var t},menus:pe,maxWidth:200,width:200})})})]}):null})]}),(0,F.jsx)(s.A,{mt:"22px",children:t})]})})]})}},26691:(e,t,n)=>{var i=n(84513),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},84513:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},92304:(e,t,n)=>{var i=n(69132),r=n(52447),a=n(73203),l=Math.max,s=Math.min;e.exports=function(e,t,n){var o,d,c,x,p,u,h=0,m=!1,g=!1,j=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function A(t){var n=o,i=d;return o=d=void 0,h=t,x=e.apply(i,n)}function f(e){var n=e-u;return void 0===u||n>=t||n<0||g&&e-h>=c}function v(){var e=r();if(f(e))return y(e);p=setTimeout(v,function(e){var n=t-(e-u);return g?s(n,c-(e-h)):n}(e))}function y(e){return p=void 0,j&&o?A(e):(o=d=void 0,x)}function b(){var e=r(),n=f(e);if(o=arguments,d=this,u=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(v,t),m?A(e):x}(u);if(g)return clearTimeout(p),p=setTimeout(v,t),A(u)}return void 0===p&&(p=setTimeout(v,t)),x}return t=a(t)||0,i(n)&&(m=!!n.leading,c=(g="maxWait"in n)?l(a(n.maxWait)||0,t):c,j="trailing"in n?!!n.trailing:j),b.cancel=function(){void 0!==p&&clearTimeout(p),h=0,o=u=d=p=void 0},b.flush=function(){return void 0===p?x:y(r())},b}},52447:(e,t,n)=>{var i=n(68222);e.exports=function(){return i.Date.now()}},73203:(e,t,n)=>{var i=n(26691),r=n(69132),a=n(43539),l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||o.test(e)?d(e.slice(2),n?2:8):l.test(e)?NaN:+e}}}]);
//# sourceMappingURL=4588.5e9208cf.chunk.js.map