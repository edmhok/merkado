{"version":3,"file":"static/js/4386.e96d1cdc.chunk.js","mappings":"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","sources":["components/CurrenciesAvatar/index.tsx","components/CurrencyAvatar/index.tsx","components/swap/LiquidityPoolIntro.tsx","components/swap/PoolCard.tsx","components/swap/PositionRangeState.tsx","components/swap/SwapUIWrapper.tsx","constants/misc.ts","hooks/swap/usePositionFees.ts","hooks/swap/v2/usePosition.ts","hooks/swap/v2/usePositionFees.ts","components/swap/v2/CollectFeesModal.tsx","components/swap/v2/PositionItem.tsx","components/swap/HistoryRemoveModal.tsx","components/swap/HistoryPositionItem.tsx","components/swap/HistoryPositions.tsx","views/swap-v2/liquidity/Positions/index.tsx","views/swap-v2/liquidity/PoolList.tsx","views/swap-v2/liquidity/index.tsx","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/KeyboardArrowUp.js","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.20_@emotion+react@11.11.4_@types+react@17.0.2_re_y34dkmz43sjsezmk4faklzfb6e/node_modules/@mui/icons-material/esm/SyncAlt.js","../packages/swap-sdk/src/utils/getPriceOrderingFromPositionForUI.ts","../packages/swap-sdk/src/utils/invert.ts"],"sourcesContent":["import { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrencyAvatar from \"components/CurrencyAvatar\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = makeStyles(() => {\n  return {\n    floatLeft: {\n      float: \"left\",\n    },\n    avatarBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n      \"& .currencyB\": {\n        marginLeft: \"-8px\",\n        float: \"left\",\n      },\n      \"& .currencyA \": {\n        float: \"left\",\n      },\n    },\n  };\n});\n\nexport interface CurrenciesAvatarProps {\n  currencyA: Token | undefined;\n  currencyB: Token | undefined;\n  borderColor: string;\n  bgColor: string;\n  className?: any;\n  size?: string;\n}\n\nexport default function CurrenciesAvatar({\n  currencyA,\n  currencyB,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  size,\n}: CurrenciesAvatarProps) {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.avatarBox}>\n      <CurrencyAvatar\n        className=\"currencyA\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyA}\n        size={size}\n      />\n      <CurrencyAvatar\n        className=\"currencyB\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyB}\n        size={size}\n      />\n    </Box>\n  );\n}\n","import { Avatar } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = ({ borderColor, size }: { borderColor: string; size?: string | undefined }) =>\n  makeStyles(() => {\n    return {\n      avatar: {\n        width: size || \"24px\",\n        height: size || \"24px\",\n        border: `1px solid ${borderColor}`,\n      },\n    };\n  });\n\nexport interface CurrencyAvatarProps {\n  currency: Token | undefined | null;\n  borderColor?: string;\n  bgColor?: string;\n  className?: string;\n  size?: string;\n}\n\nexport default function CurrencyAvatar({\n  currency,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  className,\n  size,\n}: CurrencyAvatarProps) {\n  const classes = useStyles({ borderColor, size })();\n\n  return (\n    <Avatar className={`${classes.avatar} ${className || \"\"}`} sx={{ bgcolor: bgColor }} src={currency?.logo}>\n      &nbsp;\n    </Avatar>\n  );\n}\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Box, Button, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { MainCard } from \"components/index\";\n\nconst useStyle = makeStyles(() => {\n  return {\n    button: {\n      width: \"230px\",\n      height: \"48px\",\n    },\n  };\n});\n\nexport default function LiquidityPoolIntro({ version }: { version?: \"v2\" | \"v3\" }) {\n  const classes = useStyle();\n  const history = useHistory();\n\n  const loadAddLiquidity = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(\"/swap/v2/liquidity/add\");\n    } else {\n      history.push(\"/swap/liquidity/add\");\n    }\n  }, [history]);\n\n  return (\n    <MainCard level={1} sx={{ height: \"244px\" }} className=\"lightGray200\">\n      <Typography variant=\"h3\" align=\"center\" color=\"text.primary\">\n        <Trans>Liquidity Pool</Trans>\n      </Typography>\n      <Box mt={2}>\n        <Typography fontSize={16} align=\"center\">\n          <Trans>\n            80% of the trading fees are rewarded to the liquidity providers, and the remaining 20% of the trading fees\n            are put into the ICS Repurchase-and-Burn Pool.\n          </Trans>\n        </Typography>\n      </Box>\n      <Grid container mt={4} justifyContent=\"center\">\n        <Grid item>\n          <Button className={classes.button} variant=\"contained\" onClick={loadAddLiquidity}>\n            <Trans>Add Liquidity</Trans>\n          </Button>\n        </Grid>\n      </Grid>\n    </MainCard>\n  );\n}\n","import { useCallback } from \"react\";\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { useToken } from \"hooks/useCurrency\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport { useHistory } from \"react-router-dom\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { formatDollarAmount } from \"@w2e/utils\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    topBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n    },\n    floatLeft: {\n      float: \"left\",\n    },\n    listItem: {\n      height: \"140px\",\n      padding: \"18px\",\n      borderRadius: `${theme.radius}px`,\n      cursor: \"pointer\",\n    },\n    poolName: {\n      margin: \"0 8px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n        fontWeight: 700,\n      },\n    },\n    feeAmount: {\n      padding: \"2px 4px\",\n      borderRadius: \"4px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n      },\n    },\n    poolData: {\n      marginTop: \"28px\",\n    },\n  };\n});\n\nexport interface PoolCardProps {\n  token0: string;\n  token1: string;\n  fee: bigint;\n  tvlUSD: string | number;\n  totalVolumeUSD: string | number;\n  version?: \"v2\" | \"v3\";\n  token0Symbol?: string;\n  token1Symbol?: string;\n}\n\nexport default function PoolCard({\n  token0,\n  token1,\n  fee,\n  totalVolumeUSD,\n  tvlUSD,\n  token0Symbol,\n  token1Symbol,\n  version,\n}: PoolCardProps) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [, currency0] = useToken(token0);\n  const [, currency1] = useToken(token1);\n\n  const handlePoolClick = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(`/swap/v2/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    } else {\n      history.push(`/swap/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    }\n  }, [history]);\n\n  return (\n    <Box className={`${classes.listItem} list-item`} onClick={handlePoolClick}>\n      <Box className=\"list-item-color-box\" />\n      <Grid container alignItems=\"center\" className={`${classes.topBox}`}>\n        <CurrenciesAvatar\n          className={classes.floatLeft}\n          currencyA={currency0}\n          currencyB={currency1}\n          borderColor=\"transparent\"\n          bgColor=\"transparent\"\n        />\n        <Box className={`${classes.poolName} ${classes.floatLeft}`}>\n          <Typography>{`${token0Symbol ?? currency0?.symbol ?? \"--\"}/${token1Symbol ?? currency1?.symbol ?? \"--\"\n            }`}</Typography>\n        </Box>\n        <Box className={`${classes.feeAmount} feeAmount ${classes.floatLeft}`}>\n          <Typography>{feeAmountToPercentage(Number(fee))}</Typography>\n        </Box>\n      </Grid>\n      <Grid container className={classes.poolData}>\n        <Grid container flexDirection=\"column\" item xs={6}>\n          <Grid item container justifyContent=\"flex-start\">\n            <Typography className=\"title\">\n              <Trans>TVL</Trans>\n            </Typography>\n          </Grid>\n          <Grid item mt={1} container justifyContent=\"flex-start\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(tvlUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container item xs={6} flexDirection=\"column\" justifyContent=\"flex-end\">\n          <Grid item container justifyContent=\"flex-end\">\n            <Typography className=\"title\">\n              <Trans>Total Volume</Trans>\n            </Typography>\n          </Grid>\n          <Grid mt={1} item container justifyContent=\"flex-end\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(totalVolumeUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { Box, Typography, SvgIcon } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\n\nconst useStyle = makeStyles((theme: Theme) => {\n  return {\n    wrapper: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"24px\",\n      padding: \"0 9px\",\n      borderRadius: \"8px\",\n\n      \"& .MuiTypography-root\": {\n        fontSize: \"12px\",\n        fontWeight: 500,\n      },\n\n      \"&.inRange\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.closed\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.outOfRange\": {\n        background: \"#FFC107\",\n        \"& .MuiTypography-root\": {\n          color: theme.colors.darkLevel1,\n          marginLeft: \"3px\",\n        },\n      },\n    },\n  };\n});\n\nfunction Marker(props: any) {\n  return (\n    <SvgIcon width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" {...props}>\n      <path\n        d=\"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z\"\n        fill={props.color ? props.color : \"#111936\"}\n      />\n    </SvgIcon>\n  );\n}\n\nfunction Closed() {\n  const classes = useStyle();\n\n  return (\n    <Box component=\"span\" className={`${classes.wrapper} closed`}>\n      <Marker fontSize=\"12px\" color=\"#fff\" />\n\n      <Typography color=\"#ffffff\" sx={{ marginLeft: \"3px\" }}>\n        <Trans>Closed</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction OutOfRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} outOfRange`}>\n      <Marker fontSize=\"12px\" />\n\n      <Typography>\n        <Trans>Out of range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction InRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} inRange`}>\n      <Box\n        component=\"span\"\n        sx={{ background: \"#54C081\", width: \"8px\", height: \"8px\", borderRadius: \"50%\", marginRight: \"8px\" }}\n      />\n      <Typography color=\"#ffffff\">\n        <Trans>In range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nexport interface PositionRangeStateProps {\n  outOfRange?: boolean | undefined;\n  closed?: boolean | undefined;\n}\n\nexport default function PositionRangeState({ outOfRange, closed }: PositionRangeStateProps) {\n  return closed ? <Closed /> : outOfRange ? <OutOfRange /> : <InRange />;\n}\n","import { Box, Typography, Grid } from \"@mui/material\";\nimport { t } from \"@lingui/macro\";\nimport { Wrapper, TabPanel } from \"components/index\";\nimport React from \"react\";\n// import { INFO_URL } from \"constants/index\";\n\nfunction LinkIcon() {\n  return (\n    <svg width=\"6\" height=\"7\" viewBox=\"0 0 6 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M4.09619 1.5H0.303301V0.5H5.3033H5.8033V1V6H4.8033V2.20711L0.707107 6.3033L0 5.59619L4.09619 1.5Z\"\n        fill=\"#4F5A84\"\n      />\n    </svg>\n  );\n}\n\ntype Button = {\n  id: number | string;\n  value: React.ReactNode;\n  path?: string;\n  key: string;\n};\n\nfunction SwapWrapper({ children, buttons }: { children: React.ReactNode; buttons: Button[] }) {\n  return (\n    <Wrapper>\n      <TabPanel tabs={buttons} />\n      <Box mt={4}>{children}</Box>\n    </Wrapper>\n  );\n}\n\nexport function SwapV2Wrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 3, value: t`Wrap`, path: \"/swap/v2/wrap\", key: \"/wrap\" },\n    {\n      id: 2,\n      key: \"/swap/v2/liquidity\",\n      value: t`Liquidity V2`,\n      path: \"/swap/v2/liquidity\",\n    },\n    {\n      id: 4,\n      key: \"swap-v3\",\n      value: (\n        <Grid container>\n          <Typography\n            sx={{\n              fontWeight: 600,\n              \"@media (max-width: 640px)\": {\n                fontSize: \"12px\",\n              },\n            }}\n          >\n            Exchange\n          </Typography>\n          <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n            <LinkIcon />\n          </Box>\n        </Grid>\n      ),\n      path: \"/swap\",\n    },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n\nexport default function _SwapWrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 1, value: t`Swap V3`, path: \"/swap\", key: \"/swap\" },\n    {\n      id: 2,\n      key: \"/swap/liquidity\",\n      value: t`Liquidity`,\n      path: \"/swap/liquidity\",\n    },\n    // {\n    //   id: 3,\n    //   key: \"info\",\n    //   value: (\n    //     <Grid container>\n    //       <Typography>Info</Typography>\n    //       <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n    //         <LinkIcon />\n    //       </Box>\n    //     </Grid>\n    //   ),\n    //   link: INFO_URL,\n    // },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n","import { Percent } from \"@w2e/swap-sdk\";\nimport { JSBI } from \"utils/index\";\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\nexport const NetworkContextName = \"NETWORK\";\n\n// 30 minutes, denominated in seconds\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 30;\nexport const L2_DEADLINE_FROM_NOW = 60 * 5;\n\n// used for rewards deadlines\nexport const BIG_INT_SECONDS_IN_WEEK = JSBI.BigInt(60 * 60 * 24 * 7);\n\nexport const BIG_INT_ZERO = JSBI.BigInt(0);\n\n// one basis JSBI.BigInt\nconst BIPS_BASE = JSBI.BigInt(10000);\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), BIPS_BASE);\n\n// used for warning states\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE); // 1%\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE); // 3%\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE); // 5%\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE); // 10%\n// for non expert mode disable swaps above this\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE); // 15%\n\nexport const BETTER_TRADE_LESS_HOPS_THRESHOLD = new Percent(JSBI.BigInt(50), BIPS_BASE);\n\nexport const ZERO_PERCENT = new Percent(\"0\");\nexport const ONE_HUNDRED_PERCENT = new Percent(\"1\");\n\nexport const MaxUint128 = JSBI.subtract(JSBI.exponentiate(JSBI.BigInt(2), JSBI.BigInt(128)), JSBI.BigInt(1));\n","import { useMemo } from \"react\";\nimport { usePositionFee } from \"@w2e/hooks\";\n\nexport function usePositionFees(\n  canisterId: string | undefined,\n  positionId: bigint | undefined,\n  refresh?: number | boolean,\n) {\n  const { result } = usePositionFee(canisterId, positionId, refresh);\n\n  return useMemo(() => {\n    if (!result)\n      return {\n        amount0: undefined,\n        amount1: undefined,\n      };\n\n    return {\n      amount0: result.tokensOwed0,\n      amount1: result.tokensOwed1,\n    };\n  }, [result]);\n}\n","import { Position, Pool } from \"@w2e/swap-sdk\";\nimport { usePool, PoolState, usePoolV1 } from \"hooks/swap/v2/usePools\";\nimport { useToken } from \"hooks/useCurrency\";\nimport { PositionResult, UserPosition } from \"types/swapv2\";\n\nexport function usePositionInfo(positionDetails: PositionResult | UserPosition | undefined | null): {\n  loading: boolean;\n  position: Position | undefined;\n  pool: Pool | undefined;\n} {\n  const [, currency0] = useToken(positionDetails?.token0);\n  const [, currency1] = useToken(positionDetails?.token1);\n\n  const [poolState, pool] = usePool(\n    currency0 ?? undefined,\n    currency1 ?? undefined,\n    positionDetails?.fee ? Number(positionDetails.fee) : undefined,\n  );\n\n  let position: Position | undefined;\n  if (pool && positionDetails) {\n    position = new Position({\n      pool,\n      liquidity: positionDetails.liquidity.toString(),\n      tickLower: Number(positionDetails.tickLower),\n      tickUpper: Number(positionDetails.tickUpper),\n    });\n  }\n\n  return {\n    loading: poolState === PoolState.LOADING,\n    position,\n    pool: pool ?? undefined,\n  };\n}\n\nexport function usePositionInfoV1(positionDetails: PositionResult | UserPosition | undefined | null): {\n  loading: boolean;\n  position: Position | undefined;\n  pool: Pool | undefined;\n} {\n  const [, currency0] = useToken(positionDetails?.token0);\n  const [, currency1] = useToken(positionDetails?.token1);\n\n  const [poolState, pool] = usePoolV1(\n    currency0 ?? undefined,\n    currency1 ?? undefined,\n    positionDetails?.fee ? Number(positionDetails.fee) : undefined,\n  );\n\n  let position: Position | undefined;\n  if (pool && positionDetails) {\n    position = new Position({\n      pool,\n      liquidity: positionDetails.liquidity.toString(),\n      tickLower: Number(positionDetails.tickLower),\n      tickUpper: Number(positionDetails.tickUpper),\n    });\n  }\n\n  return {\n    loading: poolState === PoolState.LOADING,\n    position,\n    pool: pool ?? undefined,\n  };\n}\n","import { useMemo } from \"react\";\nimport { usePositionFeesCall } from \"hooks/swap/v2/useSwapCalls\";\n\nexport function usePositionFees(positionId: bigint | string | number | undefined, invalid: boolean, reload?: boolean) {\n  const { result } = usePositionFeesCall(positionId, invalid, reload);\n\n  return useMemo(() => {\n    if (!result)\n      return {\n        amount0: undefined,\n        amount1: undefined,\n      };\n\n    return {\n      amount0: result.amount0,\n      amount1: result.amount1,\n    };\n  }, [result]);\n}\n","import { Box, Grid, Typography, CircularProgress } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport SwapModal from \"components/modal/swap\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { BigNumber } from \"@w2e/utils\";\nimport { Token, CurrencyAmount } from \"@w2e/swap-sdk\";\nimport Button from \"components/authentication/ButtonConnector\";\nimport { toFormat } from \"utils/index\";\nimport { TokenImage } from \"components/index\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  feeBox: {\n    padding: \"16px 16px\",\n    borderRadius: \"12px\",\n    background: theme.palette.background.level3,\n  },\n}));\n\nexport interface CollectFeeModalProps {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  token0: Token | undefined;\n  token1: Token | undefined;\n  loading: boolean;\n  currencyFeeAmount0: CurrencyAmount<Token> | undefined;\n  currencyFeeAmount1: CurrencyAmount<Token> | undefined;\n}\n\nexport default function CollectFeesModal({\n  open,\n  onClose,\n  onConfirm,\n  token0,\n  token1,\n  loading,\n  currencyFeeAmount0,\n  currencyFeeAmount1,\n}: CollectFeeModalProps) {\n  const classes = useStyles();\n\n  return (\n    <SwapModal open={open} onClose={onClose} title={t`Claim fees`}>\n      <>\n        <Box className={classes.feeBox}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token0?.logo} tokenId={token0?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token0?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount0 ? toFormat(new BigNumber(currencyFeeAmount0.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid container mt={2} alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token1?.logo} tokenId={token1?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token1?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount1 ? toFormat(new BigNumber(currencyFeeAmount1.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n        <Typography mt={1}>\n          <Trans>You can claim the liquidity incentive reward from the transaction according to your position.</Trans>\n        </Typography>\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          fullWidth\n          sx={{ marginTop: \"24px\" }}\n          onClick={onConfirm}\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={24} color=\"inherit\" /> : null}\n        >\n          {loading ? \"\" : t`Claim`}\n        </Button>\n      </>\n    </SwapModal>\n  );\n}\n","import React, { useState, memo, useCallback, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Typography, Grid, Chip, Button, useMediaQuery } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { KeyboardArrowDown, KeyboardArrowUp, SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport Loading from \"components/Loading\";\nimport { useCollectFeesCall } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePositionFees } from \"hooks/swap/v2/usePositionFees\";\nimport { useAccount } from \"store/global/hooks\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { MaxUint128 } from \"constants/misc\";\nimport { numberToString } from \"@w2e/utils\";\nimport BigNumber from \"bignumber.js\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme } from \"utils\";\nimport { useErrorTip, useSuccessTip, useLoadingTip } from \"hooks/useTips\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Identity as TypeIdentity } from \"types/global\";\nimport PositionStatus from \"components/swap/PositionRangeState\";\nimport { getLocaleMessage } from \"locales/services\";\n\nimport CollectFeesModal from \"./CollectFeesModal\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-of-type\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n  },\n}));\n\nexport const DetailItem = memo(\n  ({\n    label,\n    value,\n    convert,\n    onConvertClick,\n  }: {\n    label: React.ReactChild;\n    value: React.ReactChild | undefined;\n    convert?: boolean;\n    onConvertClick?: () => void;\n  }) => {\n    const theme = useTheme() as Theme;\n    const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n    return (\n      <Grid\n        container\n        sx={{\n          height: \"48px\",\n        }}\n        alignItems=\"center\"\n      >\n        <Grid item xs={4}>\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n        </Grid>\n        <Grid item xs={8} container justifyContent=\"flex-end\">\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n          {convert && (\n            <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  },\n);\n\nexport interface PositionDetailsProps {\n  positionId: number | bigint | string | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n}\n\nexport function PositionDetails({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n  const history = useHistory();\n  const account = useAccount();\n  const principal = useAccountPrincipal();\n  const theme = useTheme() as Theme;\n  const [openErrorTip] = useErrorTip();\n  const [openSuccessTip] = useSuccessTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n\n  const [collectFeesShow, setCollectFeesShow] = useState(false);\n  const [reloadPositionFee, setReloadPositionFee] = useState(false);\n\n  const noLiquidity = position?.liquidity.toString() === \"0\";\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const handleLoadRemoveLiquidity = useCallback(() => {\n    if (invalid) {\n      history.push(`/swap/v2/liquidity/decrease/${String(positionId)}?invalid=true`);\n      return;\n    }\n    history.push(`/swap/v2/liquidity/decrease/${String(positionId)}`);\n  }, [history, invalid, positionId]);\n\n  const handleLoadIncreaseLiquidity = useCallback(() => {\n    history.push(`/swap/v2/liquidity/increase/${String(positionId)}`);\n  }, [token0, token1]);\n\n  const handleCollectFee = useCallback(() => {\n    setCollectFeesShow(true);\n  }, [setCollectFeesShow]);\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(positionId, invalid, reloadPositionFee);\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || (!feeAmount0 && BigInt(0) !== feeAmount0)) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(feeAmount0));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || (!feeAmount1 && feeAmount1 !== BigInt(0))) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(feeAmount1));\n  }, [feeAmount1, token1]);\n\n  const collectFeesCall = useCollectFeesCall(invalid);\n\n  const onCollectConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!identity || loading || !principal || !positionId) return;\n\n      setCollectFeesShow(false);\n\n      const loadingTipKey = openLoadingTip(\n        `Claim ${new BigNumber(currencyFeeAmount0?.toExact() ?? 0)\n          .multipliedBy(0.8)\n          .toFixed(8)} ${token0?.symbol} and ${new BigNumber(currencyFeeAmount1?.toExact() ?? 0)\n            .multipliedBy(0.8)\n            .toFixed(8)} ${token1?.symbol}`,\n      );\n\n      const { status, message } = await collectFeesCall(identity, {\n        tokenId: BigInt(positionId),\n        recipient: principal,\n        amount0Max: MaxUint128.toString(),\n        amount1Max: MaxUint128.toString(),\n        internalCall: false,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Claimed successfully`);\n        setReloadPositionFee(!reloadPositionFee);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to claim`);\n      }\n    },\n    [account, setReloadPositionFee, reloadPositionFee, token0, token1, currencyFeeAmount0, currencyFeeAmount1],\n  );\n\n  const hasUnclaimedFees = useMemo(() => {\n    if (Number(feeAmount0) === 0 && Number(feeAmount1) === 0) return false;\n    return true;\n  }, [feeAmount0, feeAmount1]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  let buttonGridXS = 6;\n  if (!noLiquidity && hasUnclaimedFees && !invalid) {\n    buttonGridXS = 4;\n  }\n\n  if (matchDownSM) {\n    buttonGridXS = 12;\n  }\n\n  return (\n    <>\n      <Grid mt={1} className={classes.detailContainer} sx={{ display: show ? \"block\" : \"none\" }}>\n        <DetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n              : position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n              : position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0\n              ? inverted\n                ? pool?.priceOf(token1)\n                  ? `${pool?.priceOf(token1).toSignificant(6)} ${pairName}`\n                  : \"--\"\n                : pool?.priceOf(token0)\n                  ? `${pool?.priceOf(token0).toSignificant(6)} ${pairName}`\n                  : \"--\"\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Price Range`}\n          value={`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} - ${formatTickPrice(\n            priceUpper,\n            tickAtLimit,\n            Bound.UPPER,\n          )} ${pairName}`}\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Unclaimed fees`}\n          value={\n            currencyFeeAmount0 && currencyFeeAmount1\n              ? `${new BigNumber(currencyFeeAmount0.toExact())\n                .multipliedBy(0.8)\n                .toFixed(8)} ${token0?.symbol} and ${new BigNumber(currencyFeeAmount1.toExact())\n                  .multipliedBy(0.8)\n                  .toFixed(8)} ${token1?.symbol}`\n              : \"--\"\n          }\n        />\n        {showButtons && (\n          <Grid\n            container\n            mt={3}\n            justifyContent={noLiquidity || !hasUnclaimedFees ? \"flex-end\" : \"space-between\"}\n            spacing=\"20px\"\n            flexDirection={matchDownSM ? \"column\" : \"row\"}\n          >\n            {!noLiquidity && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleLoadRemoveLiquidity}>\n                  <Trans>Remove Liquidity</Trans>\n                </Button>\n              </Grid>\n            )}\n            {hasUnclaimedFees && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleCollectFee}>\n                  <Trans>Claim fees</Trans>\n                </Button>\n              </Grid>\n            )}\n            {!invalid ? (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"contained\" size=\"large\" onClick={handleLoadIncreaseLiquidity}>\n                  <Trans>Increase Liquidity</Trans>\n                </Button>\n              </Grid>\n            ) : null}\n          </Grid>\n        )}\n      </Grid>\n\n      <Identity onSubmit={onCollectConfirm}>\n        {({ submit, loading }: CallbackProps) => (\n          <CollectFeesModal\n            open={collectFeesShow}\n            token0={token0}\n            token1={token1}\n            currencyFeeAmount0={currencyFeeAmount0}\n            currencyFeeAmount1={currencyFeeAmount1}\n            onClose={() => setCollectFeesShow(false)}\n            onConfirm={submit}\n            loading={loading}\n          />\n        )}\n      </Identity>\n    </>\n  );\n}\n\nexport interface PositionItemProps {\n  positionId: number | bigint | string | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n}\n\nexport default function PositionItem({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n}: PositionItemProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const [detailShow, setDetailShow] = useState<boolean | undefined>(undefined);\n\n  const handleToggleShow = useCallback(() => {\n    if (!position) return;\n    setDetailShow(!detailShow);\n  }, [detailShow, setDetailShow, position]);\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  return (\n    <>\n      <Grid className={classes.positionContainer} container alignItems=\"center\" onClick={handleToggleShow}>\n        {!position && <Loading loading={!position} circularSize={28} />}\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#273155\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid container alignItems=\"center\">\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n            <Grid item ml={matchDownMD ? \"5px\" : \"10px\"}>\n              <Grid container alignItems=\"center\">\n                {detailShow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {typeof detailShow !== \"boolean\" ? null : (\n        <PositionDetails\n          position={position}\n          positionId={positionId}\n          invalid={invalid}\n          showButtons={showButtons}\n          manuallyInverted={manuallyInverted}\n          setManuallyInverted={setManuallyInverted}\n          show={detailShow}\n        />\n      )}\n    </>\n  );\n}\n","import { memo } from \"react\";\nimport { Box, Typography, Grid, Button } from \"@mui/material\";\nimport SwapModal from \"components/modal/swap\";\nimport { BURN_FIELD } from \"constants/swap\";\nimport { Trans } from \"@lingui/macro\";\nimport { Token } from \"@w2e/swap-sdk\";\nimport { TokenImage } from \"components/index\";\n\nexport default memo(\n  ({\n    open,\n    onCancel,\n    onConfirm,\n    formattedAmounts,\n    currencyA,\n    currencyB,\n  }: {\n    open: boolean;\n    onCancel: () => void;\n    onConfirm: () => void;\n    currencyA: Token | undefined;\n    currencyB: Token | undefined;\n    formattedAmounts: { [key in BURN_FIELD]?: string };\n  }) => {\n    return (\n      <SwapModal open={open} onClose={onCancel} title=\"Remove Liquidity\">\n        <>\n          <Box mt={1}>\n            <Grid container mt={1} alignItems=\"center\">\n              <Grid item xs container alignItems=\"center\">\n                <Grid item mr={1}>\n                  <TokenImage tokenId={currencyA?.wrapped.address} logo={currencyA?.wrapped.logo} />\n                </Grid>\n                <Grid item>\n                  <Typography>{currencyA?.symbol}</Typography>\n                </Grid>\n              </Grid>\n              <Grid item xs>\n                <Typography align=\"right\">{formattedAmounts[BURN_FIELD.CURRENCY_A] ?? 0}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container mt={2} alignItems=\"center\">\n              <Grid item xs container alignItems=\"center\">\n                <Grid item mr={1}>\n                  <TokenImage tokenId={currencyB?.wrapped.address} logo={currencyB?.wrapped.logo} />\n                </Grid>\n                <Grid item>\n                  <Typography>{currencyB?.symbol}</Typography>\n                </Grid>\n              </Grid>\n              <Grid item xs>\n                <Typography align=\"right\">{formattedAmounts[BURN_FIELD.CURRENCY_B] ?? 0}</Typography>\n              </Grid>\n            </Grid>\n          </Box>\n          <Button variant=\"contained\" size=\"large\" fullWidth sx={{ marginTop: \"40px\" }} onClick={onConfirm}>\n            <Trans>Remove</Trans>\n          </Button>\n        </>\n      </SwapModal>\n    );\n  },\n);\n","import React, { useState, memo, useCallback, useMemo } from \"react\";\nimport { Typography, Grid, Chip, Button, useMediaQuery } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { KeyboardArrowDown, KeyboardArrowUp, SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound, BURN_FIELD, slippageToPercent } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport Loading from \"components/Loading\";\nimport { useCollectFeesCall, decreaseV1Liquidity } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePositionFees } from \"hooks/swap/usePositionFees\";\nimport { useAccount } from \"store/global/hooks\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { MaxUint128 } from \"constants/misc\";\nimport { numberToString } from \"@w2e/utils\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme } from \"utils\";\nimport { useErrorTip, useSuccessTip, useLoadingTip } from \"hooks/useTips\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Identity as TypeIdentity } from \"types/global\";\nimport { getLocaleMessage } from \"locales/services\";\nimport { useSlippageManager, useUserTransactionsDeadline } from \"store/swap/cache/hooks\";\nimport ConfirmRemoveLiquidityModal from \"./HistoryRemoveModal\";\nimport PositionStatus from \"./PositionRangeState\";\n\nimport CollectFeesModal from \"./v2/CollectFeesModal\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-child\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n  },\n}));\n\nexport const DetailItem = memo(\n  ({\n    label,\n    value,\n    convert,\n    onConvertClick,\n  }: {\n    label: React.ReactChild;\n    value: React.ReactChild | undefined;\n    convert?: boolean;\n    onConvertClick?: () => void;\n  }) => {\n    const theme = useTheme() as Theme;\n    const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n    return (\n      <Grid\n        container\n        sx={{\n          height: \"48px\",\n        }}\n        alignItems=\"center\"\n      >\n        <Grid item xs={4}>\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n        </Grid>\n        <Grid item xs={8} container justifyContent=\"flex-end\">\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n          {convert && (\n            <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  },\n);\n\nexport interface PositionDetailsProps {\n  positionId: bigint | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n}\n\nexport function PositionDetails({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n  const account = useAccount();\n  const principal = useAccountPrincipal();\n  const theme = useTheme() as Theme;\n  const [openErrorTip] = useErrorTip();\n  const [openSuccessTip] = useSuccessTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n\n  const [collectFeesShow, setCollectFeesShow] = useState(false);\n  const [reloadPositionFee, setReloadPositionFee] = useState(false);\n\n  const noLiquidity = position?.liquidity.toString() === \"0\";\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const [slippageTolerance] = useSlippageManager(\"burn\");\n  const transactionsDeadline = useUserTransactionsDeadline();\n\n  const handleCollectFee = useCallback(() => {\n    setCollectFeesShow(true);\n  }, [setCollectFeesShow]);\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(\n    position?.pool.id,\n    positionId,\n    reloadPositionFee,\n  );\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || !feeAmount0) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(feeAmount0));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || !feeAmount1) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(feeAmount1));\n  }, [feeAmount1, token1]);\n\n  const collectFeesCall = useCollectFeesCall(invalid);\n\n  const onCollectConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!identity || loading || !principal || !positionId) return;\n\n      setCollectFeesShow(false);\n\n      const loadingTipKey = openLoadingTip(\n        `Claim ${currencyFeeAmount0?.toSignificant(6)} ${token0?.symbol} and ${currencyFeeAmount1?.toSignificant(\n          6,\n        )} ${token1?.symbol}`,\n      );\n\n      const { status, message } = await collectFeesCall(identity, {\n        tokenId: BigInt(positionId),\n        recipient: principal,\n        amount0Max: MaxUint128.toString(),\n        amount1Max: MaxUint128.toString(),\n        internalCall: false,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Claimed successfully`);\n        setReloadPositionFee(!reloadPositionFee);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to claim`);\n      }\n    },\n    [account, setReloadPositionFee, reloadPositionFee, token0, token1, currencyFeeAmount0, currencyFeeAmount1],\n  );\n\n  const hasUnclaimedFees = useMemo(() => {\n    if (Number(feeAmount0) === 0 && Number(feeAmount1) === 0) return false;\n    return true;\n  }, [feeAmount0, feeAmount1]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  let buttonGridXS = 6;\n  if (!noLiquidity && hasUnclaimedFees && !invalid) {\n    buttonGridXS = 4;\n  }\n\n  if (matchDownSM) {\n    buttonGridXS = 12;\n  }\n\n  const [confirmModalShow, setConfirmModalShow] = useState(false);\n\n  const handleConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!position || !positionId || loading || !principal) {\n        return;\n      }\n\n      const loadingTipKey = openLoadingTip(`Remove ${token0?.symbol}/${token1?.symbol} liquidity`);\n      setConfirmModalShow(false);\n\n      const partialPosition = new Position({\n        pool: position.pool,\n        liquidity: position.liquidity,\n        tickLower: position.tickLower,\n        tickUpper: position.tickUpper,\n      });\n\n      const { amount0: amount0Min, amount1: amount1Min } = partialPosition.burnAmountsWithSlippage(\n        slippageToPercent(slippageTolerance),\n      );\n\n      const { status, message } = await decreaseV1Liquidity(identity, {\n        tokenId: BigInt(positionId),\n        liquidity: partialPosition.liquidity.toString(),\n        amount0Min: amount0Min.toString(),\n        amount1Min: amount1Min.toString(),\n        deadline: BigInt(transactionsDeadline),\n        recipient: principal,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Removed liquidity successfully`);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to remove liquidity`);\n      }\n    },\n    [position, slippageTolerance, positionId, transactionsDeadline, account],\n  );\n\n  const discountedAmount0 = position ? position.amount0.quotient : undefined;\n  const discountedAmount1 = position ? position.amount1.quotient : undefined;\n\n  const parsedAmounts = {\n    [BURN_FIELD.CURRENCY_A]:\n      token0 && discountedAmount0 ? CurrencyAmount.fromRawAmount(token0, discountedAmount0) : undefined,\n    [BURN_FIELD.CURRENCY_B]:\n      token1 && discountedAmount1 ? CurrencyAmount.fromRawAmount(token1, discountedAmount1) : undefined,\n  };\n\n  const formattedAmounts = {\n    [BURN_FIELD.CURRENCY_A]:\n      parsedAmounts[BURN_FIELD.CURRENCY_A]?.toFixed(\n        CurrencyAmountFormatDecimals(parsedAmounts[BURN_FIELD.CURRENCY_A]?.currency.decimals),\n      ) ?? \"\",\n    [BURN_FIELD.CURRENCY_B]:\n      parsedAmounts[BURN_FIELD.CURRENCY_B]?.toFixed(\n        CurrencyAmountFormatDecimals(parsedAmounts[BURN_FIELD.CURRENCY_B]?.currency.decimals),\n      ) ?? \"\",\n  };\n\n  return (\n    <>\n      <Grid mt={1} className={classes.detailContainer} sx={{ display: show ? \"block\" : \"none\" }}>\n        <DetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n              : position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n              : position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0\n              ? inverted\n                ? pool?.priceOf(token1)\n                  ? `${pool?.priceOf(token1).toSignificant(6)} ${pairName}`\n                  : \"--\"\n                : pool?.priceOf(token0)\n                  ? `${pool?.priceOf(token0).toSignificant(6)} ${pairName}`\n                  : \"--\"\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Price Range`}\n          value={`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} - ${formatTickPrice(\n            priceUpper,\n            tickAtLimit,\n            Bound.UPPER,\n          )} ${pairName}`}\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Unclaimed fees`}\n          value={`${currencyFeeAmount0?.toExact() ?? 0} ${token0?.symbol} and ${currencyFeeAmount1?.toExact() ?? 0\n            } ${token1?.symbol}`}\n        />\n        {showButtons && (\n          <Grid\n            container\n            mt={3}\n            justifyContent={noLiquidity || !hasUnclaimedFees ? \"flex-end\" : \"space-between\"}\n            spacing=\"20px\"\n            flexDirection={matchDownSM ? \"column\" : \"row\"}\n          >\n            {!noLiquidity && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={() => setConfirmModalShow(true)}>\n                  <Trans>Remove Liquidity</Trans>\n                </Button>\n              </Grid>\n            )}\n            {hasUnclaimedFees && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleCollectFee}>\n                  <Trans>Claim fees</Trans>\n                </Button>\n              </Grid>\n            )}\n          </Grid>\n        )}\n      </Grid>\n\n      {collectFeesShow ? (\n        <Identity onSubmit={onCollectConfirm}>\n          {({ submit, loading }: CallbackProps) => (\n            <CollectFeesModal\n              open={collectFeesShow}\n              token0={token0}\n              token1={token1}\n              currencyFeeAmount0={currencyFeeAmount0}\n              currencyFeeAmount1={currencyFeeAmount1}\n              onClose={() => setCollectFeesShow(false)}\n              onConfirm={submit}\n              loading={loading}\n            />\n          )}\n        </Identity>\n      ) : null}\n\n      {confirmModalShow && (\n        <Identity onSubmit={handleConfirm} fullScreenLoading>\n          {({ submit }: CallbackProps) => (\n            <ConfirmRemoveLiquidityModal\n              open={confirmModalShow}\n              onConfirm={submit}\n              onCancel={() => setConfirmModalShow(false)}\n              currencyA={token0}\n              currencyB={token1}\n              formattedAmounts={formattedAmounts}\n            />\n          )}\n        </Identity>\n      )}\n    </>\n  );\n}\n\nexport interface PositionItemProps {\n  positionId: bigint | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n}\n\nexport default function PositionItem({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n}: PositionItemProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const [detailShow, setDetailShow] = useState<boolean | undefined>(undefined);\n\n  const handleToggleShow = useCallback(() => {\n    if (!position) return;\n    setDetailShow(!detailShow);\n  }, [detailShow, setDetailShow, position]);\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  return (\n    <>\n      <Grid className={classes.positionContainer} container alignItems=\"center\" onClick={handleToggleShow}>\n        {!position && <Loading loading={!position} circularSize={28} />}\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#273155\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid container alignItems=\"center\">\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n            <Grid item ml={matchDownMD ? \"5px\" : \"10px\"}>\n              <Grid container alignItems=\"center\">\n                {detailShow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {typeof detailShow !== \"boolean\" ? null : (\n        <PositionDetails\n          position={position}\n          positionId={positionId}\n          invalid={invalid}\n          showButtons={showButtons}\n          manuallyInverted={manuallyInverted}\n          setManuallyInverted={setManuallyInverted}\n          show={detailShow}\n        />\n      )}\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Box } from \"@mui/material\";\nimport PositionItemComponent from \"components/swap/HistoryPositionItem\";\nimport { usePositionInfoV1 } from \"hooks/swap/v2/usePosition\";\nimport { t } from \"@lingui/macro\";\nimport Modal from \"components/modal/swap\";\nimport { NoData } from \"components/index\";\nimport { UserPosition } from \"types/swapv2\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport { useUserV1Positions } from \"store/swapv2/liquidity/hooks\";\n\nfunction hasLiquidity(position: UserPosition | undefined) {\n  return position?.liquidity.toString() !== \"0\";\n}\n\nfunction PositionItem({ position: positionDetail }: { position: UserPosition | undefined }) {\n  const { position } = usePositionInfoV1(positionDetail);\n  const noLiquidity = !hasLiquidity(positionDetail);\n\n  return !noLiquidity ? (\n    <PositionItemComponent\n      position={position}\n      positionId={positionDetail?.id}\n      showButtons\n      invalid\n      closed={noLiquidity}\n    />\n  ) : null;\n}\n\nexport default function HistoryPositions({ open, onClose }: { open: boolean; onClose: () => void }) {\n  const { loading, result: userPositions } = useUserV1Positions();\n\n  const hasLiquidityPositions = useMemo(() => {\n    return userPositions.filter((position) => hasLiquidity(position)).length !== 0;\n  }, [userPositions]);\n\n  return (\n    <Modal open={open} title={t`Your History Positions`} onClose={onClose}>\n      <Box\n        sx={{\n          maxHeight: \"500px\",\n          overflow: \"auto\",\n        }}\n      >\n        {loading ? (\n          <LoadingRow>\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n          </LoadingRow>\n        ) : (\n          <>\n            {!hasLiquidityPositions || userPositions.length === 0 ? (\n              <Box mt={2}>\n                <NoData />\n              </Box>\n            ) : null}\n            <Box>\n              {userPositions.map((position, index) => (\n                <PositionItem key={position?.id ? String(position?.id) : index} position={position} />\n              ))}\n            </Box>\n          </>\n        )}\n      </Box>\n    </Modal>\n  );\n}\n","import { useCallback, useState, useMemo } from \"react\";\nimport { Typography, Box, Grid, Checkbox, useMediaQuery, useTheme } from \"@mui/material\";\nimport PositionItemComponent from \"components/swap/v2/PositionItem\";\nimport { usePositionInfo } from \"hooks/swap/v2/usePosition\";\nimport { useUserPositions, useQueryUserPositions } from \"store/swapv2/liquidity/hooks\";\nimport { Trans } from \"@lingui/macro\";\nimport HistoryPositions from \"components/swap/HistoryPositions\";\nimport { TextButton, NoData, MainCard, LoadingRow } from \"components/index\";\nimport { UserPosition } from \"types/swapv2\";\nimport { useClosedPositionManager } from \"store/swap/cache/hooks\";\n\nfunction hasLiquidity(position: UserPosition | undefined) {\n  return position?.liquidity?.toString() !== \"0\";\n}\n\nfunction PositionItem({\n  position: positionDetail,\n  showClosedPosition,\n}: {\n  position: UserPosition | undefined;\n  showClosedPosition?: boolean;\n}) {\n  const { position } = usePositionInfo(positionDetail);\n  const noLiquidity = !hasLiquidity(positionDetail);\n\n  return !showClosedPosition && noLiquidity ? null : (\n    <PositionItemComponent closed={noLiquidity} position={position} positionId={positionDetail?.id} showButtons />\n  );\n}\n\nexport default function Positions() {\n  const userPositions = useUserPositions();\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n\n  const loading = useQueryUserPositions();\n\n  const [showClosedPosition, updateShowClosedPosition] = useClosedPositionManager();\n\n  const handleShowClosedPosition = useCallback(() => {\n    updateShowClosedPosition(!showClosedPosition);\n  }, [updateShowClosedPosition, showClosedPosition]);\n\n  const hasLiquidityPositions = useMemo(() => {\n    return userPositions.filter((position) => hasLiquidity(position)).length !== 0;\n  }, [userPositions]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  return (\n    <>\n      <Grid item xs={12} lg={6} sx={{ height: \"100%\" }}>\n        <MainCard level={1} className=\"lightGray200\">\n          <Box\n            sx={{\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 2fr\",\n              margin: \"0px 0px 16px 0\",\n            }}\n          >\n            <Box>\n              <Grid container alignItems=\"center\" sx={{ height: \"100%\" }}>\n                <Typography variant=\"h3\" color=\"textPrimary\">\n                  <Trans>Your Positions</Trans>\n                </Typography>\n              </Grid>\n            </Box>\n            <Box>\n              <Grid\n                container\n                justifyContent=\"flex-end\"\n                alignItems=\"center\"\n                sx={{\n                  cursor: \"pointer\",\n                  userSelect: \"none\",\n                }}\n              >\n                <Typography\n                  color=\"textPrimary\"\n                  component=\"span\"\n                  onClick={handleShowClosedPosition}\n                  sx={{\n                    ...(matchDownSM ? { fontSize: \"12px\" } : {}),\n                    marginRight: \"5px\",\n                  }}\n                >\n                  <Trans>Show closed positions</Trans>\n                </Typography>\n                <Checkbox\n                  sx={{ padding: \"0\" }}\n                  checked={showClosedPosition}\n                  onChange={({ target: { checked } }) => {\n                    updateShowClosedPosition(checked);\n                  }}\n                />\n              </Grid>\n            </Box>\n          </Box>\n          {loading ? (\n            <LoadingRow>\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n            </LoadingRow>\n          ) : (\n            <>\n              {(!hasLiquidityPositions && !showClosedPosition) || userPositions.length === 0 ? (\n                <Box mt={2}>\n                  <NoData />\n                </Box>\n              ) : null}\n              <Box>\n                {userPositions.map((position, index) => (\n                  <PositionItem\n                    key={position?.id ? String(position?.id) : index}\n                    position={position}\n                    showClosedPosition={showClosedPosition}\n                  />\n                ))}\n              </Box>\n            </>\n          )}\n        </MainCard>\n        {/* <Grid mt=\"10px\" container justifyContent=\"center\">\n          <TextButton onClick={() => setOpen(true)}>\n            <Trans>Your Invalid Positions?</Trans>\n          </TextButton>\n        </Grid> */}\n        {/* <Grid mt=\"10px\" container justifyContent=\"center\">\n          <TextButton onClick={() => setOpen(true)}>\n            <Trans>Your History Positions?</Trans>\n          </TextButton>\n        </Grid> */}\n        <TextButton sx={{ padding: \"0 0 0 20px\", margin: \"5px 0 0 0\" }} to=\"/swap/liquidity\">\n          <Trans>Check your positions in Swap V3</Trans>\n        </TextButton>\n      </Grid>\n      {open ? <HistoryPositions open={open} onClose={() => setOpen(false)} /> : null}\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useFourListedPools } from \"hooks/swap/v2/useSwapCalls\";\nimport { isDarkTheme } from \"utils/index\";\nimport { Theme } from \"@mui/material/styles\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport PoolCard from \"components/swap/PoolCard\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  const bgOpacity = isDarkTheme(theme) ? \"0.34\" : \"0.7\";\n\n  return {\n    wrapper: {\n      display: \"grid\",\n      gap: \"0 20px\",\n      gridTemplateColumns: \"repeat(4, 1fr)\",\n      overflow: \"hidden\",\n      width: \"100%\",\n      \"@media (max-width:1140px)\": {\n        gridGap: \"10px 10px\",\n        gridTemplateColumns: \"1fr 1fr\",\n      },\n      \"@media (max-width:640px)\": {\n        gridGap: \"10px 0\",\n        gridTemplateColumns: \"1fr\",\n      },\n      \"& .title\": {\n        color: \"rgba(255, 255, 255, 0.6)\",\n      },\n      \"& .value\": {\n        color: \"#ffffff\",\n      },\n    },\n    topBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n    },\n    listWrapper: {\n      \"& .list-item\": {\n        position: \"relative\",\n        overflow: \"hidden\",\n        border: \"1px solid rgba(255, 255, 255, 0.04)\",\n      },\n      \"& .list-item-color-box\": {\n        position: \"absolute\",\n        left: \"10px\",\n        bottom: \"7px\",\n        width: \"98px\",\n        height: \"98px\",\n        filter: \"blur(34px)\",\n        zIndex: \"-1\",\n      },\n      \"&:first-child\": {\n        \"& .list-item\": {\n          background: `rgba(80, 95, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#3644C2\",\n        },\n        \"& .feeAmount\": {\n          background: \"#4D5CA9\",\n        },\n      },\n      \"&:nth-child(2)\": {\n        \"& .list-item\": {\n          background: `rgba(101, 80, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#5D0A9E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#654DA9\",\n        },\n      },\n      \"&:nth-child(3)\": {\n        \"& .list-item\": {\n          background: `rgba(45, 148, 243, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#0A609E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#2D94F3\",\n        },\n      },\n      \"&:nth-child(4)\": {\n        \"& .list-item\": {\n          background: `rgba(162, 88, 145, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#9E0A8F\",\n        },\n        \"& .feeAmount\": {\n          background: \"#833780\",\n        },\n      },\n    },\n  };\n});\n\nexport default function PoolList() {\n  const classes = useStyles();\n\n  const { result: pools, loading } = useFourListedPools();\n\n  const poolList = useMemo(() => {\n    if (!pools) return [];\n\n    return pools\n      .filter((pool) => {\n        return pool.tvlUSD !== Infinity && pool.totalVolumeUSD !== Infinity;\n      })\n      .sort((a, b) => {\n        if (a.totalVolumeUSD > b.totalVolumeUSD) {\n          return -1;\n        }\n        return 1;\n      })\n      .filter((pool) => pool.feeTier === BigInt(3000))\n      .slice(0, 4);\n  }, [pools]);\n\n  return loading ? (\n    <LoadingRow>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRow>\n  ) : (\n    <Box className={classes.wrapper}>\n      {poolList.map((pool, index) => (\n        <Box className={classes.listWrapper} key={index}>\n          <PoolCard\n            token0={pool.token0Id}\n            token1={pool.token1Id}\n            token0Symbol={pool.token0Symbol}\n            token1Symbol={pool.token1Symbol}\n            tvlUSD={pool.tvlUSD}\n            totalVolumeUSD={pool.totalVolumeUSD}\n            fee={pool.feeTier}\n            version=\"v2\"\n          />\n        </Box>\n      ))}\n    </Box>\n  );\n}\n","import { useEffect } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { SwapV2Wrapper } from \"components/swap/SwapUIWrapper\";\nimport { useUpdatePoolTokenStandardCallback } from \"hooks/swap/v2/index\";\nimport { usePoolList } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePoolStandardManager } from \"store/global/hooks\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport LiquidityPoolIntro from \"components/swap/LiquidityPoolIntro\";\nimport Positions from \"./Positions\";\nimport PoolList from \"./PoolList\";\n\nexport default function Liquidity() {\n  const [isInitialed, updatePoolStandardInitialed] = usePoolStandardManager();\n  const updatePoolTokenStandard = useUpdatePoolTokenStandardCallback();\n  const { pools } = usePoolList();\n\n  useEffect(() => {\n    const call = async () => {\n      if (pools && pools.length && !isInitialed) {\n        const calls: Promise<void>[] = [];\n\n        for (let i = 0; i < pools.length; i++) {\n          const pool = pools[i];\n\n          if (!!pool && !!pool?.pool) {\n            calls.push(updatePoolTokenStandard(pool.pool, pool.token0));\n            calls.push(updatePoolTokenStandard(pool.pool, pool.token1));\n          }\n        }\n\n        Promise.all(calls).finally(() => {\n          updatePoolStandardInitialed(true);\n        });\n      }\n    };\n\n    call();\n  }, [pools]);\n\n  return (\n    <SwapV2Wrapper>\n      {!isInitialed ? (\n        <LoadingRow>\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </LoadingRow>\n      ) : (\n        <>\n          <PoolList />\n          <Grid container mt={4} spacing={2}>\n            <Grid item xs={12} lg={6}>\n              <LiquidityPoolIntro version=\"v2\" />\n            </Grid>\n            <Positions />\n          </Grid>\n        </>\n      )}\n    </SwapV2Wrapper>\n  );\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z\"\n}), 'KeyboardArrowUp');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z\"\n}), 'SyncAlt');","import { Position } from \"../entities/position\";\n\nexport function getPriceOrderingFromPositionForUI(position: Position | undefined) {\n  if (!position) return {};\n\n  const token0 = position.amount0.currency;\n  const token1 = position.amount1.currency;\n\n  // if both prices are below 1, invert\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    };\n  }\n\n  // otherwise, just return the default\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0,\n  };\n}\n","import { Token } from \"../core/entities/token\";\nimport { Price } from \"../core/entities/fractions/price\";\n\ninterface useInverterProps {\n  priceLower: Price<Token, Token> | undefined;\n  priceUpper: Price<Token, Token> | undefined;\n  quote: Token | undefined;\n  base: Token | undefined;\n  invert: boolean;\n}\n\nexport function useInverter({ priceLower, priceUpper, quote, base, invert }: useInverterProps) {\n  return {\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\n    priceLower: invert ? priceUpper?.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base,\n  };\n}\n"],"names":["useStyles","makeStyles","floatLeft","float","avatarBox","clear","overflow","marginLeft","CurrenciesAvatar","_ref","currencyA","currencyB","borderColor","bgColor","size","classes","_jsxs","Box","className","children","_jsx","CurrencyAvatar","currency","avatar","width","height","border","concat","_ref2","Avatar","sx","bgcolor","src","logo","useStyle","button","LiquidityPoolIntro","version","history","useHistory","loadAddLiquidity","useCallback","push","MainCard","level","Typography","variant","align","color","Trans","id","mt","fontSize","Grid","container","justifyContent","item","Button","onClick","theme","topBox","listItem","padding","borderRadius","radius","cursor","poolName","margin","fontWeight","feeAmount","poolData","marginTop","PoolCard","_ref3","token0","token1","fee","totalVolumeUSD","tvlUSD","token0Symbol","token1Symbol","currency0","useToken","currency1","handlePoolClick","Number","alignItems","symbol","feeAmountToPercentage","flexDirection","xs","formatDollarAmount","wrapper","display","background","colors","darkPrimary400","darkLevel1","Marker","props","SvgIcon","viewBox","d","fill","Closed","component","OutOfRange","InRange","marginRight","PositionRangeState","outOfRange","closed","LinkIcon","xmlns","fillRule","clipRule","SwapWrapper","buttons","Wrapper","TabPanel","tabs","SwapV2Wrapper","value","i18n","_","path","key","position","top","_SwapWrapper","JSBI","BigInt","BIPS_BASE","ALLOWED_PRICE_IMPACT_LOW","Percent","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","BLOCKED_PRICE_IMPACT_NON_EXPERT","MaxUint128","subtract","exponentiate","usePositionFees","canisterId","positionId","refresh","result","usePositionFee","useMemo","amount0","tokensOwed0","amount1","tokensOwed1","undefined","usePositionInfo","positionDetails","poolState","pool","usePool","Position","liquidity","toString","tickLower","tickUpper","loading","PoolState","LOADING","usePositionInfoV1","usePoolV1","invalid","reload","usePositionFeesCall","feeBox","palette","level3","CollectFeesModal","open","onClose","onConfirm","currencyFeeAmount0","currencyFeeAmount1","SwapModal","title","_Fragment","mr","TokenImage","tokenId","address","toFormat","BigNumber","toExact","toFixed","fullWidth","disabled","startIcon","CircularProgress","positionContainer","backgroundColor","gray200","breakpoints","down","detailContainer","DetailItem","memo","label","convert","onConvertClick","useTheme","matchDownSM","useMediaQuery","SyncAltIcon","PositionDetails","showButtons","manuallyInverted","setManuallyInverted","show","account","useAccount","principal","useAccountPrincipal","openErrorTip","useErrorTip","openSuccessTip","useSuccessTip","openLoadingTip","closeLoadingTip","useLoadingTip","collectFeesShow","setCollectFeesShow","useState","reloadPositionFee","setReloadPositionFee","noLiquidity","handleLoadRemoveLiquidity","String","handleLoadIncreaseLiquidity","handleCollectFee","_tickAtLimit","useIsTickAtLimit","pricesFromPosition","getPriceOrderingFromPositionForUI","priceLower","priceUpper","base","useInverter","quote","invert","inverted","equals","tickAtLimit","Bound","LOWER","UPPER","currencyQuote","currencyBase","pairName","feeAmount0","feeAmount1","CurrencyAmount","fromRawAmount","numberToString","collectFeesCall","useCollectFeesCall","onCollectConfirm","async","identity","_currencyFeeAmount0$t","_currencyFeeAmount1$t","loadingTipKey","multipliedBy","status","message","recipient","amount0Max","amount1Max","internalCall","_getLocaleMessage","getLocaleMessage","hasUnclaimedFees","buttonGridXS","values","0","CurrencyAmountFormatDecimals","decimals","priceOf","toSignificant","formatTickPrice","spacing","Identity","onSubmit","_ref4","submit","PositionItem","_ref5","matchDownMD","detailShow","setDetailShow","handleToggleShow","tickCurrent","Loading","circularSize","isDarkTheme","mx","Chip","DEFAULT_PERCENT_SYMBOL","PositionStatus","ml","KeyboardArrowUp","KeyboardArrowDown","_formattedAmounts$BUR","_formattedAmounts$BUR2","onCancel","formattedAmounts","wrapped","BURN_FIELD","CURRENCY_A","CURRENCY_B","_parsedAmounts$BURN_F","_parsedAmounts$BURN_F2","_parsedAmounts$BURN_F3","_parsedAmounts$BURN_F4","_parsedAmounts$BURN_F5","_parsedAmounts$BURN_F6","slippageTolerance","useSlippageManager","transactionsDeadline","useUserTransactionsDeadline","confirmModalShow","setConfirmModalShow","handleConfirm","partialPosition","amount0Min","amount1Min","burnAmountsWithSlippage","slippageToPercent","decreaseV1Liquidity","deadline","_getLocaleMessage2","discountedAmount0","quotient","discountedAmount1","parsedAmounts","fullScreenLoading","_ref6","ConfirmRemoveLiquidityModal","_ref7","hasLiquidity","positionDetail","PositionItemComponent","HistoryPositions","userPositions","useUserV1Positions","hasLiquidityPositions","filter","length","Modal","maxHeight","LoadingRow","NoData","map","index","_position$liquidity","showClosedPosition","Positions","useUserPositions","setOpen","useQueryUserPositions","updateShowClosedPosition","useClosedPositionManager","handleShowClosedPosition","lg","gridTemplateColumns","userSelect","Checkbox","checked","onChange","target","TextButton","to","bgOpacity","gap","gridGap","listWrapper","left","bottom","zIndex","PoolList","pools","useFourListedPools","poolList","Infinity","sort","a","b","feeTier","slice","token0Id","token1Id","Liquidity","isInitialed","updatePoolStandardInitialed","usePoolStandardManager","updatePoolTokenStandard","useUpdatePoolTokenStandardCallback","usePoolList","useEffect","calls","i","Promise","all","finally","call","createSvgIcon","token0PriceUpper","lessThan","token0PriceLower"],"sourceRoot":""}