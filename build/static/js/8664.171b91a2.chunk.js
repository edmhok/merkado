"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[8664],{84856:(e,i,n)=>{n.d(i,{A:()=>u});var t=n(3481),l=n(33441),s=n(77500),d=n(1054),o=n(4102),a=n(11871),r=n(84285),x=n(16443),c=n(37012);function u(){const[,e]=(0,x.R5)();return(0,c.jsx)(l.Ay,{container:!0,justifyContent:"center",children:(0,c.jsx)(s.A,{sx:{maxWidth:"1400px",width:"100%"},children:(0,c.jsx)(a.Am,{level:3,children:(0,c.jsxs)(l.Ay,{container:!0,alignItems:"center",flexDirection:"column",sx:{height:"250px"},children:[(0,c.jsx)(r.A,{}),(0,c.jsx)(d.A,{color:"text.primary",children:(0,c.jsx)(t.x6,{id:"FAJ5Zb"})}),(0,c.jsx)(o.A,{variant:"contained",onClick:()=>e(!0),sx:{width:"100%",maxWidth:"522px",marginTop:"23px"},size:"large",children:(0,c.jsx)(t.x6,{id:"CtByM7"})})]})})})})}},48664:(e,i,n)=>{n.r(i),n.d(i,{TokenClaimItem:()=>C,default:()=>b});var t=n(3481),l=n(54711),s=n(72296),d=n(77500),o=n(1054),a=n(29160),r=n(4102),x=n(92213),c=n(33441),u=n(69770),h=n(11871),j=n(20451),m=n(12288),v=n(16443),g=n(85066),p=n(67982),f=n(97070),A=n(62474),y=n(55484),I=n(84076),k=n(84856),w=n(37012);function C(e){var i,n,c,h;let{ele:p}=e;const k=(0,u.A)(),{result:C}=(0,f.Vs)(p.tokenCid),[b,W]=(0,s.useState)(!1),[S,E]=(0,y.cO)(),R=(0,v.WT)(),{result:O,loading:T}=(0,j.yv)(R,p.claimEventId,void 0,0,10),z=null===(i=(null!==(n=null===O||void 0===O?void 0:O.content)&&void 0!==n?n:[]).filter((e=>e.claimAmount>BigInt(0)))[0])||void 0===i?void 0:i.claimAmount,N=(null!==(c=null===O||void 0===O?void 0:O.content)&&void 0!==c?c:[]).filter((e=>e.claimStatus===BigInt(1))).length>0;return(0,w.jsxs)(d.A,{sx:{background:k.palette.background.level1,borderRadius:"12px",padding:"24px",display:"flex",justifyContent:"space-between"},children:[(0,w.jsxs)(d.A,{children:[(0,w.jsx)(o.A,{children:p.claimEventName}),(0,w.jsxs)(d.A,{sx:{margin:"8px 0 0 0",display:"flex",alignItems:"center"},children:[(0,w.jsx)(a.A,{src:null!==(h=null===C||void 0===C?void 0:C.logo)&&void 0!==h?h:"",sx:{width:"20px",height:"20px"},children:"\xa0"}),(0,w.jsx)(o.A,{sx:{color:"#fff",margin:"0 0 0 8px",fontSize:"24px",fontWeight:500},children:z?(0,g.t)(z,null===C||void 0===C?void 0:C.decimals).toFormat():"--"})]})]}),(0,w.jsx)(d.A,{sx:{display:"flex",alignItems:"center"},children:(0,w.jsx)(A.A,{onSubmit:async(e,i)=>{let{loading:n,closeLoading:t}=i;if(!e||n)return;const s=S(l.Ru._({id:"v27lag",values:{0:p.claimEventName}}),y.lA.loading),{status:d,message:o}=await(0,j.ED)(p.claimEventId,p.claimCanisterId,e);d===m.i.OK&&W(!0),S(d===m.i.OK?l.Ru._({id:"OAUArQ"}):(0,I.If)(o),d),E(s),t()},children:e=>{let{submit:i,loading:n}=e;return(0,w.jsx)(r.A,{variant:"contained",onClick:i,disabled:n||N||b||T,startIcon:n?(0,w.jsx)(x.A,{size:20,color:"inherit"}):null,children:T?(0,w.jsx)(x.A,{size:20,color:"inherit"}):N||b?(0,w.jsx)(t.x6,{id:"hRWvpI"}):(0,w.jsx)(t.x6,{id:"hom7qf"})})}})})]})}function b(){var e;const i=(0,v.WT)(),[n,l]=(0,s.useState)(1),[a]=(0,p.g)(1,5),{result:r,loading:x}=(0,j.i0)(i,a,5),[u,m]=(0,s.useState)([]),[g,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{null!==r&&void 0!==r&&r.content&&m(r.content)}),[r]);const A=(0,v.RZ)();return(0,w.jsx)(h.mO,{children:A?(0,w.jsxs)(d.A,{sx:{paddingTop:"40px",maxWidth:"800px",width:"100%",margin:" 0 auto"},children:[(0,w.jsxs)(c.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,w.jsx)(o.A,{color:"text.primary",fontWeight:500,fontSize:"24px",children:(0,w.jsx)(t.x6,{id:"WNJThf"})}),(0,w.jsxs)(h.QW,{sx:{fontSize:"16px",fontWeight:500},to:"/token-claim/transactions/".concat(i),children:[(0,w.jsx)(t.x6,{id:"aiRkBN"})," >"]})]}),(0,w.jsxs)(d.A,{mt:"16px",sx:{display:"grid",gridTemplateRows:"1fr",gap:"16px 0"},children:[x?(0,w.jsxs)(h.FO,{children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]}):u.map((e=>(0,w.jsx)(C,{ele:e},e.claimEventId))),x||0!==u.length?null:(0,w.jsx)(h.YQ,{}),x||Number(null!==(e=null===r||void 0===r?void 0:r.totalElements)&&void 0!==e?e:0)===u.length?null:(0,w.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,w.jsx)(h.lO,{loading:g,onClick:async()=>{if(!i)return;l(n+1);const[e]=(0,p.g)(n+1,5);f(!0);const t=await(0,j.r3)(i,e,5);null!==t&&void 0!==t&&t.content&&m([...u,...t.content]),f(!1)}})})]})]}):(0,w.jsx)(k.A,{})})}}}]);
//# sourceMappingURL=8664.171b91a2.chunk.js.map